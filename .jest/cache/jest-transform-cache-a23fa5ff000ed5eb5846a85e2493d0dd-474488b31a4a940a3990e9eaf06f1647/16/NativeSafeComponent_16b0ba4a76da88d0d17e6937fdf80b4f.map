{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","_reactNative","require","_dedent","_dedent2","_interopRequireDefault","_SafeModule","_SafeModule2","obj","__esModule","default","strings","raw","freeze","defineProperties","value","first","array","fn","result","getViewManagerConfig","moduleName","UIManager","moduleWithName","nameOrArray","Array","isArray","findFirstResolver","namespace","findFirstOnNamespace","findFirstViewName","getPrimaryName","defaultGetVersion","module","VERSION","SafeComponentCreate","options","Error","viewName","propOverrides","componentOverrides","mockComponent","mock","getVersion","PRIMARY_VIEW_NAME","realViewName","realViewConfig","moduleOptions","nativeModule","version","Constants","overrides","boundOverrides","NativeProps","nativeComponent","requireNativeComponent","runCommand","instance","name","_len","args","_key","native","dispatchViewManagerCommand","findNodeHandle","Commands","Platform","select","android","ios","apply","concat","windows","_default","updateView","props","_overrides","__DEV__","console","error","exports"],"sources":["NativeSafeComponent.js"],"sourcesContent":["var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _templateObject=_taggedTemplateLiteral(['\\n      SafeModule.create(...) was invoked without any options parameter.\\n    '],['\\n      SafeModule.create(...) was invoked without any options parameter.\\n    ']),_templateObject2=_taggedTemplateLiteral(['\\n             When attempting to resolve the native component ',',\\n             componentOverrides.',' is expected to be a function, but found\\n             ',' instead.\\n          '],['\\n             When attempting to resolve the native component ',',\\n             componentOverrides.',' is expected to be a function, but found\\n             ',' instead.\\n          ']),_templateObject3=_taggedTemplateLiteral(['\\n            When attempting to resolve the native component ',',\\n            componentOverrides.',' is expected to be a function that returns a React\\n            component. Instead, ',' was found.\\n          '],['\\n            When attempting to resolve the native component ',',\\n            componentOverrides.',' is expected to be a function that returns a React\\n            component. Instead, ',' was found.\\n          ']);var _reactNative=require('react-native');\n\n\n\n\n\nvar _dedent=require('dedent');var _dedent2=_interopRequireDefault(_dedent);\nvar _SafeModule=require('./SafeModule');var _SafeModule2=_interopRequireDefault(_SafeModule);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}\n\nvar first=function first(array,fn){\nvar result=void 0;\nvar i=0;\n\nfor(;i<array.length;i++){\nresult=fn(array[i]);\nif(result)return result;\n}\nreturn null;\n};\n\nvar getViewManagerConfig=function getViewManagerConfig(moduleName){\nif(_reactNative.UIManager.getViewManagerConfig){\n\nreturn _reactNative.UIManager.getViewManagerConfig(moduleName);\n}\n\n\nreturn _reactNative.UIManager[moduleName];\n};\n\nvar moduleWithName=function moduleWithName(nameOrArray){\nif(!nameOrArray)return null;\nif(Array.isArray(nameOrArray))return first(nameOrArray,moduleWithName);\nreturn getViewManagerConfig(nameOrArray);\n};\n\nvar findFirstResolver=function findFirstResolver(namespace){return function findFirstOnNamespace(nameOrArray){\nif(!nameOrArray)return null;\nif(Array.isArray(nameOrArray))return first(nameOrArray,findFirstOnNamespace);\nreturn nameOrArray in namespace?nameOrArray:null;\n};};\n\nvar findFirstViewName=findFirstResolver(_reactNative.UIManager);\n\nvar getPrimaryName=function getPrimaryName(nameOrArray){\nreturn Array.isArray(nameOrArray)?getPrimaryName(nameOrArray[0]):nameOrArray;\n};\n\nvar defaultGetVersion=function defaultGetVersion(module){return module.VERSION;};\n\nfunction SafeComponentCreate(options){\nif(!options){\nthrow new Error((0,_dedent2.default)(_templateObject));\n\n\n}var\n\nviewName=\n\n\n\n\noptions.viewName,propOverrides=options.propOverrides,componentOverrides=options.componentOverrides,mockComponent=options.mockComponent,mock=options.mock;var\n\ngetVersion=\noptions.getVersion;\n\nif(!getVersion){\ngetVersion=defaultGetVersion;\n}\n\nif(!viewName){\nthrow new Error('\\n      SafeModule.component(...) requires a viewName property to be specified.\\n    ');\n\n\n}\n\nif(!mockComponent){\nthrow new Error('\\n      SafeModule.component(...) requires a mockComponent property to be specified.\\n    ');\n\n\n}\n\nvar PRIMARY_VIEW_NAME=getPrimaryName(viewName);\n\nvar realViewName=findFirstViewName(viewName);\nvar realViewConfig=getViewManagerConfig(realViewName);\n\nif(!realViewName||!realViewConfig){\nreturn mockComponent;\n}\n\nvar moduleOptions=_extends({},options,{\nmock:mock||{},\nmoduleName:realViewName+'Manager'});\n\n\nvar nativeModule=(0,_SafeModule2.default)(moduleOptions);\n\nvar version=getVersion(realViewConfig.Constants||{});\n\nif(propOverrides){\nvar overrides=propOverrides[version];\nvar boundOverrides={};\nif(overrides){\nif(typeof overrides==='function'){\nboundOverrides=overrides(realViewConfig.NativeProps,realViewConfig,nativeModule);\n}else{\nboundOverrides=_extends({},overrides);\n}\n}\n_extends(realViewConfig.NativeProps,boundOverrides);\n}\n\nvar nativeComponent=(0,_reactNative.requireNativeComponent)(realViewName);\n\nvar result=nativeComponent;\n\nresult.runCommand=function(instance,name){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key];}\nvar native=function native(){return _reactNative.UIManager.dispatchViewManagerCommand(\n(0,_reactNative.findNodeHandle)(instance),\ngetViewManagerConfig(realViewName).Commands[name],\nargs);};\n\nreturn _reactNative.Platform.select({\nandroid:native,\nios:function ios(){return nativeModule[name].apply(nativeModule,[(0,_reactNative.findNodeHandle)(instance)].concat(args));},\nwindows:native,\ndefault:function _default(){}})();\n\n};\n\nresult.updateView=function(instance,props){\nvar native=function native(){return _reactNative.UIManager.updateView((0,_reactNative.findNodeHandle)(instance),realViewName,props);};\n_reactNative.Platform.select({\nios:native,\nandroid:native,\nwindows:native,\ndefault:function _default(){}})();\n\n};\n\nif(componentOverrides){\nvar _overrides=componentOverrides[version];\nif(_overrides){\nif(__DEV__){\nif(typeof _overrides!=='function'){\nconsole.error((0,_dedent2.default)(_templateObject2,\nPRIMARY_VIEW_NAME,\nversion,\ntypeof _overrides));\n\n}\n}\n\nresult=_overrides(nativeComponent,nativeModule);\n\nif(__DEV__){\nif(typeof result!=='function'){\nconsole.error((0,_dedent2.default)(_templateObject3,\nPRIMARY_VIEW_NAME,\nversion,\ntypeof result));\n\n}\n}\n}\n}\n\nreturn result;\n}\n\nmodule.exports=SafeComponentCreate;"],"mappings":"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"}
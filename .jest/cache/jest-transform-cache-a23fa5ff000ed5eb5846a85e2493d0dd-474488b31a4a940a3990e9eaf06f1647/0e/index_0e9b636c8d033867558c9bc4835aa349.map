{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_react","_interopRequireWildcard","_propTypes","_reactNative","_reactNativePermissions","_reactNativeCamera","_jsxRuntime","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","valueOf","e","CAMERA_FLASH_MODE","Camera","Constants","FlashMode","CAMERA_FLASH_MODES","torch","on","off","auto","QRCodeScanner","_Component","_super","props","_this","state","scanning","isCameraActivated","fadeInOpacity","Animated","Value","isAuthorized","isAuthorizationChecked","disableVibrationByUser","timer","_scannerTimeout","_handleBarCodeRead","bind","componentDidMount","_this2","Platform","OS","request","PERMISSIONS","IOS","CAMERA","then","cameraStatus","setState","RESULTS","GRANTED","checkAndroid6Permissions","PermissionsAndroid","title","permissionDialogTitle","message","permissionDialogMessage","buttonPositive","granted","fadeIn","sequence","delay","timing","toValue","easing","Easing","inOut","quad","useNativeDriver","start","componentWillUnmount","clearTimeout","disable","enable","_setScanning","_setCamera","_this3","_this4","vibrate","Vibration","onRead","reactivate","setTimeout","reactivateTimeout","_renderTopContent","topContent","_renderBottomContent","bottomContent","_renderCameraMarker","showMarker","customMarker","jsx","View","style","styles","rectangleContainer","children","rectangle","markerStyle","_renderCameraComponent","RNCamera","assign","androidCameraPermissionOptions","camera","cameraStyle","onBarCodeRead","type","cameraType","flashMode","captureAudio","cameraProps","_renderCamera","_this5","_this$props","notAuthorizedView","pendingAuthorizationView","cameraTimeoutView","TouchableWithoutFeedback","onPress","_this$state","cameraTimeout","opacity","backgroundColor","height","render","jsxs","mainContainer","containerStyle","infoView","topViewStyle","cameraContainerStyle","bottomViewStyle","Component","propTypes","PropTypes","func","isRequired","bool","number","oneOf","element","any","oneOfType","string","object","defaultProps","flex","alignItems","justifyContent","Text","textAlign","fontSize","Dimensions","width","color","StyleSheet","create","borderWidth","borderColor"],"sources":["index.js"],"sourcesContent":["'use strict';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  StyleSheet,\n  Dimensions,\n  Vibration,\n  Animated,\n  Easing,\n  View,\n  Text,\n  Platform,\n  TouchableWithoutFeedback,\n  PermissionsAndroid,\n} from 'react-native';\n\nimport { request, PERMISSIONS, RESULTS } from 'react-native-permissions';\nimport { RNCamera as Camera } from 'react-native-camera';\n\nconst CAMERA_FLASH_MODE = Camera.Constants.FlashMode;\nconst CAMERA_FLASH_MODES = [\n  CAMERA_FLASH_MODE.torch,\n  CAMERA_FLASH_MODE.on,\n  CAMERA_FLASH_MODE.off,\n  CAMERA_FLASH_MODE.auto,\n];\n\nexport default class QRCodeScanner extends Component {\n  static propTypes = {\n    onRead: PropTypes.func.isRequired,\n    vibrate: PropTypes.bool,\n    reactivate: PropTypes.bool,\n    reactivateTimeout: PropTypes.number,\n    cameraTimeout: PropTypes.number,\n    fadeIn: PropTypes.bool,\n    showMarker: PropTypes.bool,\n    cameraType: PropTypes.oneOf(['front', 'back']),\n    customMarker: PropTypes.element,\n    containerStyle: PropTypes.any,\n    cameraStyle: PropTypes.any,\n    cameraContainerStyle: PropTypes.any,\n    markerStyle: PropTypes.any,\n    topViewStyle: PropTypes.any,\n    bottomViewStyle: PropTypes.any,\n    topContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    bottomContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    notAuthorizedView: PropTypes.element,\n    permissionDialogTitle: PropTypes.string,\n    permissionDialogMessage: PropTypes.string,\n    buttonPositive: PropTypes.string,\n    checkAndroid6Permissions: PropTypes.bool,\n    flashMode: PropTypes.oneOf(CAMERA_FLASH_MODES),\n    cameraProps: PropTypes.object,\n    cameraTimeoutView: PropTypes.element,\n  };\n\n  static defaultProps = {\n    onRead: () => null,\n    reactivate: false,\n    vibrate: true,\n    reactivateTimeout: 0,\n    cameraTimeout: 0,\n    fadeIn: true,\n    showMarker: false,\n    cameraType: 'back',\n    notAuthorizedView: (\n      <View\n        style={{\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <Text\n          style={{\n            textAlign: 'center',\n            fontSize: 16,\n          }}\n        >\n          Camera not authorized\n        </Text>\n      </View>\n    ),\n    pendingAuthorizationView: (\n      <View\n        style={{\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <Text\n          style={{\n            textAlign: 'center',\n            fontSize: 16,\n          }}\n        >\n          ...\n        </Text>\n      </View>\n    ),\n    permissionDialogTitle: 'Info',\n    permissionDialogMessage: 'Need camera permission',\n    buttonPositive: 'OK',\n    checkAndroid6Permissions: false,\n    flashMode: CAMERA_FLASH_MODE.auto,\n    cameraProps: {},\n    cameraTimeoutView: (\n      <View\n        style={{\n          flex: 0,\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: Dimensions.get('window').height,\n          width: Dimensions.get('window').width,\n          backgroundColor: 'black',\n        }}\n      >\n        <Text style={{ color: 'white' }}>Tap to activate camera</Text>\n      </View>\n    ),\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      scanning: false,\n      isCameraActivated: true,\n      fadeInOpacity: new Animated.Value(0),\n      isAuthorized: false,\n      isAuthorizationChecked: false,\n      disableVibrationByUser: false,\n    };\n    this.timer = null;\n    this._scannerTimeout = null;\n    this._handleBarCodeRead = this._handleBarCodeRead.bind(this);\n  }\n\n  componentDidMount() {\n    if (Platform.OS === 'ios') {\n      request(PERMISSIONS.IOS.CAMERA).then(cameraStatus => {\n        this.setState({\n          isAuthorized: cameraStatus === RESULTS.GRANTED,\n          isAuthorizationChecked: true,\n        });\n      });\n    } else if (\n      Platform.OS === 'android' &&\n      this.props.checkAndroid6Permissions\n    ) {\n      PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.CAMERA, {\n        title: this.props.permissionDialogTitle,\n        message: this.props.permissionDialogMessage,\n        buttonPositive: this.props.buttonPositive,\n      }).then(granted => {\n        const isAuthorized = granted === PermissionsAndroid.RESULTS.GRANTED;\n\n        this.setState({ isAuthorized, isAuthorizationChecked: true });\n      });\n    } else {\n      this.setState({ isAuthorized: true, isAuthorizationChecked: true });\n    }\n\n    if (this.props.fadeIn) {\n      Animated.sequence([\n        Animated.delay(1000),\n        Animated.timing(this.state.fadeInOpacity, {\n          toValue: 1,\n          easing: Easing.inOut(Easing.quad),\n          useNativeDriver: true,\n        }),\n      ]).start();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._scannerTimeout !== null) {\n      clearTimeout(this._scannerTimeout);\n    }\n    if (this.timer !== null) {\n      clearTimeout(this.timer);\n    }\n    this.timer = null;\n    this._scannerTimeout = null;\n  }\n\n  disable() {\n    this.setState({ disableVibrationByUser: true });\n  }\n  enable() {\n    this.setState({ disableVibrationByUser: false });\n  }\n\n  _setScanning(value) {\n    this.setState({ scanning: value });\n  }\n\n  _setCamera(value) {\n    this.setState(\n      {\n        isCameraActivated: value,\n        scanning: false,\n        fadeInOpacity: new Animated.Value(0),\n      },\n      () => {\n        if (value && this.props.fadeIn) {\n          if (this.props.fadeIn) {\n            Animated.sequence([\n              Animated.delay(10),\n              Animated.timing(this.state.fadeInOpacity, {\n                toValue: 1,\n                easing: Easing.inOut(Easing.quad),\n                useNativeDriver: true,\n              }),\n            ]).start();\n          }\n        }\n      }\n    );\n  }\n\n  _handleBarCodeRead(e) {\n    if (!this.state.scanning && !this.state.disableVibrationByUser) {\n      if (this.props.vibrate) {\n        Vibration.vibrate();\n      }\n      this._setScanning(true);\n      this.props.onRead(e);\n      if (this.props.reactivate) {\n        this._scannerTimeout = setTimeout(\n          () => this._setScanning(false),\n          this.props.reactivateTimeout\n        );\n      }\n    }\n  }\n\n  _renderTopContent() {\n    if (this.props.topContent) {\n      return this.props.topContent;\n    }\n    return null;\n  }\n\n  _renderBottomContent() {\n    if (this.props.bottomContent) {\n      return this.props.bottomContent;\n    }\n    return null;\n  }\n\n  _renderCameraMarker() {\n    if (this.props.showMarker) {\n      if (this.props.customMarker) {\n        return this.props.customMarker;\n      } else {\n        return (\n          <View style={styles.rectangleContainer}>\n            <View\n              style={[\n                styles.rectangle,\n                this.props.markerStyle ? this.props.markerStyle : null,\n              ]}\n            />\n          </View>\n        );\n      }\n    }\n    return null;\n  }\n\n  _renderCameraComponent() {\n    return (\n      <Camera\n        androidCameraPermissionOptions={{\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive,\n        }}\n        style={[styles.camera, this.props.cameraStyle]}\n        onBarCodeRead={this._handleBarCodeRead.bind(this)}\n        type={this.props.cameraType}\n        flashMode={this.props.flashMode}\n        captureAudio={false}\n        {...this.props.cameraProps}\n      >\n        {this._renderCameraMarker()}\n      </Camera>\n    );\n  }\n\n  _renderCamera() {\n    const {\n      notAuthorizedView,\n      pendingAuthorizationView,\n      cameraType,\n      cameraTimeoutView,\n    } = this.props;\n\n    if (!this.state.isCameraActivated) {\n      return (\n        <TouchableWithoutFeedback onPress={() => this._setCamera(true)}>\n          {cameraTimeoutView}\n        </TouchableWithoutFeedback>\n      );\n    }\n\n    const { isAuthorized, isAuthorizationChecked } = this.state;\n    if (isAuthorized) {\n      if (this.props.cameraTimeout > 0) {\n        this.timer && clearTimeout(this.timer);\n        this.timer = setTimeout(\n          () => this._setCamera(false),\n          this.props.cameraTimeout\n        );\n      }\n\n      if (this.props.fadeIn) {\n        return (\n          <Animated.View\n            style={{\n              opacity: this.state.fadeInOpacity,\n              backgroundColor: 'transparent',\n              height:\n                (this.props.cameraStyle && this.props.cameraStyle.height) ||\n                styles.camera.height,\n            }}\n          >\n            {this._renderCameraComponent()}\n          </Animated.View>\n        );\n      }\n      return this._renderCameraComponent();\n    } else if (!isAuthorizationChecked) {\n      return pendingAuthorizationView;\n    } else {\n      return notAuthorizedView;\n    }\n  }\n\n  reactivate() {\n    this._setScanning(false);\n  }\n\n  render() {\n    return (\n      <View style={[styles.mainContainer, this.props.containerStyle]}>\n        <View style={[styles.infoView, this.props.topViewStyle]}>\n          {this._renderTopContent()}\n        </View>\n        <View style={this.props.cameraContainerStyle}>{this._renderCamera()}</View>\n        <View style={[styles.infoView, this.props.bottomViewStyle]}>\n          {this._renderBottomContent()}\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n  },\n  infoView: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: Dimensions.get('window').width,\n  },\n\n  camera: {\n    flex: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    height: Dimensions.get('window').width,\n    width: Dimensions.get('window').width,\n  },\n\n  rectangleContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n  },\n\n  rectangle: {\n    height: 250,\n    width: 250,\n    borderWidth: 2,\n    borderColor: '#00FF00',\n    backgroundColor: 'transparent',\n  },\n});\n"],"mappings":"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"}
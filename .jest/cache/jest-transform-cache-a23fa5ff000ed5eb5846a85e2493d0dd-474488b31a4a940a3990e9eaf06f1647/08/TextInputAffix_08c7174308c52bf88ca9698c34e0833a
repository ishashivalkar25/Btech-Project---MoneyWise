5ac512505cb5cb2c4d7ff258a035afff
"use strict";

var _interopRequireDefault2 = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault2(require("@babel/runtime/helpers/defineProperty"));
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.TextInputAffix = exports.AffixAdornment = void 0;
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("react-native");
var _theming = require("../../../core/theming");
var _helpers = require("../helpers");
var _enums = require("./enums");
var _utils = require("./utils");
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
var AffixContext = _react.default.createContext({
  textStyle: {
    fontFamily: '',
    color: ''
  },
  topPosition: null,
  side: _enums.AdornmentSide.Left
});
var AffixAdornment = function AffixAdornment(_ref) {
  var affix = _ref.affix,
    side = _ref.side,
    textStyle = _ref.textStyle,
    topPosition = _ref.topPosition,
    onLayout = _ref.onLayout,
    visible = _ref.visible,
    paddingHorizontal = _ref.paddingHorizontal,
    maxFontSizeMultiplier = _ref.maxFontSizeMultiplier,
    testID = _ref.testID,
    disabled = _ref.disabled;
  return _react.default.createElement(AffixContext.Provider, {
    value: {
      side: side,
      textStyle: textStyle,
      topPosition: topPosition,
      onLayout: onLayout,
      visible: visible,
      paddingHorizontal: paddingHorizontal,
      maxFontSizeMultiplier: maxFontSizeMultiplier,
      testID: testID,
      disabled: disabled
    }
  }, affix);
};
exports.AffixAdornment = AffixAdornment;
var TextInputAffix = function TextInputAffix(_ref2) {
  var text = _ref2.text,
    labelStyle = _ref2.textStyle,
    themeOverrides = _ref2.theme,
    onTextLayout = _ref2.onLayout;
  var theme = (0, _theming.useInternalTheme)(themeOverrides);
  var _ref3 = (0, _helpers.getConstants)(theme.isV3),
    AFFIX_OFFSET = _ref3.AFFIX_OFFSET;
  var _react$default$useCon = _react.default.useContext(AffixContext),
    textStyle = _react$default$useCon.textStyle,
    onLayout = _react$default$useCon.onLayout,
    topPosition = _react$default$useCon.topPosition,
    side = _react$default$useCon.side,
    visible = _react$default$useCon.visible,
    paddingHorizontal = _react$default$useCon.paddingHorizontal,
    maxFontSizeMultiplier = _react$default$useCon.maxFontSizeMultiplier,
    testID = _react$default$useCon.testID,
    disabled = _react$default$useCon.disabled;
  var offset = typeof paddingHorizontal === 'number' ? paddingHorizontal : AFFIX_OFFSET;
  var style = (0, _defineProperty2.default)({
    top: topPosition
  }, side, offset);
  var textColor = (0, _utils.getTextColor)({
    theme: theme,
    disabled: disabled
  });
  return _react.default.createElement(_reactNative.Animated.View, {
    style: [styles.container, style, {
      opacity: (visible === null || visible === void 0 ? void 0 : visible.interpolate({
        inputRange: [0, 1],
        outputRange: [1, 0]
      })) || 1
    }],
    onLayout: onLayout,
    testID: testID
  }, _react.default.createElement(_reactNative.Text, {
    maxFontSizeMultiplier: maxFontSizeMultiplier,
    style: [{
      color: textColor
    }, textStyle, labelStyle],
    onLayout: onTextLayout,
    testID: testID + "-text"
  }, text));
};
exports.TextInputAffix = TextInputAffix;
TextInputAffix.displayName = 'TextInput.Affix';
var styles = _reactNative.StyleSheet.create({
  container: {
    position: 'absolute',
    justifyContent: 'center',
    alignItems: 'center'
  }
});
var _default = TextInputAffix;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdE5hdGl2ZSIsIl90aGVtaW5nIiwiX2hlbHBlcnMiLCJfZW51bXMiLCJfdXRpbHMiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIkFmZml4Q29udGV4dCIsImNyZWF0ZUNvbnRleHQiLCJ0ZXh0U3R5bGUiLCJmb250RmFtaWx5IiwiY29sb3IiLCJ0b3BQb3NpdGlvbiIsInNpZGUiLCJBZG9ybm1lbnRTaWRlIiwiTGVmdCIsIkFmZml4QWRvcm5tZW50IiwiX3JlZiIsImFmZml4Iiwib25MYXlvdXQiLCJ2aXNpYmxlIiwicGFkZGluZ0hvcml6b250YWwiLCJtYXhGb250U2l6ZU11bHRpcGxpZXIiLCJ0ZXN0SUQiLCJkaXNhYmxlZCIsImNyZWF0ZUVsZW1lbnQiLCJQcm92aWRlciIsInZhbHVlIiwiZXhwb3J0cyIsIlRleHRJbnB1dEFmZml4IiwiX3JlZjIiLCJ0ZXh0IiwibGFiZWxTdHlsZSIsInRoZW1lT3ZlcnJpZGVzIiwidGhlbWUiLCJvblRleHRMYXlvdXQiLCJ1c2VJbnRlcm5hbFRoZW1lIiwiX3JlZjMiLCJnZXRDb25zdGFudHMiLCJpc1YzIiwiQUZGSVhfT0ZGU0VUIiwiX3JlYWN0JGRlZmF1bHQkdXNlQ29uIiwidXNlQ29udGV4dCIsIm9mZnNldCIsInN0eWxlIiwiX2RlZmluZVByb3BlcnR5MiIsInRvcCIsInRleHRDb2xvciIsImdldFRleHRDb2xvciIsIkFuaW1hdGVkIiwiVmlldyIsInN0eWxlcyIsImNvbnRhaW5lciIsIm9wYWNpdHkiLCJpbnRlcnBvbGF0ZSIsImlucHV0UmFuZ2UiLCJvdXRwdXRSYW5nZSIsIlRleHQiLCJkaXNwbGF5TmFtZSIsIlN0eWxlU2hlZXQiLCJjcmVhdGUiLCJwb3NpdGlvbiIsImp1c3RpZnlDb250ZW50IiwiYWxpZ25JdGVtcyIsIl9kZWZhdWx0Il0sInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVGV4dElucHV0L0Fkb3JubWVudC9UZXh0SW5wdXRBZmZpeC50c3giXSwic291cmNlc0NvbnRlbnQiOltudWxsXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsWUFBQSxHQUFBRCxPQUFBO0FBVUEsSUFBQUUsUUFBQSxHQUFBRixPQUFBO0FBRUEsSUFBQUcsUUFBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksTUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssTUFBQSxHQUFBTCxPQUFBO0FBQXVDLFNBQUFELHVCQUFBTyxHQUFBO0VBQUEsT0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQTtJQUFBRSxPQUFBLEVBQUFGO0VBQUE7QUFBQTtBQThCdkMsSUFBTUcsWUFBWSxHQUFHWCxNQUFBLENBQUFVLE9BQUssQ0FBQ0UsYUFBYSxDQUFlO0VBQ3JEQyxTQUFTLEVBQUU7SUFBRUMsVUFBVSxFQUFFLEVBQUU7SUFBRUMsS0FBSyxFQUFFO0VBQUcsQ0FBQztFQUN4Q0MsV0FBVyxFQUFFLElBQUk7RUFDakJDLElBQUksRUFBRVgsTUFBQSxDQUFBWSxhQUFhLENBQUNDO0FBQ3RCLENBQUMsQ0FBQztBQUVGLElBQU1DLGNBS0wsR0FBRyxTQUxFQSxjQUtMQSxDQUFHQyxJQUFBLEVBV0U7RUFBQSxJQVZKQyxLQUFLLEdBVU5ELElBQUEsQ0FWQ0MsS0FBSztJQUNMTCxJQUFJLEdBU0xJLElBQUEsQ0FUQ0osSUFBSTtJQUNKSixTQUFTLEdBUVZRLElBQUEsQ0FSQ1IsU0FBUztJQUNURyxXQUFXLEdBT1pLLElBQUEsQ0FQQ0wsV0FBVztJQUNYTyxRQUFRLEdBTVRGLElBQUEsQ0FOQ0UsUUFBUTtJQUNSQyxPQUFPLEdBS1JILElBQUEsQ0FMQ0csT0FBTztJQUNQQyxpQkFBaUIsR0FJbEJKLElBQUEsQ0FKQ0ksaUJBQWlCO0lBQ2pCQyxxQkFBcUIsR0FHdEJMLElBQUEsQ0FIQ0sscUJBQXFCO0lBQ3JCQyxNQUFN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
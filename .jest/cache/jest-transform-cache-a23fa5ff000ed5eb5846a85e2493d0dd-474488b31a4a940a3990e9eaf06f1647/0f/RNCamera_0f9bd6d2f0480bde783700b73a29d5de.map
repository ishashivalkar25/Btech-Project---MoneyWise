{"version":3,"names":["_react","_interopRequireDefault","require","_propTypes","_reactNative","_jsxRuntime","_excluded","_excluded2","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","default","result","NewTarget","constructor","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Boolean","prototype","valueOf","call","e","Rationale","PropTypes","shape","title","string","isRequired","message","buttonPositive","buttonNegative","buttonNeutral","requestPermissions","_ref","_asyncToGenerator2","captureAudio","CameraManager","androidCameraPermissionOptions","androidRecordAudioPermissionOptions","hasCameraPermissions","hasRecordAudioPermissions","Platform","OS","checkVideoAuthorizationStatus","cameraPermissionResult","PermissionsAndroid","request","PERMISSIONS","CAMERA","RESULTS","GRANTED","checkMediaCapturePermission","checkRecordAudioAuthorizationStatus","checkIfRecordAudioPermissionsAreDefined","audioPermissionResult","RECORD_AUDIO","__DEV__","console","warn","_x","_x2","_x3","_x4","styles","StyleSheet","create","authorizationContainer","flex","alignItems","justifyContent","notAuthorizedText","textAlign","fontSize","CameraStatus","READY","PENDING_AUTHORIZATION","NOT_AUTHORIZED","RecordAudioPermissionStatusEnum","AUTHORIZED","NativeModules","RNCameraManager","RNCameraModule","stubbed","Type","back","AutoFocus","on","FlashMode","off","WhiteBalance","BarCodeType","FaceDetection","fast","Mode","Landmarks","none","Classifications","GoogleVisionBarcodeDetection","BarcodeType","BarcodeMode","EventThrottleMs","mapValues","input","mapper","Object","entries","map","_ref2","_ref3","_slicedToArray2","key","value","Camera","_React$Component","_inherits2","_super","props","_this","_classCallCheck2","getSupportedPreviewFpsRange","_cameraHandle","Error","getAvailablePictureSizes","ratio","_onMountError","_ref6","nativeEvent","onMountError","_onCameraReady","onCameraReady","_onAudioInterrupted","onAudioInterrupted","_onTouch","_ref7","onTap","isDoubleTap","touchOrigin","onDoubleTap","_onAudioConnected","onAudioConnected","_onStatusChange","onStatusChange","cameraStatus","getStatus","recordAudioPermissionStatus","state","_onPictureSaved","_ref8","onPictureSaved","_onObjectDetected","callback","_ref9","type","_lastEvents","_lastEventsTimes","JSON","stringify","Date","_onSubjectAreaChanged","onSubjectAreaChanged","_setReference","ref","_cameraRef","findNodeHandle","_this$state","isAuthorized","isAuthorizationChecked","hasFaCC","children","renderChildren","camera","_assertThisInitialized2","status","_isMounted","_createClass2","_takePictureAsync","options","quality","orientation","_options","Orientation","pauseAfterCapture","undefined","takePicture","takePictureAsync","_x5","_getSupportedRatiosAsync","getSupportedRatios","getSupportedRatiosAsync","_getCameraIdsAsync","getCameraIds","getCameraIdsAsync","_recordAsync","Constants","VideoQuality","_options2","videoBitrate","mute","record","recordAsync","_x6","stopRecording","pauseRecording","resumeRecording","pausePreview","isRecording","resumePreview","componentWillUnmount","_arePermissionsGranted","_this$props","permissionDialogTitle","permissionDialogMessage","cameraPermissions","audioPermissions","assign","_yield$requestPermiss","arePermissionsGranted","_refreshAuthorizationStatus","_yield$this$arePermis","setState","refreshAuthorizationStatus","_componentDidMount","_yield$this$arePermis2","componentDidMount","render","_this$_convertNativeP","_convertNativeProps","style","nativeProps","_objectWithoutProperties2","jsxs","View","jsx","RNCamera","absoluteFill","onGoogleVisionBarcodesDetected","onBarCodeRead","onTouch","onFacesDetected","onTextRecognized","pendingAuthorizationView","notAuthorizedView","_ref10","newProps","_convertProp","barCodeScannerEnabled","googleVisionBarcodeDetectorEnabled","faceDetectorEnabled","touchDetectorEnabled","textRecognizerEnabled","ConversionTables","_checkIfVideoIsValid","path","checkIfVideoIsValid","_x7","React","Component","exports","ImageType","VideoCodec","CaptureTarget","RecordAudioPermissionStatus","VideoStabilization","auto","landscapeLeft","landscapeRight","portrait","portraitUpsideDown","flashMode","exposure","Exposure","autoFocus","whiteBalance","faceDetectionMode","faceDetectionLandmarks","faceDetectionClassifications","googleVisionBarcodeType","googleVisionBarcodeMode","videoStabilizationMode","propTypes","ViewPropTypes","zoom","number","useNativeZoom","bool","maxZoom","focusDepth","func","onPictureTaken","onRecordingStart","onRecordingEnd","trackingEnabled","barCodeTypes","arrayOf","oneOfType","cameraId","temperature","tint","redGainOffset","greenGainOffset","blueGainOffset","autoFocusPointOfInterest","x","y","element","keepAudioSession","useCamera2Api","playSoundOnCapture","playSoundOnRecord","pictureSize","mirrorVideo","rectOfInterest","any","defaultVideoQuality","defaultProps","values","None","NORMAL","Text","ActivityIndicator","size","hasTorch","requireNativeComponent","nativeOnly","accessibilityComponentType","accessibilityLabel","accessibilityLiveRegion","importantForAccessibility","onFaceDetected","onLayout","renderToHardwareTextureAndroid","testID"],"sources":["RNCamera.js"],"sourcesContent":["// @flow\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  findNodeHandle,\n  Platform,\n  NativeModules,\n  ViewPropTypes,\n  requireNativeComponent,\n  View,\n  ActivityIndicator,\n  Text,\n  StyleSheet,\n  PermissionsAndroid,\n} from 'react-native';\n\nimport type { FaceFeature } from './FaceDetector';\n\nconst Rationale = PropTypes.shape({\n  title: PropTypes.string.isRequired,\n  message: PropTypes.string.isRequired,\n  buttonPositive: PropTypes.string,\n  buttonNegative: PropTypes.string,\n  buttonNeutral: PropTypes.string,\n});\n\nconst requestPermissions = async (\n  captureAudio: boolean,\n  CameraManager: any,\n  androidCameraPermissionOptions: Rationale | null,\n  androidRecordAudioPermissionOptions: Rationale | null,\n): Promise<{ hasCameraPermissions: boolean, hasRecordAudioPermissions: boolean }> => {\n  let hasCameraPermissions = false;\n  let hasRecordAudioPermissions = false;\n\n  if (Platform.OS === 'ios') {\n    hasCameraPermissions = await CameraManager.checkVideoAuthorizationStatus();\n  } else if (Platform.OS === 'android') {\n    const cameraPermissionResult = await PermissionsAndroid.request(\n      PermissionsAndroid.PERMISSIONS.CAMERA,\n      androidCameraPermissionOptions,\n    );\n    if (typeof cameraPermissionResult === 'boolean') {\n      hasCameraPermissions = cameraPermissionResult;\n    } else {\n      hasCameraPermissions = cameraPermissionResult === PermissionsAndroid.RESULTS.GRANTED;\n    }\n  } else if (Platform.OS === 'windows') {\n    hasCameraPermissions = await CameraManager.checkMediaCapturePermission();\n  }\n\n  if (captureAudio) {\n    if (Platform.OS === 'ios') {\n      hasRecordAudioPermissions = await CameraManager.checkRecordAudioAuthorizationStatus();\n    } else if (Platform.OS === 'android') {\n      if (await CameraManager.checkIfRecordAudioPermissionsAreDefined()) {\n        const audioPermissionResult = await PermissionsAndroid.request(\n          PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n          androidRecordAudioPermissionOptions,\n        );\n        if (typeof audioPermissionResult === 'boolean') {\n          hasRecordAudioPermissions = audioPermissionResult;\n        } else {\n          hasRecordAudioPermissions = audioPermissionResult === PermissionsAndroid.RESULTS.GRANTED;\n        }\n      } else if (__DEV__) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `The 'captureAudio' property set on RNCamera instance but 'RECORD_AUDIO' permissions not defined in the applications 'AndroidManifest.xml'. ` +\n            `If you want to record audio you will have to add '<uses-permission android:name=\"android.permission.RECORD_AUDIO\"/>' to your 'AndroidManifest.xml'. ` +\n            `Otherwise you should set the 'captureAudio' property on the component instance to 'false'.`,\n        );\n      }\n    } else if (Platform.OS === 'windows') {\n      hasRecordAudioPermissions = await CameraManager.checkMediaCapturePermission();\n    }\n  }\n\n  return {\n    hasCameraPermissions,\n    hasRecordAudioPermissions,\n  };\n};\n\nconst styles = StyleSheet.create({\n  authorizationContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  notAuthorizedText: {\n    textAlign: 'center',\n    fontSize: 16,\n  },\n});\n\ntype Orientation = 'auto' | 'landscapeLeft' | 'landscapeRight' | 'portrait' | 'portraitUpsideDown';\ntype OrientationNumber = 1 | 2 | 3 | 4;\n\ntype PictureOptions = {\n  quality?: number,\n  orientation?: Orientation | OrientationNumber,\n  base64?: boolean,\n  mirrorImage?: boolean,\n  exif?: boolean,\n  writeExif?: boolean | { [name: string]: any },\n  width?: number,\n  fixOrientation?: boolean,\n  forceUpOrientation?: boolean,\n  pauseAfterCapture?: boolean,\n};\n\ntype TrackedFaceFeature = FaceFeature & {\n  faceID?: number,\n};\n\ntype TrackedTextFeature = {\n  type: string,\n  bounds: {\n    size: {\n      width: number,\n      height: number,\n    },\n    origin: {\n      x: number,\n      y: number,\n    },\n  },\n  value: string,\n  components: Array<TrackedTextFeature>,\n};\n\ntype TrackedBarcodeFeature = {\n  bounds: {\n    size: {\n      width: number,\n      height: number,\n    },\n    origin: {\n      x: number,\n      y: number,\n    },\n  },\n  data: string,\n  dataRaw: string,\n  type: BarcodeType,\n  format?: string,\n  addresses?: {\n    addressesType?: 'UNKNOWN' | 'Work' | 'Home',\n    addressLines?: string[],\n  }[],\n  emails?: Email[],\n  phones?: Phone[],\n  urls: ?(string[]),\n  name?: {\n    firstName?: string,\n    lastName?: string,\n    middleName?: string,\n    prefix?: string,\n    pronounciation?: string,\n    suffix?: string,\n    formattedName?: string,\n  },\n  phone?: Phone,\n  organization?: string,\n  latitude?: number,\n  longitude?: number,\n  ssid?: string,\n  password?: string,\n  encryptionType?: string,\n  title?: string,\n  url?: string,\n  firstName?: string,\n  middleName?: string,\n  lastName?: string,\n  gender?: string,\n  addressCity?: string,\n  addressState?: string,\n  addressStreet?: string,\n  addressZip?: string,\n  birthDate?: string,\n  documentType?: string,\n  licenseNumber?: string,\n  expiryDate?: string,\n  issuingDate?: string,\n  issuingCountry?: string,\n  eventDescription?: string,\n  location?: string,\n  organizer?: string,\n  status?: string,\n  summary?: string,\n  start?: string,\n  end?: string,\n  email?: Email,\n  phoneNumber?: string,\n  message?: string,\n};\n\ntype BarcodeType =\n  | 'EMAIL'\n  | 'PHONE'\n  | 'CALENDAR_EVENT'\n  | 'DRIVER_LICENSE'\n  | 'GEO'\n  | 'SMS'\n  | 'CONTACT_INFO'\n  | 'WIFI'\n  | 'TEXT'\n  | 'ISBN'\n  | 'PRODUCT'\n  | 'URL';\n\ntype Email = {\n  address?: string,\n  body?: string,\n  subject?: string,\n  emailType?: 'UNKNOWN' | 'Work' | 'Home',\n};\n\ntype Phone = {\n  number?: string,\n  phoneType?: 'UNKNOWN' | 'Work' | 'Home' | 'Fax' | 'Mobile',\n};\n\ntype RecordingOptions = {\n  maxDuration?: number,\n  maxFileSize?: number,\n  orientation?: Orientation,\n  quality?: number | string,\n  fps?: number,\n  codec?: string,\n  mute?: boolean,\n  path?: string,\n  videoBitrate?: number,\n};\n\ntype EventCallbackArgumentsType = {\n  nativeEvent: Object,\n};\n\ntype Rect = {\n  x: number,\n  y: number,\n  width: number,\n  height: number,\n};\n\ntype PropsType = typeof View.props & {\n  zoom?: number,\n  useNativeZoom?: boolean,\n  maxZoom?: number,\n  ratio?: string,\n  focusDepth?: number,\n  type?: number | string,\n  onCameraReady?: Function,\n  onAudioInterrupted?: Function,\n  onAudioConnected?: Function,\n  onStatusChange?: Function,\n  onBarCodeRead?: Function,\n  onPictureTaken?: Function,\n  onPictureSaved?: Function,\n  onRecordingStart?: Function,\n  onRecordingEnd?: Function,\n  onTap?: Function,\n  onDoubleTap?: Function,\n  onGoogleVisionBarcodesDetected?: ({ barcodes: Array<TrackedBarcodeFeature> }) => void,\n  onSubjectAreaChanged?: ({ nativeEvent: { prevPoint: {| x: number, y: number |} } }) => void,\n  faceDetectionMode?: number,\n  trackingEnabled?: boolean,\n  flashMode?: number | string,\n  exposure?: number,\n  barCodeTypes?: Array<string>,\n  googleVisionBarcodeType?: number,\n  googleVisionBarcodeMode?: number,\n  whiteBalance?: number | string | {temperature: number, tint: number, redGainOffset?: number, greenGainOffset?: number, blueGainOffset?: number },\n  faceDetectionLandmarks?: number,\n  autoFocus?: string | boolean | number,\n  autoFocusPointOfInterest?: { x: number, y: number },\n  faceDetectionClassifications?: number,\n  onFacesDetected?: ({ faces: Array<TrackedFaceFeature> }) => void,\n  onTextRecognized?: ({ textBlocks: Array<TrackedTextFeature> }) => void,\n  captureAudio?: boolean,\n  keepAudioSession?: boolean,\n  useCamera2Api?: boolean,\n  playSoundOnCapture?: boolean,\n  playSoundOnRecord?: boolean,\n  videoStabilizationMode?: number | string,\n  pictureSize?: string,\n  rectOfInterest: Rect,\n};\n\ntype StateType = {\n  isAuthorized: boolean,\n  isAuthorizationChecked: boolean,\n  recordAudioPermissionStatus: RecordAudioPermissionStatus,\n};\n\nexport type Status = 'READY' | 'PENDING_AUTHORIZATION' | 'NOT_AUTHORIZED';\n\nconst CameraStatus: { [key: Status]: Status } = {\n  READY: 'READY',\n  PENDING_AUTHORIZATION: 'PENDING_AUTHORIZATION',\n  NOT_AUTHORIZED: 'NOT_AUTHORIZED',\n};\n\nexport type RecordAudioPermissionStatus = 'AUTHORIZED' | 'NOT_AUTHORIZED' | 'PENDING_AUTHORIZATION';\n\nconst RecordAudioPermissionStatusEnum: {\n  [key: RecordAudioPermissionStatus]: RecordAudioPermissionStatus,\n} = {\n  AUTHORIZED: 'AUTHORIZED',\n  PENDING_AUTHORIZATION: 'PENDING_AUTHORIZATION',\n  NOT_AUTHORIZED: 'NOT_AUTHORIZED',\n};\n\nconst CameraManager: Object = NativeModules.RNCameraManager ||\n  NativeModules.RNCameraModule || {\n    stubbed: true,\n    Type: {\n      back: 1,\n    },\n    AutoFocus: {\n      on: 1,\n    },\n    FlashMode: {\n      off: 1,\n    },\n    WhiteBalance: {},\n    BarCodeType: {},\n    FaceDetection: {\n      fast: 1,\n      Mode: {},\n      Landmarks: {\n        none: 0,\n      },\n      Classifications: {\n        none: 0,\n      },\n    },\n    GoogleVisionBarcodeDetection: {\n      BarcodeType: 0,\n      BarcodeMode: 0,\n    },\n  };\n\nconst EventThrottleMs = 500;\n\nconst mapValues = (input, mapper) => {\n  const result = {};\n  Object.entries(input).map(([key, value]) => {\n    result[key] = mapper(value, key);\n  });\n  return result;\n};\n\nexport default class Camera extends React.Component<PropsType, StateType> {\n  static Constants = {\n    Type: CameraManager.Type,\n    FlashMode: CameraManager.FlashMode,\n    AutoFocus: CameraManager.AutoFocus,\n    WhiteBalance: CameraManager.WhiteBalance,\n    VideoQuality: CameraManager.VideoQuality,\n    ImageType: CameraManager.ImageType,\n    VideoCodec: CameraManager.VideoCodec,\n    BarCodeType: CameraManager.BarCodeType,\n    GoogleVisionBarcodeDetection: CameraManager.GoogleVisionBarcodeDetection,\n    FaceDetection: CameraManager.FaceDetection,\n    CameraStatus,\n    CaptureTarget: CameraManager.CaptureTarget,\n    RecordAudioPermissionStatus: RecordAudioPermissionStatusEnum,\n    VideoStabilization: CameraManager.VideoStabilization,\n    Orientation: {\n      auto: 'auto',\n      landscapeLeft: 'landscapeLeft',\n      landscapeRight: 'landscapeRight',\n      portrait: 'portrait',\n      portraitUpsideDown: 'portraitUpsideDown',\n    },\n  };\n\n  // Values under keys from this object will be transformed to native options\n  static ConversionTables = {\n    type: CameraManager.Type,\n    flashMode: CameraManager.FlashMode,\n    exposure: CameraManager.Exposure,\n    autoFocus: CameraManager.AutoFocus,\n    whiteBalance: CameraManager.WhiteBalance,\n    faceDetectionMode: (CameraManager.FaceDetection || {}).Mode,\n    faceDetectionLandmarks: (CameraManager.FaceDetection || {}).Landmarks,\n    faceDetectionClassifications: (CameraManager.FaceDetection || {}).Classifications,\n    googleVisionBarcodeType: (CameraManager.GoogleVisionBarcodeDetection || {}).BarcodeType,\n    googleVisionBarcodeMode: (CameraManager.GoogleVisionBarcodeDetection || {}).BarcodeMode,\n    videoStabilizationMode: CameraManager.VideoStabilization || {},\n  };\n\n  static propTypes = {\n    ...ViewPropTypes,\n    zoom: PropTypes.number,\n    useNativeZoom: PropTypes.bool,\n    maxZoom: PropTypes.number,\n    ratio: PropTypes.string,\n    focusDepth: PropTypes.number,\n    onMountError: PropTypes.func,\n    onCameraReady: PropTypes.func,\n    onAudioInterrupted: PropTypes.func,\n    onAudioConnected: PropTypes.func,\n    onStatusChange: PropTypes.func,\n    onBarCodeRead: PropTypes.func,\n    onPictureTaken: PropTypes.func,\n    onPictureSaved: PropTypes.func,\n    onRecordingStart: PropTypes.func,\n    onRecordingEnd: PropTypes.func,\n    onTap: PropTypes.func,\n    onDoubleTap: PropTypes.func,\n    onGoogleVisionBarcodesDetected: PropTypes.func,\n    onFacesDetected: PropTypes.func,\n    onTextRecognized: PropTypes.func,\n    onSubjectAreaChanged: PropTypes.func,\n    trackingEnabled: PropTypes.bool,\n    faceDetectionMode: PropTypes.number,\n    faceDetectionLandmarks: PropTypes.number,\n    faceDetectionClassifications: PropTypes.number,\n    barCodeTypes: PropTypes.arrayOf(PropTypes.string),\n    googleVisionBarcodeType: PropTypes.number,\n    googleVisionBarcodeMode: PropTypes.number,\n    type: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    cameraId: PropTypes.string,\n    flashMode: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    exposure: PropTypes.number,\n    whiteBalance: PropTypes.oneOfType([PropTypes.string, PropTypes.number,\n      PropTypes.shape({ temperature: PropTypes.number, tint: PropTypes.number,\n        redGainOffset: PropTypes.number,\n        greenGainOffset: PropTypes.number,\n        blueGainOffset: PropTypes.number })]),\n    autoFocus: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]),\n    autoFocusPointOfInterest: PropTypes.shape({ x: PropTypes.number, y: PropTypes.number }),\n    permissionDialogTitle: PropTypes.string,\n    permissionDialogMessage: PropTypes.string,\n    androidCameraPermissionOptions: Rationale,\n    androidRecordAudioPermissionOptions: Rationale,\n    notAuthorizedView: PropTypes.element,\n    pendingAuthorizationView: PropTypes.element,\n    captureAudio: PropTypes.bool,\n    keepAudioSession: PropTypes.bool,\n    useCamera2Api: PropTypes.bool,\n    playSoundOnCapture: PropTypes.bool,\n    playSoundOnRecord: PropTypes.bool,\n    videoStabilizationMode: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    pictureSize: PropTypes.string,\n    mirrorVideo: PropTypes.bool,\n    rectOfInterest: PropTypes.any,\n    defaultVideoQuality: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  };\n\n  static defaultProps: Object = {\n    zoom: 0,\n    useNativeZoom: false,\n    maxZoom: 0,\n    ratio: '4:3',\n    focusDepth: 0,\n    type: CameraManager.Type.back,\n    cameraId: '',\n    autoFocus: CameraManager.AutoFocus.on,\n    flashMode: CameraManager.FlashMode.off,\n    exposure: -1,\n    whiteBalance: CameraManager.WhiteBalance.auto,\n    faceDetectionMode: (CameraManager.FaceDetection || {}).fast,\n    barCodeTypes: Object.values(CameraManager.BarCodeType),\n    googleVisionBarcodeType: ((CameraManager.GoogleVisionBarcodeDetection || {}).BarcodeType || {})\n      .None,\n    googleVisionBarcodeMode: ((CameraManager.GoogleVisionBarcodeDetection || {}).BarcodeMode || {})\n      .NORMAL,\n    faceDetectionLandmarks: ((CameraManager.FaceDetection || {}).Landmarks || {}).none,\n    faceDetectionClassifications: ((CameraManager.FaceDetection || {}).Classifications || {}).none,\n    permissionDialogTitle: '',\n    permissionDialogMessage: '',\n    androidCameraPermissionOptions: null,\n    androidRecordAudioPermissionOptions: null,\n    notAuthorizedView: (\n      <View style={styles.authorizationContainer}>\n        <Text style={styles.notAuthorizedText}>Camera not authorized</Text>\n      </View>\n    ),\n    pendingAuthorizationView: (\n      <View style={styles.authorizationContainer}>\n        <ActivityIndicator size=\"small\" />\n      </View>\n    ),\n    captureAudio: true,\n    keepAudioSession: false,\n    useCamera2Api: false,\n    playSoundOnCapture: false,\n    playSoundOnRecord: false,\n    pictureSize: 'None',\n    videoStabilizationMode: 0,\n    mirrorVideo: false,\n  };\n\n  _cameraRef: ?Object;\n  _cameraHandle: ?number;\n  _lastEvents: { [string]: string };\n  _lastEventsTimes: { [string]: Date };\n  _isMounted: boolean;\n\n  constructor(props: PropsType) {\n    super(props);\n    this._lastEvents = {};\n    this._lastEventsTimes = {};\n    this._isMounted = true;\n    this.state = {\n      isAuthorized: false,\n      isAuthorizationChecked: false,\n      recordAudioPermissionStatus: RecordAudioPermissionStatusEnum.PENDING_AUTHORIZATION,\n    };\n  }\n\n  async takePictureAsync(options?: PictureOptions) {\n    if (!options) {\n      options = {};\n    }\n    if (!options.quality) {\n      options.quality = 1;\n    }\n\n    if (options.orientation) {\n      if (typeof options.orientation !== 'number') {\n        const { orientation } = options;\n        options.orientation = CameraManager.Orientation[orientation];\n        if (__DEV__) {\n          if (typeof options.orientation !== 'number') {\n            // eslint-disable-next-line no-console\n            console.warn(`Orientation '${orientation}' is invalid.`);\n          }\n        }\n      }\n    }\n\n    if (options.pauseAfterCapture === undefined) {\n      options.pauseAfterCapture = false;\n    }\n\n    if (!this._cameraHandle) {\n      throw 'Camera handle cannot be null';\n    }\n\n    return await CameraManager.takePicture(options, this._cameraHandle);\n  }\n\n  async getSupportedRatiosAsync() {\n    if (Platform.OS === 'android') {\n      return await CameraManager.getSupportedRatios(this._cameraHandle);\n    } else {\n      throw new Error('Ratio is not supported on iOS');\n    }\n  }\n\n  async getCameraIdsAsync() {\n    if (Platform.OS === 'android') {\n      return await CameraManager.getCameraIds(this._cameraHandle);\n    } else {\n      return await CameraManager.getCameraIds(); // iOS does not need a camera instance\n    }\n  }\n\n  static async checkIfVideoIsValid(path) {\n    if (Platform.OS === 'android') {\n      return await CameraManager.checkIfVideoIsValid(path);\n    } else {\n      return true; // iOS: not implemented\n    }\n  }\n\n  getSupportedPreviewFpsRange = async (): Promise<[]> => {\n    if (Platform.OS === 'android') {\n      return await CameraManager.getSupportedPreviewFpsRange(this._cameraHandle);\n    } else {\n      throw new Error('getSupportedPreviewFpsRange is not supported on iOS');\n    }\n  };\n\n  getAvailablePictureSizes = async (): string[] => {\n    //$FlowFixMe\n    return await CameraManager.getAvailablePictureSizes(this.props.ratio, this._cameraHandle);\n  };\n\n  async recordAsync(options?: RecordingOptions) {\n    if (!options || typeof options !== 'object') {\n      options = {};\n    } else if (typeof options.quality === 'string') {\n      options.quality = Camera.Constants.VideoQuality[options.quality];\n    }\n    if (options.orientation) {\n      if (typeof options.orientation !== 'number') {\n        const { orientation } = options;\n        options.orientation = CameraManager.Orientation[orientation];\n        if (__DEV__) {\n          if (typeof options.orientation !== 'number') {\n            // eslint-disable-next-line no-console\n            console.warn(`Orientation '${orientation}' is invalid.`);\n          }\n        }\n      }\n    }\n\n    if (__DEV__) {\n      if (options.videoBitrate && typeof options.videoBitrate !== 'number') {\n        // eslint-disable-next-line no-console\n        console.warn('Video Bitrate should be a positive integer');\n      }\n    }\n\n    const { recordAudioPermissionStatus } = this.state;\n    const { captureAudio } = this.props;\n\n    if (\n      !captureAudio ||\n      recordAudioPermissionStatus !== RecordAudioPermissionStatusEnum.AUTHORIZED\n    ) {\n      options.mute = true;\n    }\n\n    if (__DEV__) {\n      if (\n        (!options.mute || captureAudio) &&\n        recordAudioPermissionStatus !== RecordAudioPermissionStatusEnum.AUTHORIZED\n      ) {\n        // eslint-disable-next-line no-console\n        console.warn('Recording with audio not possible. Permissions are missing.');\n      }\n    }\n\n    return await CameraManager.record(options, this._cameraHandle);\n  }\n\n  stopRecording() {\n    CameraManager.stopRecording(this._cameraHandle);\n  }\n\n  pauseRecording() {\n    CameraManager.pauseRecording(this._cameraHandle);\n  }\n\n  resumeRecording() {\n    CameraManager.resumeRecording(this._cameraHandle);\n  }\n\n  pausePreview() {\n    CameraManager.pausePreview(this._cameraHandle);\n  }\n\n  isRecording() {\n    return CameraManager.isRecording(this._cameraHandle);\n  }\n\n  resumePreview() {\n    CameraManager.resumePreview(this._cameraHandle);\n  }\n\n  _onMountError = ({ nativeEvent }: EventCallbackArgumentsType) => {\n    if (this.props.onMountError) {\n      this.props.onMountError(nativeEvent);\n    }\n  };\n\n  _onCameraReady = () => {\n    if (this.props.onCameraReady) {\n      this.props.onCameraReady();\n    }\n  };\n\n  _onAudioInterrupted = () => {\n    if (this.props.onAudioInterrupted) {\n      this.props.onAudioInterrupted();\n    }\n  };\n  _onTouch = ({ nativeEvent }: EventCallbackArgumentsType) => {\n    if (this.props.onTap && !nativeEvent.isDoubleTap) {\n      this.props.onTap(nativeEvent.touchOrigin);\n    }\n    if (this.props.onDoubleTap && nativeEvent.isDoubleTap) {\n      this.props.onDoubleTap(nativeEvent.touchOrigin);\n    }\n  };\n  _onAudioConnected = () => {\n    if (this.props.onAudioConnected) {\n      this.props.onAudioConnected();\n    }\n  };\n\n  _onStatusChange = () => {\n    if (this.props.onStatusChange) {\n      this.props.onStatusChange({\n        cameraStatus: this.getStatus(),\n        recordAudioPermissionStatus: this.state.recordAudioPermissionStatus,\n      });\n    }\n  };\n\n  _onPictureSaved = ({ nativeEvent }: EventCallbackArgumentsType) => {\n    if (this.props.onPictureSaved) {\n      this.props.onPictureSaved(nativeEvent);\n    }\n  };\n\n  _onObjectDetected = (callback: ?Function) => ({ nativeEvent }: EventCallbackArgumentsType) => {\n    const { type } = nativeEvent;\n    if (\n      this._lastEvents[type] &&\n      this._lastEventsTimes[type] &&\n      JSON.stringify(nativeEvent) === this._lastEvents[type] &&\n      new Date() - this._lastEventsTimes[type] < EventThrottleMs\n    ) {\n      return;\n    }\n\n    if (callback) {\n      callback(nativeEvent);\n      this._lastEventsTimes[type] = new Date();\n      this._lastEvents[type] = JSON.stringify(nativeEvent);\n    }\n  };\n\n  _onSubjectAreaChanged = e => {\n    if (this.props.onSubjectAreaChanged) {\n      this.props.onSubjectAreaChanged(e);\n    }\n  };\n\n  _setReference = (ref: ?Object) => {\n    if (ref) {\n      this._cameraRef = ref;\n      this._cameraHandle = findNodeHandle(ref);\n    } else {\n      this._cameraRef = null;\n      this._cameraHandle = null;\n    }\n  };\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  async arePermissionsGranted() {\n    const {\n      permissionDialogTitle,\n      permissionDialogMessage,\n      androidCameraPermissionOptions,\n      androidRecordAudioPermissionOptions,\n    } = this.props;\n\n    let cameraPermissions = androidCameraPermissionOptions;\n    let audioPermissions = androidRecordAudioPermissionOptions;\n    if (permissionDialogTitle || permissionDialogMessage) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        'permissionDialogTitle and permissionDialogMessage are deprecated. Please use androidCameraPermissionOptions instead.',\n      );\n      cameraPermissions = {\n        ...cameraPermissions,\n        title: permissionDialogTitle,\n        message: permissionDialogMessage,\n      };\n      audioPermissions = {\n        ...audioPermissions,\n        title: permissionDialogTitle,\n        message: permissionDialogMessage,\n      };\n    }\n\n    const { hasCameraPermissions, hasRecordAudioPermissions } = await requestPermissions(\n      this.props.captureAudio,\n      CameraManager,\n      cameraPermissions,\n      audioPermissions,\n    );\n\n    const recordAudioPermissionStatus = hasRecordAudioPermissions\n      ? RecordAudioPermissionStatusEnum.AUTHORIZED\n      : RecordAudioPermissionStatusEnum.NOT_AUTHORIZED;\n    return { hasCameraPermissions, recordAudioPermissionStatus };\n  }\n\n  async refreshAuthorizationStatus() {\n    const {\n      hasCameraPermissions,\n      recordAudioPermissionStatus,\n    } = await this.arePermissionsGranted();\n    if (this._isMounted === false) {\n      return;\n    }\n\n    this.setState({\n      isAuthorized: hasCameraPermissions,\n      isAuthorizationChecked: true,\n      recordAudioPermissionStatus,\n    });\n  }\n\n  async componentDidMount() {\n    const {\n      hasCameraPermissions,\n      recordAudioPermissionStatus,\n    } = await this.arePermissionsGranted();\n    if (this._isMounted === false) {\n      return;\n    }\n\n    this.setState(\n      {\n        isAuthorized: hasCameraPermissions,\n        isAuthorizationChecked: true,\n        recordAudioPermissionStatus,\n      },\n      this._onStatusChange,\n    );\n  }\n\n  getStatus = (): Status => {\n    const { isAuthorized, isAuthorizationChecked } = this.state;\n    if (isAuthorizationChecked === false) {\n      return CameraStatus.PENDING_AUTHORIZATION;\n    }\n    return isAuthorized ? CameraStatus.READY : CameraStatus.NOT_AUTHORIZED;\n  };\n\n  // FaCC = Function as Child Component;\n  hasFaCC = (): * => typeof this.props.children === 'function';\n\n  renderChildren = (): * => {\n    if (this.hasFaCC()) {\n      return this.props.children({\n        camera: this,\n        status: this.getStatus(),\n        recordAudioPermissionStatus: this.state.recordAudioPermissionStatus,\n      });\n    }\n    return this.props.children;\n  };\n\n  render() {\n    const { style, ...nativeProps } = this._convertNativeProps(this.props);\n\n    if (this.state.isAuthorized || this.hasFaCC()) {\n      return (\n        <View style={style}>\n          <RNCamera\n            {...nativeProps}\n            style={StyleSheet.absoluteFill}\n            ref={this._setReference}\n            onMountError={this._onMountError}\n            onCameraReady={this._onObjectDetected(this._onCameraReady)}\n            onAudioInterrupted={this._onAudioInterrupted}\n            onAudioConnected={this._onAudioConnected}\n            onGoogleVisionBarcodesDetected={this._onObjectDetected(\n              this.props.onGoogleVisionBarcodesDetected,\n            )}\n            onBarCodeRead={this._onObjectDetected(this.props.onBarCodeRead)}\n            onTouch={this._onTouch}\n            onFacesDetected={this._onObjectDetected(this.props.onFacesDetected)}\n            onTextRecognized={this._onObjectDetected(this.props.onTextRecognized)}\n            onPictureSaved={this._onPictureSaved}\n            onSubjectAreaChanged={this._onSubjectAreaChanged}\n          />\n          {this.renderChildren()}\n        </View>\n      );\n    } else if (!this.state.isAuthorizationChecked) {\n      return this.props.pendingAuthorizationView;\n    } else {\n      return this.props.notAuthorizedView;\n    }\n  }\n\n  _convertNativeProps({ children, ...props }: PropsType) {\n    const newProps = mapValues(props, this._convertProp);\n\n    if (props.onBarCodeRead) {\n      newProps.barCodeScannerEnabled = true;\n    }\n\n    if (props.onGoogleVisionBarcodesDetected) {\n      newProps.googleVisionBarcodeDetectorEnabled = true;\n    }\n\n    if (props.onFacesDetected) {\n      newProps.faceDetectorEnabled = true;\n    }\n\n    if (props.onTap || props.onDoubleTap) {\n      newProps.touchDetectorEnabled = true;\n    }\n\n    if (props.onTextRecognized) {\n      newProps.textRecognizerEnabled = true;\n    }\n\n    if (Platform.OS === 'ios') {\n      delete newProps.ratio;\n    }\n\n    return newProps;\n  }\n\n  _convertProp(value: *, key: string): * {\n    if (typeof value === 'string' && Camera.ConversionTables[key]) {\n      return Camera.ConversionTables[key][value];\n    }\n\n    return value;\n  }\n}\n\nexport const Constants = Camera.Constants;\n\nexport function hasTorch() {\n  return CameraManager.hasTorch();\n}\n\nconst RNCamera = requireNativeComponent('RNCamera', Camera, {\n  nativeOnly: {\n    accessibilityComponentType: true,\n    accessibilityLabel: true,\n    accessibilityLiveRegion: true,\n    barCodeScannerEnabled: true,\n    touchDetectorEnabled: true,\n    googleVisionBarcodeDetectorEnabled: true,\n    faceDetectorEnabled: true,\n    textRecognizerEnabled: true,\n    importantForAccessibility: true,\n    onBarCodeRead: true,\n    onGoogleVisionBarcodesDetected: true,\n    onCameraReady: true,\n    onAudioInterrupted: true,\n    onAudioConnected: true,\n    onPictureSaved: true,\n    onFaceDetected: true,\n    onTouch: true,\n    onLayout: true,\n    onMountError: true,\n    onSubjectAreaChanged: true,\n    renderToHardwareTextureAndroid: true,\n    testID: true,\n  },\n});\n"],"mappings":"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"}
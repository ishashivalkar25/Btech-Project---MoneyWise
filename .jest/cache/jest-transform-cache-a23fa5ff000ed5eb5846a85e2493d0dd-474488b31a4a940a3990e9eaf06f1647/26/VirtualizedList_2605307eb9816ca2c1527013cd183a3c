211cd82bc4c026ec78ad58d364be48ca
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _RefreshControl = _interopRequireDefault(require("../Components/RefreshControl/RefreshControl"));
var _ScrollView = _interopRequireDefault(require("../Components/ScrollView/ScrollView"));
var _View = _interopRequireDefault(require("../Components/View/View"));
var _Batchinator = _interopRequireDefault(require("../Interaction/Batchinator"));
var _RendererProxy = require("../ReactNative/RendererProxy");
var _flattenStyle = _interopRequireDefault(require("../StyleSheet/flattenStyle"));
var _StyleSheet = _interopRequireDefault(require("../StyleSheet/StyleSheet"));
var _clamp = _interopRequireDefault(require("../Utilities/clamp"));
var _infoLog = _interopRequireDefault(require("../Utilities/infoLog"));
var _CellRenderMask = require("./CellRenderMask");
var _ChildListCollection = _interopRequireDefault(require("./ChildListCollection"));
var _FillRateHelper = _interopRequireDefault(require("./FillRateHelper"));
var _StateSafePureComponent = _interopRequireDefault(require("./StateSafePureComponent"));
var _ViewabilityHelper = _interopRequireDefault(require("./ViewabilityHelper"));
var _VirtualizedListCellRenderer = _interopRequireDefault(require("./VirtualizedListCellRenderer"));
var _VirtualizedListContext = require("./VirtualizedListContext.js");
var _VirtualizeUtils = require("./VirtualizeUtils");
var _invariant = _interopRequireDefault(require("invariant"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }
function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }
var ON_END_REACHED_EPSILON = 0.001;
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
function horizontalOrDefault(horizontal) {
  return horizontal != null ? horizontal : false;
}
function initialNumToRenderOrDefault(initialNumToRender) {
  return initialNumToRender != null ? initialNumToRender : 10;
}
function maxToRenderPerBatchOrDefault(maxToRenderPerBatch) {
  return maxToRenderPerBatch != null ? maxToRenderPerBatch : 10;
}
function onEndReachedThresholdOrDefault(onEndReachedThreshold) {
  return onEndReachedThreshold != null ? onEndReachedThreshold : 2;
}
function scrollEventThrottleOrDefault(scrollEventThrottle) {
  return scrollEventThrottle != null ? scrollEventThrottle : 50;
}
function windowSizeOrDefault(windowSize) {
  return windowSize != null ? windowSize : 21;
}
function findLastWhere(arr, predicate) {
  for (var i = arr.length - 1; i >= 0; i--) {
    if (predicate(arr[i])) {
      return arr[i];
    }
  }
  return null;
}
var VirtualizedList = function (_StateSafePureCompone) {
  (0, _inherits2.default)(VirtualizedList, _StateSafePureCompone);
  var _super = _createSuper(VirtualizedList);
  function VirtualizedList(_props) {
    var _this$props$updateCel;
    var _this;
    (0, _classCallCheck2.default)(this, VirtualizedList);
    _this = _super.call(this, _props);
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return (0, _assertThisInitialized2.default)(_this);
      }
    };
    _this._registerAsNestedChild = function (childList) {
      _this._nestedChildLists.add(childList.ref, childList.cellKey);
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.remove(childList.ref);
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._getSpacerKey = function (isVertical) {
      return isVertical ? 'height' : 'width';
    };
    _this._averageCellLength = 0;
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasTriggeredInitialScrollToIndex = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._lastFocusedCellKey = null;
    _this._nestedChildLists = new _ChildListCollection.default();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0,
      zoomScale: 1
    };
    _this._scrollRef = null;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        return (0, _jsxRuntime.jsx)(_View.default, Object.assign({}, props));
      } else if (onRefresh) {
        var _props$refreshing;
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify((_props$refreshing = props.refreshing) != null ? _props$refreshing : 'undefined') + '`');
        return (0, _jsxRuntime.jsx)(_ScrollView.default, Object.assign({}, props, {
          refreshControl: props.refreshControl == null ? (0, _jsxRuntime.jsx)(_RefreshControl.default, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return (0, _jsxRuntime.jsx)(_ScrollView.default, Object.assign({}, props));
      }
    };
    _this._onCellLayout = function (e, cellKey, index) {
      var layout = e.nativeEvent.layout;
      var next = {
        offset: _this._selectOffset(layout),
        length: _this._selectLength(layout),
        index: index,
        inLayout: true
      };
      var curr = _this._frames[cellKey];
      if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
        _this._totalCellLength += next.length - (curr ? curr.length : 0);
        _this._totalCellsMeasured += curr ? 0 : 1;
        _this._averageCellLength = _this._totalCellLength / _this._totalCellsMeasured;
        _this._frames[cellKey] = next;
        _this._highestMeasuredFrameIndex = Math.max(_this._highestMeasuredFrameIndex, index);
        _this._scheduleCellsToRenderUpdate();
      } else {
        _this._frames[cellKey].inLayout = true;
      }
      _this._triggerRemeasureForChildListsInCell(cellKey);
      _this._computeBlankness();
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
    };
    _this._onCellUnmount = function (cellKey) {
      var curr = _this._frames[cellKey];
      if (curr) {
        _this._frames[cellKey] = Object.assign({}, curr, {
          inLayout: false
        });
      }
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEndReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasTriggeredInitialScrollToIndex) {
        if (_this.props.contentOffset == null) {
          _this.scrollToIndex({
            animated: false,
            index: _this.props.initialScrollIndex
          });
        }
        _this._hasTriggeredInitialScrollToIndex = true;
      }
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEndReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._selectOffset(e.nativeEvent.contentOffset);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      var zoomScale = e.nativeEvent.zoomScale < 0 ? 1 : e.nativeEvent.zoomScale;
      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength,
        zoomScale: zoomScale
      };
      _this._updateViewableItems(_this.props, _this.state.cellsAroundViewport);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEndReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onScrollEndDrag(e);
      });
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollBegin(e);
      });
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList._onMomentumScrollEnd(e);
      });
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      _this.setState(function (state, props) {
        var cellsAroundViewport = _this._adjustCellsAroundViewport(props, state.cellsAroundViewport);
        var renderMask = VirtualizedList._createRenderMask(props, cellsAroundViewport, _this._getNonViewportRenderRegions(props));
        if (cellsAroundViewport.first === state.cellsAroundViewport.first && cellsAroundViewport.last === state.cellsAroundViewport.last && renderMask.equals(state.renderMask)) {
          return null;
        }
        return {
          cellsAroundViewport: cellsAroundViewport,
          renderMask: renderMask
        };
      });
    };
    _this._createViewToken = function (index, isViewable, props) {
      var data = props.data,
        getItem = props.getItem;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: _this._keyExtractor(item, index, props),
        isViewable: isViewable
      };
    };
    _this._getOffsetApprox = function (index, props) {
      if (Number.isInteger(index)) {
        return _this.__getFrameMetricsApprox(index, props).offset;
      } else {
        var frameMetrics = _this.__getFrameMetricsApprox(Math.floor(index), props);
        var remainder = index - Math.floor(index);
        return frameMetrics.offset + remainder * frameMetrics.length;
      }
    };
    _this.__getFrameMetricsApprox = function (index, props) {
      var frame = _this._getFrameMetrics(index, props);
      if (frame && frame.index === index) {
        return frame;
      } else {
        var data = props.data,
          getItemCount = props.getItemCount,
          getItemLayout = props.getItemLayout;
        (0, _invariant.default)(index >= 0 && index < getItemCount(data), 'Tried to get frame for out of range index ' + index);
        (0, _invariant.default)(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };
    _this._getFrameMetrics = function (index, props) {
      var data = props.data,
        getItem = props.getItem,
        getItemCount = props.getItemCount,
        getItemLayout = props.getItemLayout;
      (0, _invariant.default)(index >= 0 && index < getItemCount(data), 'Tried to get frame for out of range index ' + index);
      var item = getItem(data, index);
      var frame = item && _this._frames[_this._keyExtractor(item, index, props)];
      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          return getItemLayout(data, index);
        }
      }
      return frame;
    };
    _this._getNonViewportRenderRegions = function (props) {
      if (!(_this._lastFocusedCellKey && _this._cellRefs[_this._lastFocusedCellKey])) {
        return [];
      }
      var lastFocusedCellRenderer = _this._cellRefs[_this._lastFocusedCellKey];
      var focusedCellIndex = lastFocusedCellRenderer.props.index;
      var itemCount = props.getItemCount(props.data);
      if (focusedCellIndex >= itemCount || _this._indicesToKeys.get(focusedCellIndex) !== _this._lastFocusedCellKey) {
        return [];
      }
      var first = focusedCellIndex;
      var heightOfCellsBeforeFocused = 0;
      for (var i = first - 1; i >= 0 && heightOfCellsBeforeFocused < _this._scrollMetrics.visibleLength; i--) {
        first--;
        heightOfCellsBeforeFocused += _this.__getFrameMetricsApprox(i, props).length;
      }
      var last = focusedCellIndex;
      var heightOfCellsAfterFocused = 0;
      for (var _i = last + 1; _i < itemCount && heightOfCellsAfterFocused < _this._scrollMetrics.visibleLength; _i++) {
        last++;
        heightOfCellsAfterFocused += _this.__getFrameMetricsApprox(_i, props).length;
      }
      return [{
        first: first,
        last: last
      }];
    };
    (0, _invariant.default)(!_props.onScroll || !_props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
    (0, _invariant.default)(windowSizeOrDefault(_props.windowSize) > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
    (0, _invariant.default)(_props.getItemCount, 'VirtualizedList: The "getItemCount" prop must be provided');
    _this._fillRateHelper = new _FillRateHelper.default(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new _Batchinator.default(_this._updateCellsToRender, (_this$props$updateCel = _this.props.updateCellsBatchingPeriod) != null ? _this$props$updateCel : 50);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else {
      var _this$props = _this.props,
        onViewableItemsChanged = _this$props.onViewableItemsChanged,
        viewabilityConfig = _this$props.viewabilityConfig;
      if (onViewableItemsChanged) {
        _this._viewabilityTuples.push({
          viewabilityHelper: new _ViewabilityHelper.default(viewabilityConfig),
          onViewableItemsChanged: onViewableItemsChanged
        });
      }
    }
    (0, _invariant.default)(!_this.context, 'Unexpectedly saw VirtualizedListContext available in ctor');
    var initialRenderRegion = VirtualizedList._initialRenderRegion(_props);
    _this.state = {
      cellsAroundViewport: initialRenderRegion,
      renderMask: VirtualizedList._createRenderMask(_props, initialRenderRegion)
    };
    return _this;
  }
  (0, _createClass2.default)(VirtualizedList, [{
    key: "scrollToEnd",
    value: function scrollToEnd(params) {
      var animated = params ? params.animated : true;
      var veryLast = this.props.getItemCount(this.props.data) - 1;
      var frame = this.__getFrameMetricsApprox(veryLast, this.props);
      var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToIndex",
    value: function scrollToIndex(params) {
      var _this$props2 = this.props,
        data = _this$props2.data,
        horizontal = _this$props2.horizontal,
        getItemCount = _this$props2.getItemCount,
        getItemLayout = _this$props2.getItemLayout,
        onScrollToIndexFailed = _this$props2.onScrollToIndexFailed;
      var animated = params.animated,
        index = params.index,
        viewOffset = params.viewOffset,
        viewPosition = params.viewPosition;
      (0, _invariant.default)(index >= 0, "scrollToIndex out of range: requested index " + index + " but minimum is 0");
      (0, _invariant.default)(getItemCount(data) >= 1, "scrollToIndex out of range: item length " + getItemCount(data) + " but minimum is 1");
      (0, _invariant.default)(index < getItemCount(data), "scrollToIndex out of range: requested index " + index + " is out of 0 to " + (getItemCount(data) - 1));
      if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
        (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
        onScrollToIndexFailed({
          averageItemLength: this._averageCellLength,
          highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
          index: index
        });
        return;
      }
      var frame = this.__getFrameMetricsApprox(Math.floor(index), this.props);
      var offset = Math.max(0, this._getOffsetApprox(index, this.props) - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontal ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "scrollToItem",
    value: function scrollToItem(params) {
      var item = params.item;
      var _this$props3 = this.props,
        data = _this$props3.data,
        getItem = _this$props3.getItem,
        getItemCount = _this$props3.getItemCount;
      var itemCount = getItemCount(data);
      for (var _index = 0; _index < itemCount; _index++) {
        if (getItem(data, _index) === item) {
          this.scrollToIndex(Object.assign({}, params, {
            index: _index
          }));
          break;
        }
      }
    }
  }, {
    key: "scrollToOffset",
    value: function scrollToOffset(params) {
      var animated = params.animated,
        offset = params.offset;
      if (this._scrollRef == null) {
        return;
      }
      if (this._scrollRef.scrollTo == null) {
        console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
        return;
      }
      this._scrollRef.scrollTo(horizontalOrDefault(this.props.horizontal) ? {
        x: offset,
        animated: animated
      } : {
        y: offset,
        animated: animated
      });
    }
  }, {
    key: "recordInteraction",
    value: function recordInteraction() {
      this._nestedChildLists.forEach(function (childList) {
        childList.recordInteraction();
      });
      this._viewabilityTuples.forEach(function (t) {
        t.viewabilityHelper.recordInteraction();
      });
      this._updateViewableItems(this.props, this.state.cellsAroundViewport);
    }
  }, {
    key: "flashScrollIndicators",
    value: function flashScrollIndicators() {
      if (this._scrollRef == null) {
        return;
      }
      this._scrollRef.flashScrollIndicators();
    }
  }, {
    key: "getScrollResponder",
    value: function getScrollResponder() {
      if (this._scrollRef && this._scrollRef.getScrollResponder) {
        return this._scrollRef.getScrollResponder();
      }
    }
  }, {
    key: "getScrollableNode",
    value: function getScrollableNode() {
      if (this._scrollRef && this._scrollRef.getScrollableNode) {
        return this._scrollRef.getScrollableNode();
      } else {
        return (0, _RendererProxy.findNodeHandle)(this._scrollRef);
      }
    }
  }, {
    key: "getScrollRef",
    value: function getScrollRef() {
      if (this._scrollRef && this._scrollRef.getScrollRef) {
        return this._scrollRef.getScrollRef();
      } else {
        return this._scrollRef;
      }
    }
  }, {
    key: "setNativeProps",
    value: function setNativeProps(props) {
      if (this._scrollRef) {
        this._scrollRef.setNativeProps(props);
      }
    }
  }, {
    key: "_getCellKey",
    value: function _getCellKey() {
      var _this$context;
      return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
    }
  }, {
    key: "hasMore",
    value: function hasMore() {
      return this._hasMore;
    }
  }, {
    key: "_adjustCellsAroundViewport",
    value: function _adjustCellsAroundViewport(props, cellsAroundViewport) {
      var data = props.data,
        getItemCount = props.getItemCount;
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(props.onEndReachedThreshold);
      this._updateViewableItems(props, cellsAroundViewport);
      var _this$_scrollMetrics = this._scrollMetrics,
        contentLength = _this$_scrollMetrics.contentLength,
        offset = _this$_scrollMetrics.offset,
        visibleLength = _this$_scrollMetrics.visibleLength;
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (visibleLength <= 0 || contentLength <= 0) {
        return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
      }
      var newCellsAroundViewport;
      if (props.disableVirtualization) {
        var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch) : 0;
        newCellsAroundViewport = {
          first: 0,
          last: Math.min(cellsAroundViewport.last + renderAhead, getItemCount(data) - 1)
        };
      } else {
        if (props.initialScrollIndex && !this._scrollMetrics.offset && Math.abs(distanceFromEnd) >= Number.EPSILON) {
          return cellsAroundViewport.last >= getItemCount(data) ? VirtualizedList._constrainToItemCount(cellsAroundViewport, props) : cellsAroundViewport;
        }
        newCellsAroundViewport = (0, _VirtualizeUtils.computeWindowedRenderLimits)(props, maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch), windowSizeOrDefault(props.windowSize), cellsAroundViewport, this.__getFrameMetricsApprox, this._scrollMetrics);
        (0, _invariant.default)(newCellsAroundViewport.last < getItemCount(data), 'computeWindowedRenderLimits() should return range in-bounds');
      }
      if (this._nestedChildLists.size() > 0) {
        var childIdx = this._findFirstChildWithMore(newCellsAroundViewport.first, newCellsAroundViewport.last);
        newCellsAroundViewport.last = childIdx != null ? childIdx : newCellsAroundViewport.last;
      }
      return newCellsAroundViewport;
    }
  }, {
    key: "_findFirstChildWithMore",
    value: function _findFirstChildWithMore(first, last) {
      for (var ii = first; ii <= last; ii++) {
        var cellKeyForIndex = this._indicesToKeys.get(ii);
        if (cellKeyForIndex != null && this._nestedChildLists.anyInCell(cellKeyForIndex, function (childList) {
          return childList.hasMore();
        })) {
          return ii;
        }
      }
      return null;
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.registerAsNestedChild({
          ref: this,
          cellKey: this.context.cellKey
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      if (this._isNestedWithSameOrientation()) {
        this.context.unregisterAsNestedChild({
          ref: this
        });
      }
      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.dispose();
      });
      this._fillRateHelper.deactivateAndFlush();
    }
  }, {
    key: "_pushCells",
    value: function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
      var _this2 = this;
      var _this$props4 = this.props,
        CellRendererComponent = _this$props4.CellRendererComponent,
        ItemSeparatorComponent = _this$props4.ItemSeparatorComponent,
        ListHeaderComponent = _this$props4.ListHeaderComponent,
        ListItemComponent = _this$props4.ListItemComponent,
        data = _this$props4.data,
        debug = _this$props4.debug,
        getItem = _this$props4.getItem,
        getItemCount = _this$props4.getItemCount,
        getItemLayout = _this$props4.getItemLayout,
        horizontal = _this$props4.horizontal,
        renderItem = _this$props4.renderItem;
      var stickyOffset = ListHeaderComponent ? 1 : 0;
      var end = getItemCount(data) - 1;
      var prevCellKey;
      last = Math.min(end, last);
      var _loop = function _loop() {
        var item = getItem(data, ii);
        var key = _this2._keyExtractor(item, ii, _this2.props);
        _this2._indicesToKeys.set(ii, key);
        if (stickyIndicesFromProps.has(ii + stickyOffset)) {
          stickyHeaderIndices.push(cells.length);
        }
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListCellRenderer.default, {
          CellRendererComponent: CellRendererComponent,
          ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
          ListItemComponent: ListItemComponent,
          cellKey: key,
          debug: debug,
          fillRateHelper: _this2._fillRateHelper,
          getItemLayout: getItemLayout,
          horizontal: horizontal,
          index: ii,
          inversionStyle: inversionStyle,
          item: item,
          prevCellKey: prevCellKey,
          onCellLayout: _this2._onCellLayout,
          onUpdateSeparators: _this2._onUpdateSeparators,
          onCellFocusCapture: function onCellFocusCapture(e) {
            return _this2._onCellFocusCapture(key);
          },
          onUnmount: _this2._onCellUnmount,
          ref: function ref(_ref) {
            _this2._cellRefs[key] = _ref;
          },
          renderItem: renderItem
        }, key));
        prevCellKey = key;
      };
      for (var ii = first; ii <= last; ii++) {
        _loop();
      }
    }
  }, {
    key: "_isNestedWithSameOrientation",
    value: function _isNestedWithSameOrientation() {
      var nestedContext = this.context;
      return !!(nestedContext && !!nestedContext.horizontal === horizontalOrDefault(this.props.horizontal));
    }
  }, {
    key: "_keyExtractor",
    value: function _keyExtractor(item, index, props) {
      if (props.keyExtractor != null) {
        return props.keyExtractor(item, index);
      }
      var key = (0, _VirtualizeUtils.keyExtractor)(item, index);
      if (key === String(index)) {
        _usedIndexForKey = true;
        if (item.type && item.type.displayName) {
          _keylessItemComponentName = item.type.displayName;
        }
      }
      return key;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      if (__DEV__) {
        var flatStyles = (0, _flattenStyle.default)(this.props.contentContainerStyle);
        if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
          console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
        }
      }
      var _this$props5 = this.props,
        ListEmptyComponent = _this$props5.ListEmptyComponent,
        ListFooterComponent = _this$props5.ListFooterComponent,
        ListHeaderComponent = _this$props5.ListHeaderComponent;
      var _this$props6 = this.props,
        data = _this$props6.data,
        horizontal = _this$props6.horizontal;
      var inversionStyle = this.props.inverted ? horizontalOrDefault(this.props.horizontal) ? styles.horizontallyInverted : styles.verticallyInverted : null;
      var cells = [];
      var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
      var stickyHeaderIndices = [];
      if (ListHeaderComponent) {
        if (stickyIndicesFromProps.has(0)) {
          stickyHeaderIndices.push(0);
        }
        var _element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : (0, _jsxRuntime.jsx)(ListHeaderComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-header',
          children: (0, _jsxRuntime.jsx)(_View.default, {
            onLayout: this._onLayoutHeader,
            style: _StyleSheet.default.compose(inversionStyle, this.props.ListHeaderComponentStyle),
            children: _element
          })
        }, "$header"));
      }
      var itemCount = this.props.getItemCount(data);
      if (itemCount === 0 && ListEmptyComponent) {
        var _element2 = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : (0, _jsxRuntime.jsx)(ListEmptyComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getCellKey() + '-empty',
          children: React.cloneElement(_element2, {
            onLayout: function onLayout(event) {
              _this3._onLayoutEmpty(event);
              if (_element2.props.onLayout) {
                _element2.props.onLayout(event);
              }
            },
            style: _StyleSheet.default.compose(inversionStyle, _element2.props.style)
          })
        }, "$empty"));
      }
      if (itemCount > 0) {
        _usedIndexForKey = false;
        _keylessItemComponentName = '';
        var spacerKey = this._getSpacerKey(!horizontal);
        var renderRegions = this.state.renderMask.enumerateRegions();
        var lastSpacer = findLastWhere(renderRegions, function (r) {
          return r.isSpacer;
        });
        for (var section of renderRegions) {
          if (section.isSpacer) {
            if (this.props.disableVirtualization) {
              continue;
            }
            var isLastSpacer = section === lastSpacer;
            var constrainToMeasured = isLastSpacer && !this.props.getItemLayout;
            var last = constrainToMeasured ? (0, _clamp.default)(section.first - 1, section.last, this._highestMeasuredFrameIndex) : section.last;
            var firstMetrics = this.__getFrameMetricsApprox(section.first, this.props);
            var lastMetrics = this.__getFrameMetricsApprox(last, this.props);
            var spacerSize = lastMetrics.offset + lastMetrics.length - firstMetrics.offset;
            cells.push((0, _jsxRuntime.jsx)(_View.default, {
              style: (0, _defineProperty2.default)({}, spacerKey, spacerSize)
            }, "$spacer-" + section.first));
          } else {
            this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, section.first, section.last, inversionStyle);
          }
        }
        if (!this._hasWarned.keys && _usedIndexForKey) {
          console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
          this._hasWarned.keys = true;
        }
      }
      if (ListFooterComponent) {
        var _element3 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : (0, _jsxRuntime.jsx)(ListFooterComponent, {});
        cells.push((0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListCellContextProvider, {
          cellKey: this._getFooterCellKey(),
          children: (0, _jsxRuntime.jsx)(_View.default, {
            onLayout: this._onLayoutFooter,
            style: _StyleSheet.default.compose(inversionStyle, this.props.ListFooterComponentStyle),
            children: _element3
          })
        }, "$footer"));
      }
      var scrollProps = Object.assign({}, this.props, {
        onContentSizeChange: this._onContentSizeChange,
        onLayout: this._onLayout,
        onScroll: this._onScroll,
        onScrollBeginDrag: this._onScrollBeginDrag,
        onScrollEndDrag: this._onScrollEndDrag,
        onMomentumScrollBegin: this._onMomentumScrollBegin,
        onMomentumScrollEnd: this._onMomentumScrollEnd,
        scrollEventThrottle: scrollEventThrottleOrDefault(this.props.scrollEventThrottle),
        invertStickyHeaders: this.props.invertStickyHeaders !== undefined ? this.props.invertStickyHeaders : this.props.inverted,
        stickyHeaderIndices: stickyHeaderIndices,
        style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style
      });
      this._hasMore = this.state.cellsAroundViewport.last < itemCount - 1;
      var innerRet = (0, _jsxRuntime.jsx)(_VirtualizedListContext.VirtualizedListContextProvider, {
        value: {
          cellKey: null,
          getScrollMetrics: this._getScrollMetrics,
          horizontal: horizontalOrDefault(this.props.horizontal),
          getOutermostParentListRef: this._getOutermostParentListRef,
          registerAsNestedChild: this._registerAsNestedChild,
          unregisterAsNestedChild: this._unregisterAsNestedChild
        },
        children: React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
          ref: this._captureScrollRef
        }, cells)
      });
      var ret = innerRet;
      if (__DEV__) {
        ret = (0, _jsxRuntime.jsx)(_ScrollView.default.Context.Consumer, {
          children: function children(scrollContext) {
            if (scrollContext != null && !scrollContext.horizontal === !horizontalOrDefault(_this3.props.horizontal) && !_this3._hasWarned.nesting && _this3.context == null && _this3.props.scrollEnabled !== false) {
              console.error('VirtualizedLists should never be nested inside plain ScrollViews with the same ' + 'orientation because it can break windowing and other functionality - use another ' + 'VirtualizedList-backed container instead.');
              _this3._hasWarned.nesting = true;
            }
            return innerRet;
          }
        });
      }
      if (this.props.debug) {
        return (0, _jsxRuntime.jsxs)(_View.default, {
          style: styles.debug,
          children: [ret, this._renderDebugOverlay()]
        });
      } else {
        return ret;
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var _this$props7 = this.props,
        data = _this$props7.data,
        extraData = _this$props7.extraData;
      if (data !== prevProps.data || extraData !== prevProps.extraData) {
        this._viewabilityTuples.forEach(function (tuple) {
          tuple.viewabilityHelper.resetViewableIndices();
        });
      }
      var hiPriInProgress = this._hiPriInProgress;
      this._scheduleCellsToRenderUpdate();
      if (hiPriInProgress) {
        this._hiPriInProgress = false;
      }
    }
  }, {
    key: "_computeBlankness",
    value: function _computeBlankness() {
      this._fillRateHelper.computeBlankness(this.props, this.state.cellsAroundViewport, this._scrollMetrics);
    }
  }, {
    key: "_onCellFocusCapture",
    value: function _onCellFocusCapture(cellKey) {
      this._lastFocusedCellKey = cellKey;
      var renderMask = VirtualizedList._createRenderMask(this.props, this.state.cellsAroundViewport, this._getNonViewportRenderRegions(this.props));
      this.setState(function (state) {
        if (!renderMask.equals(state.renderMask)) {
          return {
            renderMask: renderMask
          };
        }
        return null;
      });
    }
  }, {
    key: "_triggerRemeasureForChildListsInCell",
    value: function _triggerRemeasureForChildListsInCell(cellKey) {
      this._nestedChildLists.forEachInCell(cellKey, function (childList) {
        childList.measureLayoutRelativeToContainingList();
      });
    }
  }, {
    key: "measureLayoutRelativeToContainingList",
    value: function measureLayoutRelativeToContainingList() {
      var _this4 = this;
      try {
        if (!this._scrollRef) {
          return;
        }
        this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
          _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
            x: x,
            y: y
          });
          _this4._scrollMetrics.contentLength = _this4._selectLength({
            width: width,
            height: height
          });
          var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());
          var metricsChanged = _this4._scrollMetrics.visibleLength !== scrollMetrics.visibleLength || _this4._scrollMetrics.offset !== scrollMetrics.offset;
          if (metricsChanged) {
            _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
            _this4._scrollMetrics.offset = scrollMetrics.offset;
            _this4._nestedChildLists.forEach(function (childList) {
              childList.measureLayoutRelativeToContainingList();
            });
          }
        }, function (error) {
          console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
        });
      } catch (error) {
        console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
      }
    }
  }, {
    key: "_getFooterCellKey",
    value: function _getFooterCellKey() {
      return this._getCellKey() + '-footer';
    }
  }, {
    key: "_renderDebugOverlay",
    value: function _renderDebugOverlay() {
      var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
      var framesInLayout = [];
      var itemCount = this.props.getItemCount(this.props.data);
      for (var ii = 0; ii < itemCount; ii++) {
        var frame = this.__getFrameMetricsApprox(ii, this.props);
        if (frame.inLayout) {
          framesInLayout.push(frame);
        }
      }
      var windowTop = this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first, this.props).offset;
      var frameLast = this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last, this.props);
      var windowLen = frameLast.offset + frameLast.length - windowTop;
      var visTop = this._scrollMetrics.offset;
      var visLen = this._scrollMetrics.visibleLength;
      return (0, _jsxRuntime.jsxs)(_View.default, {
        style: [styles.debugOverlayBase, styles.debugOverlay],
        children: [framesInLayout.map(function (f, ii) {
          return (0, _jsxRuntime.jsx)(_View.default, {
            style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
              top: f.offset * normalize,
              height: f.length * normalize
            }]
          }, 'f' + ii);
        }), (0, _jsxRuntime.jsx)(_View.default, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
            top: windowTop * normalize,
            height: windowLen * normalize
          }]
        }), (0, _jsxRuntime.jsx)(_View.default, {
          style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
            top: visTop * normalize,
            height: visLen * normalize
          }]
        })]
      });
    }
  }, {
    key: "_selectLength",
    value: function _selectLength(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.height : metrics.width;
    }
  }, {
    key: "_selectOffset",
    value: function _selectOffset(metrics) {
      return !horizontalOrDefault(this.props.horizontal) ? metrics.y : metrics.x;
    }
  }, {
    key: "_maybeCallOnEndReached",
    value: function _maybeCallOnEndReached() {
      var _this$props8 = this.props,
        data = _this$props8.data,
        getItemCount = _this$props8.getItemCount,
        onEndReached = _this$props8.onEndReached,
        onEndReachedThreshold = _this$props8.onEndReachedThreshold;
      var _this$_scrollMetrics2 = this._scrollMetrics,
        contentLength = _this$_scrollMetrics2.contentLength,
        visibleLength = _this$_scrollMetrics2.visibleLength,
        offset = _this$_scrollMetrics2.offset;
      var distanceFromEnd = contentLength - visibleLength - offset;
      if (distanceFromEnd < ON_END_REACHED_EPSILON) {
        distanceFromEnd = 0;
      }
      var threshold = onEndReachedThreshold != null ? onEndReachedThreshold * visibleLength : 2;
      if (onEndReached && this.state.cellsAroundViewport.last === getItemCount(data) - 1 && distanceFromEnd <= threshold && this._scrollMetrics.contentLength !== this._sentEndForContentLength) {
        this._sentEndForContentLength = this._scrollMetrics.contentLength;
        onEndReached({
          distanceFromEnd: distanceFromEnd
        });
      } else if (distanceFromEnd > threshold) {
        this._sentEndForContentLength = 0;
      }
    }
  }, {
    key: "_scheduleCellsToRenderUpdate",
    value: function _scheduleCellsToRenderUpdate() {
      var _this$state$cellsArou = this.state.cellsAroundViewport,
        first = _this$state$cellsArou.first,
        last = _this$state$cellsArou.last;
      var _this$_scrollMetrics3 = this._scrollMetrics,
        offset = _this$_scrollMetrics3.offset,
        visibleLength = _this$_scrollMetrics3.visibleLength,
        velocity = _this$_scrollMetrics3.velocity;
      var itemCount = this.props.getItemCount(this.props.data);
      var hiPri = false;
      var onEndReachedThreshold = onEndReachedThresholdOrDefault(this.props.onEndReachedThreshold);
      var scrollingThreshold = onEndReachedThreshold * visibleLength / 2;
      if (first > 0) {
        var distTop = offset - this.__getFrameMetricsApprox(first, this.props).offset;
        hiPri = hiPri || distTop < 0 || velocity < -2 && distTop < scrollingThreshold;
      }
      if (last >= 0 && last < itemCount - 1) {
        var distBottom = this.__getFrameMetricsApprox(last, this.props).offset - (offset + visibleLength);
        hiPri = hiPri || distBottom < 0 || velocity > 2 && distBottom < scrollingThreshold;
      }
      if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
        this._hiPriInProgress = true;
        this._updateCellsToRenderBatcher.dispose({
          abort: true
        });
        this._updateCellsToRender();
        return;
      } else {
        this._updateCellsToRenderBatcher.schedule();
      }
    }
  }, {
    key: "_updateViewableItems",
    value: function _updateViewableItems(props, cellsAroundViewport) {
      var _this5 = this;
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.onUpdate(props, _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, cellsAroundViewport);
      });
    }
  }], [{
    key: "_createRenderMask",
    value: function _createRenderMask(props, cellsAroundViewport, additionalRegions) {
      var itemCount = props.getItemCount(props.data);
      (0, _invariant.default)(cellsAroundViewport.first >= 0 && cellsAroundViewport.last >= cellsAroundViewport.first - 1 && cellsAroundViewport.last < itemCount, "Invalid cells around viewport \"[" + cellsAroundViewport.first + ", " + cellsAroundViewport.last + "]\" was passed to VirtualizedList._createRenderMask");
      var renderMask = new _CellRenderMask.CellRenderMask(itemCount);
      if (itemCount > 0) {
        var allRegions = [cellsAroundViewport].concat((0, _toConsumableArray2.default)(additionalRegions != null ? additionalRegions : []));
        for (var region of allRegions) {
          renderMask.addCells(region);
        }
        if (props.initialScrollIndex == null || props.initialScrollIndex <= 0) {
          var initialRegion = VirtualizedList._initialRenderRegion(props);
          renderMask.addCells(initialRegion);
        }
        var stickyIndicesSet = new Set(props.stickyHeaderIndices);
        VirtualizedList._ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellsAroundViewport.first);
      }
      return renderMask;
    }
  }, {
    key: "_initialRenderRegion",
    value: function _initialRenderRegion(props) {
      var _props$initialScrollI;
      var itemCount = props.getItemCount(props.data);
      var scrollIndex = Math.floor(Math.max(0, (_props$initialScrollI = props.initialScrollIndex) != null ? _props$initialScrollI : 0));
      return {
        first: scrollIndex,
        last: Math.min(itemCount, scrollIndex + initialNumToRenderOrDefault(props.initialNumToRender)) - 1
      };
    }
  }, {
    key: "_ensureClosestStickyHeader",
    value: function _ensureClosestStickyHeader(props, stickyIndicesSet, renderMask, cellIdx) {
      var stickyOffset = props.ListHeaderComponent ? 1 : 0;
      for (var itemIdx = cellIdx - 1; itemIdx >= 0; itemIdx--) {
        if (stickyIndicesSet.has(itemIdx + stickyOffset)) {
          renderMask.addCells({
            first: itemIdx,
            last: itemIdx
          });
          break;
        }
      }
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(newProps, prevState) {
      var itemCount = newProps.getItemCount(newProps.data);
      if (itemCount === prevState.renderMask.numCells()) {
        return prevState;
      }
      var constrainedCells = VirtualizedList._constrainToItemCount(prevState.cellsAroundViewport, newProps);
      return {
        cellsAroundViewport: constrainedCells,
        renderMask: VirtualizedList._createRenderMask(newProps, constrainedCells)
      };
    }
  }, {
    key: "_constrainToItemCount",
    value: function _constrainToItemCount(cells, props) {
      var itemCount = props.getItemCount(props.data);
      var last = Math.min(itemCount - 1, cells.last);
      var maxToRenderPerBatch = maxToRenderPerBatchOrDefault(props.maxToRenderPerBatch);
      return {
        first: (0, _clamp.default)(0, itemCount - 1 - maxToRenderPerBatch, cells.first),
        last: last
      };
    }
  }]);
  return VirtualizedList;
}(_StateSafePureComponent.default);
exports.default = VirtualizedList;
VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
var styles = _StyleSheet.default.create({
  verticallyInverted: {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUmVmcmVzaENvbnRyb2wiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TY3JvbGxWaWV3IiwiX1ZpZXciLCJfQmF0Y2hpbmF0b3IiLCJfUmVuZGVyZXJQcm94eSIsIl9mbGF0dGVuU3R5bGUiLCJfU3R5bGVTaGVldCIsIl9jbGFtcCIsIl9pbmZvTG9nIiwiX0NlbGxSZW5kZXJNYXNrIiwiX0NoaWxkTGlzdENvbGxlY3Rpb24iLCJfRmlsbFJhdGVIZWxwZXIiLCJfU3RhdGVTYWZlUHVyZUNvbXBvbmVudCIsIl9WaWV3YWJpbGl0eUhlbHBlciIsIl9WaXJ0dWFsaXplZExpc3RDZWxsUmVuZGVyZXIiLCJfVmlydHVhbGl6ZWRMaXN0Q29udGV4dCIsIl9WaXJ0dWFsaXplVXRpbHMiLCJfaW52YXJpYW50IiwiUmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9qc3hSdW50aW1lIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIl9jcmVhdGVTdXBlciIsIkRlcml2ZWQiLCJoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIl9jcmVhdGVTdXBlckludGVybmFsIiwiU3VwZXIiLCJfZ2V0UHJvdG90eXBlT2YyIiwicmVzdWx0IiwiTmV3VGFyZ2V0IiwiY29uc3RydWN0b3IiLCJSZWZsZWN0IiwiY29uc3RydWN0IiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybjIiLCJzaGFtIiwiUHJveHkiLCJCb29sZWFuIiwidmFsdWVPZiIsImUiLCJPTl9FTkRfUkVBQ0hFRF9FUFNJTE9OIiwiX3VzZWRJbmRleEZvcktleSIsIl9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUiLCJob3Jpem9udGFsT3JEZWZhdWx0IiwiaG9yaXpvbnRhbCIsImluaXRpYWxOdW1Ub1JlbmRlck9yRGVmYXVsdCIsImluaXRpYWxOdW1Ub1JlbmRlciIsIm1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQiLCJtYXhUb1JlbmRlclBlckJhdGNoIiwib25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0Iiwib25FbmRSZWFjaGVkVGhyZXNob2xkIiwic2Nyb2xsRXZlbnRUaHJvdHRsZU9yRGVmYXVsdCIsInNjcm9sbEV2ZW50VGhyb3R0bGUiLCJ3aW5kb3dTaXplT3JEZWZhdWx0Iiwid2luZG93U2l6ZSIsImZpbmRMYXN0V2hlcmUiLCJhcnIiLCJwcmVkaWNhdGUiLCJpIiwibGVuZ3RoIiwiVmlydHVhbGl6ZWRMaXN0IiwiX1N0YXRlU2FmZVB1cmVDb21wb25lIiwiX2luaGVyaXRzMiIsIl9zdXBlciIsInByb3BzIiwiX3RoaXMkcHJvcHMkdXBkYXRlQ2VsIiwiX3RoaXMiLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2dldFNjcm9sbE1ldHJpY3MiLCJfc2Nyb2xsTWV0cmljcyIsIl9nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbiIsImNvbnRleHQiLCJnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZDIiLCJfcmVnaXN0ZXJBc05lc3RlZENoaWxkIiwiY2hpbGRMaXN0IiwiX25lc3RlZENoaWxkTGlzdHMiLCJhZGQiLCJyZWYiLCJjZWxsS2V5IiwiX2hhc0ludGVyYWN0ZWQiLCJyZWNvcmRJbnRlcmFjdGlvbiIsIl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsInJlbW92ZSIsIl9vblVwZGF0ZVNlcGFyYXRvcnMiLCJrZXlzIiwibmV3UHJvcHMiLCJmb3JFYWNoIiwiX2NlbGxSZWZzIiwidXBkYXRlU2VwYXJhdG9yUHJvcHMiLCJfZ2V0U3BhY2VyS2V5IiwiaXNWZXJ0aWNhbCIsIl9hdmVyYWdlQ2VsbExlbmd0aCIsIl9mcmFtZXMiLCJfZm9vdGVyTGVuZ3RoIiwiX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4IiwiX2hhc01vcmUiLCJfaGFzV2FybmVkIiwiX2hlYWRlckxlbmd0aCIsIl9oaVByaUluUHJvZ3Jlc3MiLCJfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCIsIl9pbmRpY2VzVG9LZXlzIiwiTWFwIiwiX2xhc3RGb2N1c2VkQ2VsbEtleSIsIkNoaWxkTGlzdENvbGxlY3Rpb24iLCJfb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiY29udGVudExlbmd0aCIsImRPZmZzZXQiLCJkdCIsIm9mZnNldCIsInRpbWVzdGFtcCIsInZlbG9jaXR5IiwidmlzaWJsZUxlbmd0aCIsInpvb21TY2FsZSIsIl9zY3JvbGxSZWYiLCJfc2VudEVuZEZvckNvbnRlbnRMZW5ndGgiLCJfdG90YWxDZWxsTGVuZ3RoIiwiX3RvdGFsQ2VsbHNNZWFzdXJlZCIsIl92aWV3YWJpbGl0eVR1cGxlcyIsIl9jYXB0dXJlU2Nyb2xsUmVmIiwiX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQiLCJvblJlZnJlc2giLCJqc3giLCJhc3NpZ24iLCJfcHJvcHMkcmVmcmVzaGluZyIsImludmFyaWFudCIsInJlZnJlc2hpbmciLCJKU09OIiwic3RyaW5naWZ5IiwicmVmcmVzaENvbnRyb2wiLCJwcm9ncmVzc1ZpZXdPZmZzZXQiLCJfb25DZWxsTGF5b3V0IiwiaW5kZXgiLCJsYXlvdXQiLCJuYXRpdmVFdmVudCIsIm5leHQiLCJfc2VsZWN0T2Zmc2V0IiwiX3NlbGVjdExlbmd0aCIsImluTGF5b3V0IiwiY3VyciIsIk1hdGgiLCJtYXgiLCJfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlIiwiX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsIiwiX2NvbXB1dGVCbGFua25lc3MiLCJfdXBkYXRlVmlld2FibGVJdGVtcyIsInN0YXRlIiwiY2VsbHNBcm91bmRWaWV3cG9ydCIsIl9vbkNlbGxVbm1vdW50IiwiX29uTGF5b3V0IiwibWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCIsIm9uTGF5b3V0IiwiX21heWJlQ2FsbE9uRW5kUmVhY2hlZCIsIl9vbkxheW91dEVtcHR5IiwiX29uTGF5b3V0Rm9vdGVyIiwiX2dldEZvb3RlckNlbGxLZXkiLCJfb25MYXlvdXRIZWFkZXIiLCJfb25Db250ZW50U2l6ZUNoYW5nZSIsIndpZHRoIiwiaGVpZ2h0IiwiaW5pdGlhbFNjcm9sbEluZGV4IiwiY29udGVudE9mZnNldCIsInNjcm9sbFRvSW5kZXgiLCJhbmltYXRlZCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzIiwiX29uU2Nyb2xsIiwib25TY3JvbGwiLCJ0aW1lU3RhbXAiLCJsYXlvdXRNZWFzdXJlbWVudCIsImNvbnRlbnRTaXplIiwiX3RoaXMkX2NvbnZlcnRQYXJlbnRTIiwicGVyZiIsImluZm9Mb2ciLCJwcmV2RHQiLCJfZmlsbFJhdGVIZWxwZXIiLCJhY3RpdmF0ZSIsIl9vblNjcm9sbEJlZ2luRHJhZyIsInR1cGxlIiwidmlld2FiaWxpdHlIZWxwZXIiLCJvblNjcm9sbEJlZ2luRHJhZyIsIl9vblNjcm9sbEVuZERyYWciLCJvblNjcm9sbEVuZERyYWciLCJfb25Nb21lbnR1bVNjcm9sbEJlZ2luIiwib25Nb21lbnR1bVNjcm9sbEJlZ2luIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX3VwZGF0ZUNlbGxzVG9SZW5kZXIiLCJzZXRTdGF0ZSIsIl9hZGp1c3RDZWxsc0Fyb3VuZFZpZXdwb3J0IiwicmVuZGVyTWFzayIsIl9jcmVhdGVSZW5kZXJNYXNrIiwiX2dldE5vblZpZXdwb3J0UmVuZGVyUmVnaW9ucyIsImZpcnN0IiwibGFzdCIsImVxdWFscyIsIl9jcmVhdGVWaWV3VG9rZW4iLCJpc1ZpZXdhYmxlIiwiZGF0YSIsImdldEl0ZW0iLCJpdGVtIiwiX2tleUV4dHJhY3RvciIsIl9nZXRPZmZzZXRBcHByb3giLCJOdW1iZXIiLCJpc0ludGVnZXIiLCJfX2dldEZyYW1lTWV0cmljc0FwcHJveCIsImZyYW1lTWV0cmljcyIsImZsb29yIiwicmVtYWluZGVyIiwiZnJhbWUiLCJfZ2V0RnJhbWVNZXRyaWNzIiwiZ2V0SXRlbUNvdW50IiwiZ2V0SXRlbUxheW91dCIsImxhc3RGb2N1c2VkQ2VsbFJlbmRlcmVyIiwiZm9jdXNlZENlbGxJbmRleCIsIml0ZW1Db3VudCIsImhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkIiwiaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCIsIl9faXNOYXRpdmUiLCJGaWxsUmF0ZUhlbHBlciIsIl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciIsIkJhdGNoaW5hdG9yIiwidXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCIsInZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycyIsIm1hcCIsInBhaXIiLCJWaWV3YWJpbGl0eUhlbHBlciIsInZpZXdhYmlsaXR5Q29uZmlnIiwib25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCIsIl90aGlzJHByb3BzIiwicHVzaCIsImluaXRpYWxSZW5kZXJSZWdpb24iLCJfaW5pdGlhbFJlbmRlclJlZ2lvbiIsIl9jcmVhdGVDbGFzczIiLCJ2YWx1ZSIsInNjcm9sbFRvRW5kIiwicGFyYW1zIiwidmVyeUxhc3QiLCJzY3JvbGxUbyIsImNvbnNvbGUiLCJ3YXJuIiwieCIsInkiLCJfdGhpcyRwcm9wczIiLCJvblNjcm9sbFRvSW5kZXhGYWlsZWQiLCJ2aWV3T2Zmc2V0Iiwidmlld1Bvc2l0aW9uIiwiYXZlcmFnZUl0ZW1MZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4Iiwic2Nyb2xsVG9JdGVtIiwiX3RoaXMkcHJvcHMzIiwic2Nyb2xsVG9PZmZzZXQiLCJ0IiwiZmxhc2hTY3JvbGxJbmRpY2F0b3JzIiwiZ2V0U2Nyb2xsUmVzcG9uZGVyIiwiZ2V0U2Nyb2xsYWJsZU5vZGUiLCJmaW5kTm9kZUhhbmRsZSIsImdldFNjcm9sbFJlZiIsInNldE5hdGl2ZVByb3BzIiwiX2dldENlbGxLZXkiLCJfdGhpcyRjb250ZXh0IiwiaGFzTW9yZSIsIl90aGlzJF9zY3JvbGxNZXRyaWNzIiwiZGlzdGFuY2VGcm9tRW5kIiwiX2NvbnN0cmFpblRvSXRlbUNvdW50IiwibmV3Q2VsbHNBcm91bmRWaWV3cG9ydCIsImRpc2FibGVWaXJ0dWFsaXphdGlvbiIsInJlbmRlckFoZWFkIiwibWluIiwiYWJzIiwiRVBTSUxPTiIsImNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyIsInNpemUiLCJjaGlsZElkeCIsIl9maW5kRmlyc3RDaGlsZFdpdGhNb3JlIiwiaWkiLCJjZWxsS2V5Rm9ySW5kZXgiLCJhbnlJbkNlbGwiLCJjb21wb25lbnREaWRNb3VudCIsInJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwidW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJkaXNwb3NlIiwiYWJvcnQiLCJkZWFjdGl2YXRlQW5kRmx1c2giLCJfcHVzaENlbGxzIiwiY2VsbHMiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwic3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyIsImludmVyc2lvblN0eWxlIiwiX3RoaXMyIiwiX3RoaXMkcHJvcHM0IiwiQ2VsbFJlbmRlcmVyQ29tcG9uZW50IiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJMaXN0SXRlbUNvbXBvbmVudCIsImRlYnVnIiwicmVuZGVySXRlbSIsInN0aWNreU9mZnNldCIsImVuZCIsInByZXZDZWxsS2V5IiwiX2xvb3AiLCJ1bmRlZmluZWQiLCJmaWxsUmF0ZUhlbHBlciIsIm9uQ2VsbExheW91dCIsIm9uVXBkYXRlU2VwYXJhdG9ycyIsIm9uQ2VsbEZvY3VzQ2FwdHVyZSIsIl9vbkNlbGxGb2N1c0NhcHR1cmUiLCJvblVubW91bnQiLCJuZXN0ZWRDb250ZXh0Iiwia2V5RXh0cmFjdG9yIiwiZGVmYXVsdEtleUV4dHJhY3RvciIsIlN0cmluZyIsInR5cGUiLCJkaXNwbGF5TmFtZSIsInJlbmRlciIsIl90aGlzMyIsIl9fREVWX18iLCJmbGF0U3R5bGVzIiwiZmxhdHRlblN0eWxlIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwiZmxleFdyYXAiLCJfdGhpcyRwcm9wczUiLCJMaXN0RW1wdHlDb21wb25lbnQiLCJMaXN0Rm9vdGVyQ29tcG9uZW50IiwiX3RoaXMkcHJvcHM2IiwiaW52ZXJ0ZWQiLCJzdHlsZXMiLCJob3Jpem9udGFsbHlJbnZlcnRlZCIsInZlcnRpY2FsbHlJbnZlcnRlZCIsIlNldCIsImVsZW1lbnQiLCJpc1ZhbGlkRWxlbWVudCIsIlZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXIiLCJjaGlsZHJlbiIsInN0eWxlIiwiU3R5bGVTaGVldCIsImNvbXBvc2UiLCJMaXN0SGVhZGVyQ29tcG9uZW50U3R5bGUiLCJjbG9uZUVsZW1lbnQiLCJldmVudCIsInNwYWNlcktleSIsInJlbmRlclJlZ2lvbnMiLCJlbnVtZXJhdGVSZWdpb25zIiwibGFzdFNwYWNlciIsInIiLCJpc1NwYWNlciIsInNlY3Rpb24iLCJpc0xhc3RTcGFjZXIiLCJjb25zdHJhaW5Ub01lYXN1cmVkIiwiY2xhbXAiLCJmaXJzdE1ldHJpY3MiLCJsYXN0TWV0cmljcyIsInNwYWNlclNpemUiLCJfZGVmaW5lUHJvcGVydHkyIiwiTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlIiwic2Nyb2xsUHJvcHMiLCJpbnZlcnRTdGlja3lIZWFkZXJzIiwiaW5uZXJSZXQiLCJWaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXIiLCJnZXRTY3JvbGxNZXRyaWNzIiwicmVuZGVyU2Nyb2xsQ29tcG9uZW50IiwicmV0IiwiQ29udGV4dCIsIkNvbnN1bWVyIiwic2Nyb2xsQ29udGV4dCIsIm5lc3RpbmciLCJzY3JvbGxFbmFibGVkIiwiZXJyb3IiLCJqc3hzIiwiX3JlbmRlckRlYnVnT3ZlcmxheSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsIl90aGlzJHByb3BzNyIsImV4dHJhRGF0YSIsInJlc2V0Vmlld2FibGVJbmRpY2VzIiwiaGlQcmlJblByb2dyZXNzIiwiY29tcHV0ZUJsYW5rbmVzcyIsImZvckVhY2hJbkNlbGwiLCJfdGhpczQiLCJtZWFzdXJlTGF5b3V0Iiwic2Nyb2xsTWV0cmljcyIsIm1ldHJpY3NDaGFuZ2VkIiwic3RhY2siLCJub3JtYWxpemUiLCJmcmFtZXNJbkxheW91dCIsIndpbmRvd1RvcCIsImZyYW1lTGFzdCIsIndpbmRvd0xlbiIsInZpc1RvcCIsInZpc0xlbiIsImRlYnVnT3ZlcmxheUJhc2UiLCJkZWJ1Z092ZXJsYXkiLCJmIiwiZGVidWdPdmVybGF5RnJhbWUiLCJ0b3AiLCJkZWJ1Z092ZXJsYXlGcmFtZUxhc3QiLCJkZWJ1Z092ZXJsYXlGcmFtZVZpcyIsIl90aGlzJHByb3BzOCIsIm9uRW5kUmVhY2hlZCIsIl90aGlzJF9zY3JvbGxNZXRyaWNzMiIsInRocmVzaG9sZCIsIl90aGlzJHN0YXRlJGNlbGxzQXJvdSIsIl90aGlzJF9zY3JvbGxNZXRyaWNzMyIsImhpUHJpIiwic2Nyb2xsaW5nVGhyZXNob2xkIiwiZGlzdFRvcCIsImRpc3RCb3R0b20iLCJzY2hlZHVsZSIsIl90aGlzNSIsIm9uVXBkYXRlIiwiYWRkaXRpb25hbFJlZ2lvbnMiLCJDZWxsUmVuZGVyTWFzayIsImFsbFJlZ2lvbnMiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwicmVnaW9uIiwiYWRkQ2VsbHMiLCJpbml0aWFsUmVnaW9uIiwic3RpY2t5SW5kaWNlc1NldCIsIl9lbnN1cmVDbG9zZXN0U3RpY2t5SGVhZGVyIiwiX3Byb3BzJGluaXRpYWxTY3JvbGxJIiwic2Nyb2xsSW5kZXgiLCJjZWxsSWR4IiwiaXRlbUlkeCIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsInByZXZTdGF0ZSIsIm51bUNlbGxzIiwiY29uc3RyYWluZWRDZWxscyIsIlN0YXRlU2FmZVB1cmVDb21wb25lbnQiLCJleHBvcnRzIiwiY29udGV4dFR5cGUiLCJWaXJ0dWFsaXplZExpc3RDb250ZXh0IiwiY3JlYXRlIiwidHJhbnNmb3JtIiwic2NhbGVZIiwic2NhbGVYIiwiZmxleCIsInBvc2l0aW9uIiwicmlnaHQiLCJib3R0b20iLCJib3JkZXJDb2xvciIsImJvcmRlcldpZHRoIiwibGVmdCIsImJhY2tncm91bmRDb2xvciJdLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7U2Nyb2xsUmVzcG9uZGVyVHlwZX0gZnJvbSAnLi4vQ29tcG9uZW50cy9TY3JvbGxWaWV3L1Njcm9sbFZpZXcnO1xuaW1wb3J0IHR5cGUge1ZpZXdTdHlsZVByb3B9IGZyb20gJy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7TGF5b3V0RXZlbnQsIFNjcm9sbEV2ZW50fSBmcm9tICcuLi9UeXBlcy9Db3JlRXZlbnRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7Vmlld1Rva2VufSBmcm9tICcuL1ZpZXdhYmlsaXR5SGVscGVyJztcbmltcG9ydCB0eXBlIHtcbiAgRnJhbWVNZXRyaWNQcm9wcyxcbiAgSXRlbSxcbiAgUHJvcHMsXG4gIFJlbmRlckl0ZW1Qcm9wcyxcbiAgUmVuZGVySXRlbVR5cGUsXG4gIFNlcGFyYXRvcnMsXG59IGZyb20gJy4vVmlydHVhbGl6ZWRMaXN0UHJvcHMnO1xuXG5pbXBvcnQgUmVmcmVzaENvbnRyb2wgZnJvbSAnLi4vQ29tcG9uZW50cy9SZWZyZXNoQ29udHJvbC9SZWZyZXNoQ29udHJvbCc7XG5pbXBvcnQgU2Nyb2xsVmlldyBmcm9tICcuLi9Db21wb25lbnRzL1Njcm9sbFZpZXcvU2Nyb2xsVmlldyc7XG5pbXBvcnQgVmlldyBmcm9tICcuLi9Db21wb25lbnRzL1ZpZXcvVmlldyc7XG5pbXBvcnQgQmF0Y2hpbmF0b3IgZnJvbSAnLi4vSW50ZXJhY3Rpb24vQmF0Y2hpbmF0b3InO1xuaW1wb3J0IHtmaW5kTm9kZUhhbmRsZX0gZnJvbSAnLi4vUmVhY3ROYXRpdmUvUmVuZGVyZXJQcm94eSc7XG5pbXBvcnQgZmxhdHRlblN0eWxlIGZyb20gJy4uL1N0eWxlU2hlZXQvZmxhdHRlblN0eWxlJztcbmltcG9ydCBTdHlsZVNoZWV0IGZyb20gJy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgY2xhbXAgZnJvbSAnLi4vVXRpbGl0aWVzL2NsYW1wJztcbmltcG9ydCBpbmZvTG9nIGZyb20gJy4uL1V0aWxpdGllcy9pbmZvTG9nJztcbmltcG9ydCB7Q2VsbFJlbmRlck1hc2t9IGZyb20gJy4vQ2VsbFJlbmRlck1hc2snO1xuaW1wb3J0IENoaWxkTGlzdENvbGxlY3Rpb24gZnJvbSAnLi9DaGlsZExpc3RDb2xsZWN0aW9uJztcbmltcG9ydCBGaWxsUmF0ZUhlbHBlciBmcm9tICcuL0ZpbGxSYXRlSGVscGVyJztcbmltcG9ydCBTdGF0ZVNhZmVQdXJlQ29tcG9uZW50IGZyb20gJy4vU3RhdGVTYWZlUHVyZUNvbXBvbmVudCc7XG5pbXBvcnQgVmlld2FiaWxpdHlIZWxwZXIgZnJvbSAnLi9WaWV3YWJpbGl0eUhlbHBlcic7XG5pbXBvcnQgQ2VsbFJlbmRlcmVyIGZyb20gJy4vVmlydHVhbGl6ZWRMaXN0Q2VsbFJlbmRlcmVyJztcbmltcG9ydCB7XG4gIFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXIsXG4gIFZpcnR1YWxpemVkTGlzdENvbnRleHQsXG4gIFZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlcixcbn0gZnJvbSAnLi9WaXJ0dWFsaXplZExpc3RDb250ZXh0LmpzJztcbmltcG9ydCB7XG4gIGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyxcbiAga2V5RXh0cmFjdG9yIGFzIGRlZmF1bHRLZXlFeHRyYWN0b3IsXG59IGZyb20gJy4vVmlydHVhbGl6ZVV0aWxzJztcbmltcG9ydCBpbnZhcmlhbnQgZnJvbSAnaW52YXJpYW50JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZXhwb3J0IHR5cGUge1JlbmRlckl0ZW1Qcm9wcywgUmVuZGVySXRlbVR5cGUsIFNlcGFyYXRvcnN9O1xuXG5jb25zdCBPTl9FTkRfUkVBQ0hFRF9FUFNJTE9OID0gMC4wMDE7XG5cbmxldCBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG5sZXQgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZTogc3RyaW5nID0gJyc7XG5cbnR5cGUgVmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlID0ge1xuICB2aWV3YWJpbGl0eUhlbHBlcjogVmlld2FiaWxpdHlIZWxwZXIsXG4gIG9uVmlld2FibGVJdGVtc0NoYW5nZWQ6IChpbmZvOiB7XG4gICAgdmlld2FibGVJdGVtczogQXJyYXk8Vmlld1Rva2VuPixcbiAgICBjaGFuZ2VkOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIC4uLlxuICB9KSA9PiB2b2lkLFxuICAuLi5cbn07XG5cbnR5cGUgU3RhdGUgPSB7XG4gIHJlbmRlck1hc2s6IENlbGxSZW5kZXJNYXNrLFxuICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbn07XG5cbi8qKlxuICogRGVmYXVsdCBQcm9wcyBIZWxwZXIgRnVuY3Rpb25zXG4gKiBVc2UgdGhlIGZvbGxvd2luZyBoZWxwZXIgZnVuY3Rpb25zIGZvciBkZWZhdWx0IHZhbHVlc1xuICovXG5cbi8vIGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuZnVuY3Rpb24gaG9yaXpvbnRhbE9yRGVmYXVsdChob3Jpem9udGFsOiA/Ym9vbGVhbikge1xuICByZXR1cm4gaG9yaXpvbnRhbCA/PyBmYWxzZTtcbn1cblxuLy8gaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0KHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0KVxuZnVuY3Rpb24gaW5pdGlhbE51bVRvUmVuZGVyT3JEZWZhdWx0KGluaXRpYWxOdW1Ub1JlbmRlcjogP251bWJlcikge1xuICByZXR1cm4gaW5pdGlhbE51bVRvUmVuZGVyID8/IDEwO1xufVxuXG4vLyBtYXhUb1JlbmRlclBlckJhdGNoT3JEZWZhdWx0KHRoaXMucHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaClcbmZ1bmN0aW9uIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQobWF4VG9SZW5kZXJQZXJCYXRjaDogP251bWJlcikge1xuICByZXR1cm4gbWF4VG9SZW5kZXJQZXJCYXRjaCA/PyAxMDtcbn1cblxuLy8gb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KHRoaXMucHJvcHMub25FbmRSZWFjaGVkVGhyZXNob2xkKVxuZnVuY3Rpb24gb25FbmRSZWFjaGVkVGhyZXNob2xkT3JEZWZhdWx0KG9uRW5kUmVhY2hlZFRocmVzaG9sZDogP251bWJlcikge1xuICByZXR1cm4gb25FbmRSZWFjaGVkVGhyZXNob2xkID8/IDI7XG59XG5cbi8vIHNjcm9sbEV2ZW50VGhyb3R0bGVPckRlZmF1bHQodGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlKVxuZnVuY3Rpb24gc2Nyb2xsRXZlbnRUaHJvdHRsZU9yRGVmYXVsdChzY3JvbGxFdmVudFRocm90dGxlOiA/bnVtYmVyKSB7XG4gIHJldHVybiBzY3JvbGxFdmVudFRocm90dGxlID8/IDUwO1xufVxuXG4vLyB3aW5kb3dTaXplT3JEZWZhdWx0KHRoaXMucHJvcHMud2luZG93U2l6ZSlcbmZ1bmN0aW9uIHdpbmRvd1NpemVPckRlZmF1bHQod2luZG93U2l6ZTogP251bWJlcikge1xuICByZXR1cm4gd2luZG93U2l6ZSA/PyAyMTtcbn1cblxuZnVuY3Rpb24gZmluZExhc3RXaGVyZTxUPihcbiAgYXJyOiAkUmVhZE9ubHlBcnJheTxUPixcbiAgcHJlZGljYXRlOiAoZWxlbWVudDogVCkgPT4gYm9vbGVhbixcbik6IFQgfCBudWxsIHtcbiAgZm9yIChsZXQgaSA9IGFyci5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGlmIChwcmVkaWNhdGUoYXJyW2ldKSkge1xuICAgICAgcmV0dXJuIGFycltpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBCYXNlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgbW9yZSBjb252ZW5pZW50IFtgPEZsYXRMaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvZmxhdGxpc3QpXG4gKiBhbmQgW2A8U2VjdGlvbkxpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9zZWN0aW9ubGlzdCkgY29tcG9uZW50cywgd2hpY2ggYXJlIGFsc28gYmV0dGVyXG4gKiBkb2N1bWVudGVkLiBJbiBnZW5lcmFsLCB0aGlzIHNob3VsZCBvbmx5IHJlYWxseSBiZSB1c2VkIGlmIHlvdSBuZWVkIG1vcmUgZmxleGliaWxpdHkgdGhhblxuICogYEZsYXRMaXN0YCBwcm92aWRlcywgZS5nLiBmb3IgdXNlIHdpdGggaW1tdXRhYmxlIGRhdGEgaW5zdGVhZCBvZiBwbGFpbiBhcnJheXMuXG4gKlxuICogVmlydHVhbGl6YXRpb24gbWFzc2l2ZWx5IGltcHJvdmVzIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgcGVyZm9ybWFuY2Ugb2YgbGFyZ2UgbGlzdHMgYnlcbiAqIG1haW50YWluaW5nIGEgZmluaXRlIHJlbmRlciB3aW5kb3cgb2YgYWN0aXZlIGl0ZW1zIGFuZCByZXBsYWNpbmcgYWxsIGl0ZW1zIG91dHNpZGUgb2YgdGhlIHJlbmRlclxuICogd2luZG93IHdpdGggYXBwcm9wcmlhdGVseSBzaXplZCBibGFuayBzcGFjZS4gVGhlIHdpbmRvdyBhZGFwdHMgdG8gc2Nyb2xsaW5nIGJlaGF2aW9yLCBhbmQgaXRlbXNcbiAqIGFyZSByZW5kZXJlZCBpbmNyZW1lbnRhbGx5IHdpdGggbG93LXByaSAoYWZ0ZXIgYW55IHJ1bm5pbmcgaW50ZXJhY3Rpb25zKSBpZiB0aGV5IGFyZSBmYXIgZnJvbSB0aGVcbiAqIHZpc2libGUgYXJlYSwgb3Igd2l0aCBoaS1wcmkgb3RoZXJ3aXNlIHRvIG1pbmltaXplIHRoZSBwb3RlbnRpYWwgb2Ygc2VlaW5nIGJsYW5rIHNwYWNlLlxuICpcbiAqIFNvbWUgY2F2ZWF0czpcbiAqXG4gKiAtIEludGVybmFsIHN0YXRlIGlzIG5vdCBwcmVzZXJ2ZWQgd2hlbiBjb250ZW50IHNjcm9sbHMgb3V0IG9mIHRoZSByZW5kZXIgd2luZG93LiBNYWtlIHN1cmUgYWxsXG4gKiAgIHlvdXIgZGF0YSBpcyBjYXB0dXJlZCBpbiB0aGUgaXRlbSBkYXRhIG9yIGV4dGVybmFsIHN0b3JlcyBsaWtlIEZsdXgsIFJlZHV4LCBvciBSZWxheS5cbiAqIC0gVGhpcyBpcyBhIGBQdXJlQ29tcG9uZW50YCB3aGljaCBtZWFucyB0aGF0IGl0IHdpbGwgbm90IHJlLXJlbmRlciBpZiBgcHJvcHNgIHJlbWFpbiBzaGFsbG93LVxuICogICBlcXVhbC4gTWFrZSBzdXJlIHRoYXQgZXZlcnl0aGluZyB5b3VyIGByZW5kZXJJdGVtYCBmdW5jdGlvbiBkZXBlbmRzIG9uIGlzIHBhc3NlZCBhcyBhIHByb3BcbiAqICAgKGUuZy4gYGV4dHJhRGF0YWApIHRoYXQgaXMgbm90IGA9PT1gIGFmdGVyIHVwZGF0ZXMsIG90aGVyd2lzZSB5b3VyIFVJIG1heSBub3QgdXBkYXRlIG9uXG4gKiAgIGNoYW5nZXMuIFRoaXMgaW5jbHVkZXMgdGhlIGBkYXRhYCBwcm9wIGFuZCBwYXJlbnQgY29tcG9uZW50IHN0YXRlLlxuICogLSBJbiBvcmRlciB0byBjb25zdHJhaW4gbWVtb3J5IGFuZCBlbmFibGUgc21vb3RoIHNjcm9sbGluZywgY29udGVudCBpcyByZW5kZXJlZCBhc3luY2hyb25vdXNseVxuICogICBvZmZzY3JlZW4uIFRoaXMgbWVhbnMgaXQncyBwb3NzaWJsZSB0byBzY3JvbGwgZmFzdGVyIHRoYW4gdGhlIGZpbGwgcmF0ZSBhbmRzIG1vbWVudGFyaWx5IHNlZVxuICogICBibGFuayBjb250ZW50LiBUaGlzIGlzIGEgdHJhZGVvZmYgdGhhdCBjYW4gYmUgYWRqdXN0ZWQgdG8gc3VpdCB0aGUgbmVlZHMgb2YgZWFjaCBhcHBsaWNhdGlvbixcbiAqICAgYW5kIHdlIGFyZSB3b3JraW5nIG9uIGltcHJvdmluZyBpdCBiZWhpbmQgdGhlIHNjZW5lcy5cbiAqIC0gQnkgZGVmYXVsdCwgdGhlIGxpc3QgbG9va3MgZm9yIGEgYGtleWAgb3IgYGlkYCBwcm9wIG9uIGVhY2ggaXRlbSBhbmQgdXNlcyB0aGF0IGZvciB0aGUgUmVhY3Qga2V5LlxuICogICBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHByb3ZpZGUgYSBjdXN0b20gYGtleUV4dHJhY3RvcmAgcHJvcC5cbiAqIC0gQXMgYW4gZWZmb3J0IHRvIHJlbW92ZSBkZWZhdWx0UHJvcHMsIHVzZSBoZWxwZXIgZnVuY3Rpb25zIHdoZW4gcmVmZXJlbmNpbmcgY2VydGFpbiBwcm9wc1xuICpcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlydHVhbGl6ZWRMaXN0IGV4dGVuZHMgU3RhdGVTYWZlUHVyZUNvbXBvbmVudDxcbiAgUHJvcHMsXG4gIFN0YXRlLFxuPiB7XG4gIHN0YXRpYyBjb250ZXh0VHlwZTogdHlwZW9mIFZpcnR1YWxpemVkTGlzdENvbnRleHQgPSBWaXJ0dWFsaXplZExpc3RDb250ZXh0O1xuXG4gIC8vIHNjcm9sbFRvRW5kIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBzY3JvbGxUb0VuZChwYXJhbXM/OiA/e2FuaW1hdGVkPzogP2Jvb2xlYW4sIC4uLn0pIHtcbiAgICBjb25zdCBhbmltYXRlZCA9IHBhcmFtcyA/IHBhcmFtcy5hbmltYXRlZCA6IHRydWU7XG4gICAgY29uc3QgdmVyeUxhc3QgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3godmVyeUxhc3QsIHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IG9mZnNldCA9IE1hdGgubWF4KFxuICAgICAgMCxcbiAgICAgIGZyYW1lLm9mZnNldCArXG4gICAgICAgIGZyYW1lLmxlbmd0aCArXG4gICAgICAgIHRoaXMuX2Zvb3Rlckxlbmd0aCAtXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICtcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArXG4gICAgICAgICAgJ3VzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBzY3JvbGxUby4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgICAgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH1cbiAgICAgICAgOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIC8vIHNjcm9sbFRvSW5kZXggbWF5IGJlIGphbmt5IHdpdGhvdXQgZ2V0SXRlbUxheW91dCBwcm9wXG4gIHNjcm9sbFRvSW5kZXgocGFyYW1zOiB7XG4gICAgYW5pbWF0ZWQ/OiA/Ym9vbGVhbixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIHZpZXdPZmZzZXQ/OiBudW1iZXIsXG4gICAgdmlld1Bvc2l0aW9uPzogbnVtYmVyLFxuICAgIC4uLlxuICB9KTogJEZsb3dGaXhNZSB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YSxcbiAgICAgIGhvcml6b250YWwsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBnZXRJdGVtTGF5b3V0LFxuICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHthbmltYXRlZCwgaW5kZXgsIHZpZXdPZmZzZXQsIHZpZXdQb3NpdGlvbn0gPSBwYXJhbXM7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPj0gMCxcbiAgICAgIGBzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogcmVxdWVzdGVkIGluZGV4ICR7aW5kZXh9IGJ1dCBtaW5pbXVtIGlzIDBgLFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpID49IDEsXG4gICAgICBgc2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IGl0ZW0gbGVuZ3RoICR7Z2V0SXRlbUNvdW50KFxuICAgICAgICBkYXRhLFxuICAgICAgKX0gYnV0IG1pbmltdW0gaXMgMWAsXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbmRleCA8IGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgIGBzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogcmVxdWVzdGVkIGluZGV4ICR7aW5kZXh9IGlzIG91dCBvZiAwIHRvICR7XG4gICAgICAgIGdldEl0ZW1Db3VudChkYXRhKSAtIDFcbiAgICAgIH1gLFxuICAgICk7XG4gICAgaWYgKCFnZXRJdGVtTGF5b3V0ICYmIGluZGV4ID4gdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhIW9uU2Nyb2xsVG9JbmRleEZhaWxlZCxcbiAgICAgICAgJ3Njcm9sbFRvSW5kZXggc2hvdWxkIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBnZXRJdGVtTGF5b3V0IG9yIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJyArXG4gICAgICAgICAgJ290aGVyd2lzZSB0aGVyZSBpcyBubyB3YXkgdG8ga25vdyB0aGUgbG9jYXRpb24gb2Ygb2Zmc2NyZWVuIGluZGljZXMgb3IgaGFuZGxlIGZhaWx1cmVzLicsXG4gICAgICApO1xuICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkKHtcbiAgICAgICAgYXZlcmFnZUl0ZW1MZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4OiB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4LFxuICAgICAgICBpbmRleCxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZSA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goTWF0aC5mbG9vcihpbmRleCksIHRoaXMucHJvcHMpO1xuICAgIGNvbnN0IG9mZnNldCA9XG4gICAgICBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgdGhpcy5fZ2V0T2Zmc2V0QXBwcm94KGluZGV4LCB0aGlzLnByb3BzKSAtXG4gICAgICAgICAgKHZpZXdQb3NpdGlvbiB8fCAwKSAqXG4gICAgICAgICAgICAodGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC0gZnJhbWUubGVuZ3RoKSxcbiAgICAgICkgLSAodmlld09mZnNldCB8fCAwKTtcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAnTm8gc2Nyb2xsVG8gbWV0aG9kIHByb3ZpZGVkLiBUaGlzIG1heSBiZSBiZWNhdXNlIHlvdSBoYXZlIHR3byBuZXN0ZWQgJyArXG4gICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgK1xuICAgICAgICAgICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgaG9yaXpvbnRhbCA/IHt4OiBvZmZzZXQsIGFuaW1hdGVkfSA6IHt5OiBvZmZzZXQsIGFuaW1hdGVkfSxcbiAgICApO1xuICB9XG5cbiAgLy8gc2Nyb2xsVG9JdGVtIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcC4gUmVxdWlyZWQgbGluZWFyIHNjYW4gdGhyb3VnaCBpdGVtcyAtXG4gIC8vIHVzZSBzY3JvbGxUb0luZGV4IGluc3RlYWQgaWYgcG9zc2libGUuXG4gIHNjcm9sbFRvSXRlbShwYXJhbXM6IHtcbiAgICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAgIGl0ZW06IEl0ZW0sXG4gICAgdmlld09mZnNldD86IG51bWJlcixcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gICAgLi4uXG4gIH0pIHtcbiAgICBjb25zdCB7aXRlbX0gPSBwYXJhbXM7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGdldEl0ZW1Db3VudH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IGdldEl0ZW1Db3VudChkYXRhKTtcbiAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgaXRlbUNvdW50OyBpbmRleCsrKSB7XG4gICAgICBpZiAoZ2V0SXRlbShkYXRhLCBpbmRleCkgPT09IGl0ZW0pIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHsuLi5wYXJhbXMsIGluZGV4fSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTY3JvbGwgdG8gYSBzcGVjaWZpYyBjb250ZW50IHBpeGVsIG9mZnNldCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogUGFyYW0gYG9mZnNldGAgZXhwZWN0cyB0aGUgb2Zmc2V0IHRvIHNjcm9sbCB0by5cbiAgICogSW4gY2FzZSBvZiBgaG9yaXpvbnRhbGAgaXMgdHJ1ZSwgdGhlIG9mZnNldCBpcyB0aGUgeC12YWx1ZSxcbiAgICogaW4gYW55IG90aGVyIGNhc2UgdGhlIG9mZnNldCBpcyB0aGUgeS12YWx1ZS5cbiAgICpcbiAgICogUGFyYW0gYGFuaW1hdGVkYCAoYHRydWVgIGJ5IGRlZmF1bHQpIGRlZmluZXMgd2hldGhlciB0aGUgbGlzdFxuICAgKiBzaG91bGQgZG8gYW4gYW5pbWF0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICovXG4gIHNjcm9sbFRvT2Zmc2V0KHBhcmFtczoge2FuaW1hdGVkPzogP2Jvb2xlYW4sIG9mZnNldDogbnVtYmVyLCAuLi59KSB7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBvZmZzZXR9ID0gcGFyYW1zO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICtcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArXG4gICAgICAgICAgJ3VzaW5nIGEgY3VzdG9tIGNvbXBvbmVudCB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBzY3JvbGxUby4nLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICAgICAgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH1cbiAgICAgICAgOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIHJlY29yZEludGVyYWN0aW9uKCkge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudmlld2FiaWxpdHlIZWxwZXIucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMsIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCk7XG4gIH1cblxuICBmbGFzaFNjcm9sbEluZGljYXRvcnMoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgaGFuZGxlIHRvIHRoZSB1bmRlcmx5aW5nIHNjcm9sbCByZXNwb25kZXIuXG4gICAqIE5vdGUgdGhhdCBgdGhpcy5fc2Nyb2xsUmVmYCBtaWdodCBub3QgYmUgYSBgU2Nyb2xsVmlld2AsIHNvIHdlXG4gICAqIG5lZWQgdG8gY2hlY2sgdGhhdCBpdCByZXNwb25kcyB0byBgZ2V0U2Nyb2xsUmVzcG9uZGVyYCBiZWZvcmUgY2FsbGluZyBpdC5cbiAgICovXG4gIGdldFNjcm9sbFJlc3BvbmRlcigpOiA/U2Nyb2xsUmVzcG9uZGVyVHlwZSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlc3BvbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbGFibGVOb2RlKCk6ID9udW1iZXIge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaW5kTm9kZUhhbmRsZSh0aGlzLl9zY3JvbGxSZWYpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbFJlZigpOlxuICAgIHwgP1JlYWN0LkVsZW1lbnRSZWY8dHlwZW9mIFNjcm9sbFZpZXc+XG4gICAgfCA/UmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlldz4ge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZikge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3Njcm9sbFJlZjtcbiAgICB9XG4gIH1cblxuICBzZXROYXRpdmVQcm9wcyhwcm9wczogT2JqZWN0KSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZikge1xuICAgICAgdGhpcy5fc2Nyb2xsUmVmLnNldE5hdGl2ZVByb3BzKHByb3BzKTtcbiAgICB9XG4gIH1cblxuICBfZ2V0Q2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHQ/LmNlbGxLZXkgfHwgJ3Jvb3RMaXN0JztcbiAgfVxuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX2dldFNjcm9sbE1ldHJpY3MgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gIH07XG5cbiAgaGFzTW9yZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5faGFzTW9yZTtcbiAgfVxuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIF9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIHJlZjogUmVhY3QuRWxlbWVudFJlZjx0eXBlb2YgVmlydHVhbGl6ZWRMaXN0PixcbiAgfSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuYWRkKGNoaWxkTGlzdC5yZWYsIGNoaWxkTGlzdC5jZWxsS2V5KTtcbiAgICBpZiAodGhpcy5faGFzSW50ZXJhY3RlZCkge1xuICAgICAgY2hpbGRMaXN0LnJlZi5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH1cbiAgfTtcblxuICBfdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAgcmVmOiBSZWFjdC5FbGVtZW50UmVmPHR5cGVvZiBWaXJ0dWFsaXplZExpc3Q+LFxuICB9KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5yZW1vdmUoY2hpbGRMaXN0LnJlZik7XG4gIH07XG5cbiAgc3RhdGU6IFN0YXRlO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzOiBQcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cbiAgICAgICFwcm9wcy5vblNjcm9sbCB8fCAhcHJvcHMub25TY3JvbGwuX19pc05hdGl2ZSxcbiAgICAgICdDb21wb25lbnRzIGJhc2VkIG9uIFZpcnR1YWxpemVkTGlzdCBtdXN0IGJlIHdyYXBwZWQgd2l0aCBBbmltYXRlZC5jcmVhdGVBbmltYXRlZENvbXBvbmVudCAnICtcbiAgICAgICAgJ3RvIHN1cHBvcnQgbmF0aXZlIG9uU2Nyb2xsIGV2ZW50cyB3aXRoIHVzZU5hdGl2ZURyaXZlcicsXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICB3aW5kb3dTaXplT3JEZWZhdWx0KHByb3BzLndpbmRvd1NpemUpID4gMCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSB3aW5kb3dTaXplIHByb3AgbXVzdCBiZSBwcmVzZW50IGFuZCBzZXQgdG8gYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBwcm9wcy5nZXRJdGVtQ291bnQsXG4gICAgICAnVmlydHVhbGl6ZWRMaXN0OiBUaGUgXCJnZXRJdGVtQ291bnRcIiBwcm9wIG11c3QgYmUgcHJvdmlkZWQnLFxuICAgICk7XG5cbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlciA9IG5ldyBGaWxsUmF0ZUhlbHBlcih0aGlzLl9nZXRGcmFtZU1ldHJpY3MpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyID0gbmV3IEJhdGNoaW5hdG9yKFxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcixcbiAgICAgIHRoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCA/PyA1MCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcyA9IHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzLm1hcChcbiAgICAgICAgcGFpciA9PiAoe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIocGFpci52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogcGFpci5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHtvblZpZXdhYmxlSXRlbXNDaGFuZ2VkLCB2aWV3YWJpbGl0eUNvbmZpZ30gPSB0aGlzLnByb3BzO1xuICAgICAgaWYgKG9uVmlld2FibGVJdGVtc0NoYW5nZWQpIHtcbiAgICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMucHVzaCh7XG4gICAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBWaWV3YWJpbGl0eUhlbHBlcih2aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW52YXJpYW50KFxuICAgICAgIXRoaXMuY29udGV4dCxcbiAgICAgICdVbmV4cGVjdGVkbHkgc2F3IFZpcnR1YWxpemVkTGlzdENvbnRleHQgYXZhaWxhYmxlIGluIGN0b3InLFxuICAgICk7XG5cbiAgICBjb25zdCBpbml0aWFsUmVuZGVyUmVnaW9uID0gVmlydHVhbGl6ZWRMaXN0Ll9pbml0aWFsUmVuZGVyUmVnaW9uKHByb3BzKTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiBpbml0aWFsUmVuZGVyUmVnaW9uLFxuICAgICAgcmVuZGVyTWFzazogVmlydHVhbGl6ZWRMaXN0Ll9jcmVhdGVSZW5kZXJNYXNrKHByb3BzLCBpbml0aWFsUmVuZGVyUmVnaW9uKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIF9jcmVhdGVSZW5kZXJNYXNrKFxuICAgIHByb3BzOiBQcm9wcyxcbiAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0OiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgICBhZGRpdGlvbmFsUmVnaW9ucz86ID8kUmVhZE9ubHlBcnJheTx7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfT4sXG4gICk6IENlbGxSZW5kZXJNYXNrIHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID49IDAgJiZcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ID49IGNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QgLSAxICYmXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA8IGl0ZW1Db3VudCxcbiAgICAgIGBJbnZhbGlkIGNlbGxzIGFyb3VuZCB2aWV3cG9ydCBcIlske2NlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3R9LCAke2NlbGxzQXJvdW5kVmlld3BvcnQubGFzdH1dXCIgd2FzIHBhc3NlZCB0byBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2tgLFxuICAgICk7XG5cbiAgICBjb25zdCByZW5kZXJNYXNrID0gbmV3IENlbGxSZW5kZXJNYXNrKGl0ZW1Db3VudCk7XG5cbiAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgY29uc3QgYWxsUmVnaW9ucyA9IFtjZWxsc0Fyb3VuZFZpZXdwb3J0LCAuLi4oYWRkaXRpb25hbFJlZ2lvbnMgPz8gW10pXTtcbiAgICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIGFsbFJlZ2lvbnMpIHtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyhyZWdpb24pO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgaW5pdGlhbGx5IHJlbmRlcmVkIGNlbGxzIGFyZSByZXRhaW5lZCBhcyBwYXJ0IG9mIHRoZVxuICAgICAgLy8gXCJzY3JvbGwtdG8tdG9wXCIgb3B0aW1pemF0aW9uXG4gICAgICBpZiAocHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID09IG51bGwgfHwgcHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IDw9IDApIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFJlZ2lvbiA9IFZpcnR1YWxpemVkTGlzdC5faW5pdGlhbFJlbmRlclJlZ2lvbihwcm9wcyk7XG4gICAgICAgIHJlbmRlck1hc2suYWRkQ2VsbHMoaW5pdGlhbFJlZ2lvbik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBsYXlvdXQgY29vcmRpbmF0ZXMgb2Ygc3RpY2tlciBoZWFkZXJzIG1heSBiZSBvZmYtc2NyZWVuIHdoaWxlIHRoZVxuICAgICAgLy8gYWN0dWFsIGhlYWRlciBpcyBvbi1zY3JlZW4uIEtlZXAgdGhlIG1vc3QgcmVjZW50IGJlZm9yZSB0aGUgdmlld3BvcnRcbiAgICAgIC8vIHJlbmRlcmVkLCBldmVuIGlmIGl0cyBsYXlvdXQgY29vcmRpbmF0ZXMgYXJlIG5vdCBpbiB2aWV3cG9ydC5cbiAgICAgIGNvbnN0IHN0aWNreUluZGljZXNTZXQgPSBuZXcgU2V0KHByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgICAgVmlydHVhbGl6ZWRMaXN0Ll9lbnN1cmVDbG9zZXN0U3RpY2t5SGVhZGVyKFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RpY2t5SW5kaWNlc1NldCxcbiAgICAgICAgcmVuZGVyTWFzayxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydC5maXJzdCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlbmRlck1hc2s7XG4gIH1cblxuICBzdGF0aWMgX2luaXRpYWxSZW5kZXJSZWdpb24ocHJvcHM6IFByb3BzKToge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0ge1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHByb3BzLmdldEl0ZW1Db3VudChwcm9wcy5kYXRhKTtcbiAgICBjb25zdCBzY3JvbGxJbmRleCA9IE1hdGguZmxvb3IoTWF0aC5tYXgoMCwgcHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID8/IDApKTtcblxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogc2Nyb2xsSW5kZXgsXG4gICAgICBsYXN0OlxuICAgICAgICBNYXRoLm1pbihcbiAgICAgICAgICBpdGVtQ291bnQsXG4gICAgICAgICAgc2Nyb2xsSW5kZXggKyBpbml0aWFsTnVtVG9SZW5kZXJPckRlZmF1bHQocHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyKSxcbiAgICAgICAgKSAtIDEsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBfZW5zdXJlQ2xvc2VzdFN0aWNreUhlYWRlcihcbiAgICBwcm9wczogUHJvcHMsXG4gICAgc3RpY2t5SW5kaWNlc1NldDogU2V0PG51bWJlcj4sXG4gICAgcmVuZGVyTWFzazogQ2VsbFJlbmRlck1hc2ssXG4gICAgY2VsbElkeDogbnVtYmVyLFxuICApIHtcbiAgICBjb25zdCBzdGlja3lPZmZzZXQgPSBwcm9wcy5MaXN0SGVhZGVyQ29tcG9uZW50ID8gMSA6IDA7XG5cbiAgICBmb3IgKGxldCBpdGVtSWR4ID0gY2VsbElkeCAtIDE7IGl0ZW1JZHggPj0gMDsgaXRlbUlkeC0tKSB7XG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc1NldC5oYXMoaXRlbUlkeCArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgcmVuZGVyTWFzay5hZGRDZWxscyh7Zmlyc3Q6IGl0ZW1JZHgsIGxhc3Q6IGl0ZW1JZHh9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQoXG4gICAgcHJvcHM6IFByb3BzLFxuICAgIGNlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9LFxuICApOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudH0gPSBwcm9wcztcbiAgICBjb25zdCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQoXG4gICAgICBwcm9wcy5vbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgKTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHByb3BzLCBjZWxsc0Fyb3VuZFZpZXdwb3J0KTtcblxuICAgIGNvbnN0IHtjb250ZW50TGVuZ3RoLCBvZmZzZXQsIHZpc2libGVMZW5ndGh9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBjb25zdCBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcblxuICAgIC8vIFdhaXQgdW50aWwgdGhlIHNjcm9sbCB2aWV3IG1ldHJpY3MgaGF2ZSBiZWVuIHNldCB1cC4gQW5kIHVudGlsIHRoZW4sXG4gICAgLy8gd2Ugd2lsbCB0cnVzdCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHN1Z2dlc3Rpb25cbiAgICBpZiAodmlzaWJsZUxlbmd0aCA8PSAwIHx8IGNvbnRlbnRMZW5ndGggPD0gMCkge1xuICAgICAgcmV0dXJuIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA+PSBnZXRJdGVtQ291bnQoZGF0YSlcbiAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2NvbnN0cmFpblRvSXRlbUNvdW50KGNlbGxzQXJvdW5kVmlld3BvcnQsIHByb3BzKVxuICAgICAgICA6IGNlbGxzQXJvdW5kVmlld3BvcnQ7XG4gICAgfVxuXG4gICAgbGV0IG5ld0NlbGxzQXJvdW5kVmlld3BvcnQ6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9O1xuICAgIGlmIChwcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb24pIHtcbiAgICAgIGNvbnN0IHJlbmRlckFoZWFkID1cbiAgICAgICAgZGlzdGFuY2VGcm9tRW5kIDwgb25FbmRSZWFjaGVkVGhyZXNob2xkICogdmlzaWJsZUxlbmd0aFxuICAgICAgICAgID8gbWF4VG9SZW5kZXJQZXJCYXRjaE9yRGVmYXVsdChwcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoKVxuICAgICAgICAgIDogMDtcblxuICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydCA9IHtcbiAgICAgICAgZmlyc3Q6IDAsXG4gICAgICAgIGxhc3Q6IE1hdGgubWluKFxuICAgICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCArIHJlbmRlckFoZWFkLFxuICAgICAgICAgIGdldEl0ZW1Db3VudChkYXRhKSAtIDEsXG4gICAgICAgICksXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiB3ZSBoYXZlIGEgbm9uLXplcm8gaW5pdGlhbFNjcm9sbEluZGV4IGFuZCBydW4gdGhpcyBiZWZvcmUgd2UndmUgc2Nyb2xsZWQsXG4gICAgICAvLyB3ZSdsbCB3aXBlIG91dCB0aGUgaW5pdGlhbE51bVRvUmVuZGVyIHJlbmRlcmVkIGVsZW1lbnRzIHN0YXJ0aW5nIGF0IGluaXRpYWxTY3JvbGxJbmRleC5cbiAgICAgIC8vIFNvIGxldCdzIHdhaXQgdW50aWwgd2UndmUgc2Nyb2xsZWQgdGhlIHZpZXcgdG8gdGhlIHJpZ2h0IHBsYWNlLiBBbmQgdW50aWwgdGhlbixcbiAgICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxTY3JvbGxJbmRleCBzdWdnZXN0aW9uLlxuXG4gICAgICAvLyBUaHVzLCB3ZSB3YW50IHRvIHJlY2FsY3VsYXRlIHRoZSB3aW5kb3dlZCByZW5kZXIgbGltaXRzIGlmIGFueSBvZiB0aGUgZm9sbG93aW5nIGhvbGQ6XG4gICAgICAvLyAtIGluaXRpYWxTY3JvbGxJbmRleCBpcyB1bmRlZmluZWQgb3IgaXMgMFxuICAgICAgLy8gLSBpbml0aWFsU2Nyb2xsSW5kZXggPiAwIEFORCBzY3JvbGxpbmcgaXMgY29tcGxldGVcbiAgICAgIC8vIC0gaW5pdGlhbFNjcm9sbEluZGV4ID4gMCBBTkQgdGhlIGVuZCBvZiB0aGUgbGlzdCBpcyB2aXNpYmxlICh0aGlzIGhhbmRsZXMgdGhlIGNhc2VcbiAgICAgIC8vICAgd2hlcmUgdGhlIGxpc3QgaXMgc2hvcnRlciB0aGFuIHRoZSB2aXNpYmxlIGFyZWEpXG4gICAgICBpZiAoXG4gICAgICAgIHByb3BzLmluaXRpYWxTY3JvbGxJbmRleCAmJlxuICAgICAgICAhdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgJiZcbiAgICAgICAgTWF0aC5hYnMoZGlzdGFuY2VGcm9tRW5kKSA+PSBOdW1iZXIuRVBTSUxPTlxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBjZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPj0gZ2V0SXRlbUNvdW50KGRhdGEpXG4gICAgICAgICAgPyBWaXJ0dWFsaXplZExpc3QuX2NvbnN0cmFpblRvSXRlbUNvdW50KGNlbGxzQXJvdW5kVmlld3BvcnQsIHByb3BzKVxuICAgICAgICAgIDogY2VsbHNBcm91bmRWaWV3cG9ydDtcbiAgICAgIH1cblxuICAgICAgbmV3Q2VsbHNBcm91bmRWaWV3cG9ydCA9IGNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyhcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQocHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaCksXG4gICAgICAgIHdpbmRvd1NpemVPckRlZmF1bHQocHJvcHMud2luZG93U2l6ZSksXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICAgIHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3gsXG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgICApO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPCBnZXRJdGVtQ291bnQoZGF0YSksXG4gICAgICAgICdjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMoKSBzaG91bGQgcmV0dXJuIHJhbmdlIGluLWJvdW5kcycsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNpemUoKSA+IDApIHtcbiAgICAgIC8vIElmIHNvbWUgY2VsbCBpbiB0aGUgbmV3IHN0YXRlIGhhcyBhIGNoaWxkIGxpc3QgaW4gaXQsIHdlIHNob3VsZCBvbmx5IHJlbmRlclxuICAgICAgLy8gdXAgdGhyb3VnaCB0aGF0IGl0ZW0sIHNvIHRoYXQgd2UgZ2l2ZSB0aGF0IGxpc3QgYSBjaGFuY2UgdG8gcmVuZGVyLlxuICAgICAgLy8gT3RoZXJ3aXNlIHRoZXJlJ3MgY2h1cm4gZnJvbSBtdWx0aXBsZSBjaGlsZCBsaXN0cyBtb3VudGluZyBhbmQgdW4tbW91bnRpbmdcbiAgICAgIC8vIHRoZWlyIGl0ZW1zLlxuXG4gICAgICAvLyBXaWxsIHRoaXMgcHJldmVudCByZW5kZXJpbmcgaWYgdGhlIG5lc3RlZCBsaXN0IGRvZXNuJ3QgcmVhbGl6ZSB0aGUgZW5kP1xuICAgICAgY29uc3QgY2hpbGRJZHggPSB0aGlzLl9maW5kRmlyc3RDaGlsZFdpdGhNb3JlKFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0LFxuICAgICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QsXG4gICAgICApO1xuXG4gICAgICBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPSBjaGlsZElkeCA/PyBuZXdDZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld0NlbGxzQXJvdW5kVmlld3BvcnQ7XG4gIH1cblxuICBfZmluZEZpcnN0Q2hpbGRXaXRoTW9yZShmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXIpOiBudW1iZXIgfCBudWxsIHtcbiAgICBmb3IgKGxldCBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBjb25zdCBjZWxsS2V5Rm9ySW5kZXggPSB0aGlzLl9pbmRpY2VzVG9LZXlzLmdldChpaSk7XG4gICAgICBpZiAoXG4gICAgICAgIGNlbGxLZXlGb3JJbmRleCAhPSBudWxsICYmXG4gICAgICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuYW55SW5DZWxsKGNlbGxLZXlGb3JJbmRleCwgY2hpbGRMaXN0ID0+XG4gICAgICAgICAgY2hpbGRMaXN0Lmhhc01vcmUoKSxcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBpaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgICAgY2VsbEtleTogdGhpcy5jb250ZXh0LmNlbGxLZXksXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7cmVmOiB0aGlzfSk7XG4gICAgfVxuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe2Fib3J0OiB0cnVlfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5kaXNwb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZGVhY3RpdmF0ZUFuZEZsdXNoKCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKG5ld1Byb3BzOiBQcm9wcywgcHJldlN0YXRlOiBTdGF0ZSk6IFN0YXRlIHtcbiAgICAvLyBmaXJzdCBhbmQgbGFzdCBjb3VsZCBiZSBzdGFsZSAoZS5nLiBpZiBhIG5ldywgc2hvcnRlciBpdGVtcyBwcm9wcyBpcyBwYXNzZWQgaW4pLCBzbyB3ZSBtYWtlXG4gICAgLy8gc3VyZSB3ZSdyZSByZW5kZXJpbmcgYSByZWFzb25hYmxlIHJhbmdlIGhlcmUuXG4gICAgY29uc3QgaXRlbUNvdW50ID0gbmV3UHJvcHMuZ2V0SXRlbUNvdW50KG5ld1Byb3BzLmRhdGEpO1xuICAgIGlmIChpdGVtQ291bnQgPT09IHByZXZTdGF0ZS5yZW5kZXJNYXNrLm51bUNlbGxzKCkpIHtcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgfVxuXG4gICAgY29uc3QgY29uc3RyYWluZWRDZWxscyA9IFZpcnR1YWxpemVkTGlzdC5fY29uc3RyYWluVG9JdGVtQ291bnQoXG4gICAgICBwcmV2U3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgIG5ld1Byb3BzLFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydDogY29uc3RyYWluZWRDZWxscyxcbiAgICAgIHJlbmRlck1hc2s6IFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFzayhuZXdQcm9wcywgY29uc3RyYWluZWRDZWxscyksXG4gICAgfTtcbiAgfVxuXG4gIF9wdXNoQ2VsbHMoXG4gICAgY2VsbHM6IEFycmF5PE9iamVjdD4sXG4gICAgc3RpY2t5SGVhZGVySW5kaWNlczogQXJyYXk8bnVtYmVyPixcbiAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzOiBTZXQ8bnVtYmVyPixcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgICBpbnZlcnNpb25TdHlsZTogVmlld1N0eWxlUHJvcCxcbiAgKSB7XG4gICAgY29uc3Qge1xuICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50LFxuICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudCxcbiAgICAgIExpc3RIZWFkZXJDb21wb25lbnQsXG4gICAgICBMaXN0SXRlbUNvbXBvbmVudCxcbiAgICAgIGRhdGEsXG4gICAgICBkZWJ1ZyxcbiAgICAgIGdldEl0ZW0sXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBnZXRJdGVtTGF5b3V0LFxuICAgICAgaG9yaXpvbnRhbCxcbiAgICAgIHJlbmRlckl0ZW0sXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qgc3RpY2t5T2Zmc2V0ID0gTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwO1xuICAgIGNvbnN0IGVuZCA9IGdldEl0ZW1Db3VudChkYXRhKSAtIDE7XG4gICAgbGV0IHByZXZDZWxsS2V5O1xuICAgIGxhc3QgPSBNYXRoLm1pbihlbmQsIGxhc3QpO1xuICAgIGZvciAobGV0IGlpID0gZmlyc3Q7IGlpIDw9IGxhc3Q7IGlpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGlpKTtcbiAgICAgIGNvbnN0IGtleSA9IHRoaXMuX2tleUV4dHJhY3RvcihpdGVtLCBpaSwgdGhpcy5wcm9wcyk7XG4gICAgICB0aGlzLl9pbmRpY2VzVG9LZXlzLnNldChpaSwga2V5KTtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcyhpaSArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcy5wdXNoKGNlbGxzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8Q2VsbFJlbmRlcmVyXG4gICAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PXtDZWxsUmVuZGVyZXJDb21wb25lbnR9XG4gICAgICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudD17aWkgPCBlbmQgPyBJdGVtU2VwYXJhdG9yQ29tcG9uZW50IDogdW5kZWZpbmVkfVxuICAgICAgICAgIExpc3RJdGVtQ29tcG9uZW50PXtMaXN0SXRlbUNvbXBvbmVudH1cbiAgICAgICAgICBjZWxsS2V5PXtrZXl9XG4gICAgICAgICAgZGVidWc9e2RlYnVnfVxuICAgICAgICAgIGZpbGxSYXRlSGVscGVyPXt0aGlzLl9maWxsUmF0ZUhlbHBlcn1cbiAgICAgICAgICBnZXRJdGVtTGF5b3V0PXtnZXRJdGVtTGF5b3V0fVxuICAgICAgICAgIGhvcml6b250YWw9e2hvcml6b250YWx9XG4gICAgICAgICAgaW5kZXg9e2lpfVxuICAgICAgICAgIGludmVyc2lvblN0eWxlPXtpbnZlcnNpb25TdHlsZX1cbiAgICAgICAgICBpdGVtPXtpdGVtfVxuICAgICAgICAgIGtleT17a2V5fVxuICAgICAgICAgIHByZXZDZWxsS2V5PXtwcmV2Q2VsbEtleX1cbiAgICAgICAgICBvbkNlbGxMYXlvdXQ9e3RoaXMuX29uQ2VsbExheW91dH1cbiAgICAgICAgICBvblVwZGF0ZVNlcGFyYXRvcnM9e3RoaXMuX29uVXBkYXRlU2VwYXJhdG9yc31cbiAgICAgICAgICBvbkNlbGxGb2N1c0NhcHR1cmU9e2UgPT4gdGhpcy5fb25DZWxsRm9jdXNDYXB0dXJlKGtleSl9XG4gICAgICAgICAgb25Vbm1vdW50PXt0aGlzLl9vbkNlbGxVbm1vdW50fVxuICAgICAgICAgIHJlZj17cmVmID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2NlbGxSZWZzW2tleV0gPSByZWY7XG4gICAgICAgICAgfX1cbiAgICAgICAgICByZW5kZXJJdGVtPXtyZW5kZXJJdGVtfVxuICAgICAgICAvPixcbiAgICAgICk7XG4gICAgICBwcmV2Q2VsbEtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgX2NvbnN0cmFpblRvSXRlbUNvdW50KFxuICAgIGNlbGxzOiB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfSxcbiAgICBwcm9wczogUHJvcHMsXG4gICk6IHtmaXJzdDogbnVtYmVyLCBsYXN0OiBudW1iZXJ9IHtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG4gICAgY29uc3QgbGFzdCA9IE1hdGgubWluKGl0ZW1Db3VudCAtIDEsIGNlbGxzLmxhc3QpO1xuXG4gICAgY29uc3QgbWF4VG9SZW5kZXJQZXJCYXRjaCA9IG1heFRvUmVuZGVyUGVyQmF0Y2hPckRlZmF1bHQoXG4gICAgICBwcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoLFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IGNsYW1wKDAsIGl0ZW1Db3VudCAtIDEgLSBtYXhUb1JlbmRlclBlckJhdGNoLCBjZWxscy5maXJzdCksXG4gICAgICBsYXN0LFxuICAgIH07XG4gIH1cblxuICBfb25VcGRhdGVTZXBhcmF0b3JzID0gKGtleXM6IEFycmF5PD9zdHJpbmc+LCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCByZWYgPSBrZXkgIT0gbnVsbCAmJiB0aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgcmVmICYmIHJlZi51cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpOiBib29sZWFuIHtcbiAgICBjb25zdCBuZXN0ZWRDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHJldHVybiAhIShcbiAgICAgIG5lc3RlZENvbnRleHQgJiZcbiAgICAgICEhbmVzdGVkQ29udGV4dC5ob3Jpem9udGFsID09PSBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbClcbiAgICApO1xuICB9XG5cbiAgX2dldFNwYWNlcktleSA9IChpc1ZlcnRpY2FsOiBib29sZWFuKTogc3RyaW5nID0+XG4gICAgaXNWZXJ0aWNhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcblxuICBfa2V5RXh0cmFjdG9yKFxuICAgIGl0ZW06IEl0ZW0sXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBwcm9wczoge1xuICAgICAga2V5RXh0cmFjdG9yPzogPyhpdGVtOiBJdGVtLCBpbmRleDogbnVtYmVyKSA9PiBzdHJpbmcsXG4gICAgICAuLi5cbiAgICB9LFxuICAgIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgKSB7XG4gICAgaWYgKHByb3BzLmtleUV4dHJhY3RvciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gcHJvcHMua2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KTtcbiAgICB9XG5cbiAgICBjb25zdCBrZXkgPSBkZWZhdWx0S2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KTtcbiAgICBpZiAoa2V5ID09PSBTdHJpbmcoaW5kZXgpKSB7XG4gICAgICBfdXNlZEluZGV4Rm9yS2V5ID0gdHJ1ZTtcbiAgICAgIGlmIChpdGVtLnR5cGUgJiYgaXRlbS50eXBlLmRpc3BsYXlOYW1lKSB7XG4gICAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSBpdGVtLnR5cGUuZGlzcGxheU5hbWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cblxuICByZW5kZXIoKTogUmVhY3QuTm9kZSB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgIGNvbnN0IGZsYXRTdHlsZXMgPSBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5jb250ZW50Q29udGFpbmVyU3R5bGUpO1xuICAgICAgaWYgKGZsYXRTdHlsZXMgIT0gbnVsbCAmJiBmbGF0U3R5bGVzLmZsZXhXcmFwID09PSAnd3JhcCcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdgZmxleFdyYXA6IGB3cmFwYGAgaXMgbm90IHN1cHBvcnRlZCB3aXRoIHRoZSBgVmlydHVhbGl6ZWRMaXN0YCBjb21wb25lbnRzLicgK1xuICAgICAgICAgICAgJ0NvbnNpZGVyIHVzaW5nIGBudW1Db2x1bW5zYCB3aXRoIGBGbGF0TGlzdGAgaW5zdGVhZC4nLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB7TGlzdEVtcHR5Q29tcG9uZW50LCBMaXN0Rm9vdGVyQ29tcG9uZW50LCBMaXN0SGVhZGVyQ29tcG9uZW50fSA9XG4gICAgICB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtkYXRhLCBob3Jpem9udGFsfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaW52ZXJzaW9uU3R5bGUgPSB0aGlzLnByb3BzLmludmVydGVkXG4gICAgICA/IGhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICAgICA/IHN0eWxlcy5ob3Jpem9udGFsbHlJbnZlcnRlZFxuICAgICAgICA6IHN0eWxlcy52ZXJ0aWNhbGx5SW52ZXJ0ZWRcbiAgICAgIDogbnVsbDtcbiAgICBjb25zdCBjZWxsczogQXJyYXk8YW55IHwgUmVhY3QuTm9kZT4gPSBbXTtcbiAgICBjb25zdCBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlckluZGljZXMgPSBbXTtcblxuICAgIC8vIDEuIEFkZCBjZWxsIGZvciBMaXN0SGVhZGVyQ29tcG9uZW50XG4gICAgaWYgKExpc3RIZWFkZXJDb21wb25lbnQpIHtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcygwKSkge1xuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLnB1c2goMCk7XG4gICAgICB9XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEhlYWRlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RIZWFkZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVbbm90LWEtY29tcG9uZW50XVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlLWFyZ11cbiAgICAgICAgPExpc3RIZWFkZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctaGVhZGVyJ31cbiAgICAgICAgICBrZXk9XCIkaGVhZGVyXCI+XG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIG9uTGF5b3V0PXt0aGlzLl9vbkxheW91dEhlYWRlcn1cbiAgICAgICAgICAgIHN0eWxlPXtTdHlsZVNoZWV0LmNvbXBvc2UoXG4gICAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSxcbiAgICAgICAgICAgICl9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS10eXBlXSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyPixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gMmEuIEFkZCBhIGNlbGwgZm9yIExpc3RFbXB0eUNvbXBvbmVudCBpZiBhcHBsaWNhYmxlXG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQoZGF0YSk7XG4gICAgaWYgKGl0ZW1Db3VudCA9PT0gMCAmJiBMaXN0RW1wdHlDb21wb25lbnQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQ6IFJlYWN0LkVsZW1lbnQ8YW55PiA9ICgoUmVhY3QuaXNWYWxpZEVsZW1lbnQoXG4gICAgICAgIExpc3RFbXB0eUNvbXBvbmVudCxcbiAgICAgICkgPyAoXG4gICAgICAgIExpc3RFbXB0eUNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtub3QtYS1jb21wb25lbnRdXG4gICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGUtYXJnXVxuICAgICAgICA8TGlzdEVtcHR5Q29tcG9uZW50IC8+XG4gICAgICApKTogYW55KTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1lbXB0eSd9XG4gICAgICAgICAga2V5PVwiJGVtcHR5XCI+XG4gICAgICAgICAge1JlYWN0LmNsb25lRWxlbWVudChlbGVtZW50LCB7XG4gICAgICAgICAgICBvbkxheW91dDogKGV2ZW50OiBMYXlvdXRFdmVudCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLl9vbkxheW91dEVtcHR5KGV2ZW50KTtcbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQucHJvcHMub25MYXlvdXQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnByb3BzLm9uTGF5b3V0KGV2ZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0eWxlOiBTdHlsZVNoZWV0LmNvbXBvc2UoaW52ZXJzaW9uU3R5bGUsIGVsZW1lbnQucHJvcHMuc3R5bGUpLFxuICAgICAgICAgIH0pfVxuICAgICAgICA8L1ZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXI+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyAyYi4gQWRkIGNlbGxzIGFuZCBzcGFjZXJzIGZvciBlYWNoIGl0ZW1cbiAgICBpZiAoaXRlbUNvdW50ID4gMCkge1xuICAgICAgX3VzZWRJbmRleEZvcktleSA9IGZhbHNlO1xuICAgICAgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9ICcnO1xuICAgICAgY29uc3Qgc3BhY2VyS2V5ID0gdGhpcy5fZ2V0U3BhY2VyS2V5KCFob3Jpem9udGFsKTtcblxuICAgICAgY29uc3QgcmVuZGVyUmVnaW9ucyA9IHRoaXMuc3RhdGUucmVuZGVyTWFzay5lbnVtZXJhdGVSZWdpb25zKCk7XG4gICAgICBjb25zdCBsYXN0U3BhY2VyID0gZmluZExhc3RXaGVyZShyZW5kZXJSZWdpb25zLCByID0+IHIuaXNTcGFjZXIpO1xuXG4gICAgICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgcmVuZGVyUmVnaW9ucykge1xuICAgICAgICBpZiAoc2VjdGlvbi5pc1NwYWNlcikge1xuICAgICAgICAgIC8vIExlZ2FjeSBiZWhhdmlvciBpcyB0byBhdm9pZCBzcGFjZXJzIHdoZW4gdmlydHVhbGl6YXRpb24gaXNcbiAgICAgICAgICAvLyBkaXNhYmxlZCAoaW5jbHVkaW5nIGhlYWQgc3BhY2VycyBvbiBpbml0aWFsIHJlbmRlcikuXG4gICAgICAgICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZVZpcnR1YWxpemF0aW9uKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBXaXRob3V0IGdldEl0ZW1MYXlvdXQsIHdlIGxpbWl0IG91ciB0YWlsIHNwYWNlciB0byB0aGUgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggdG9cbiAgICAgICAgICAvLyBwcmV2ZW50IHRoZSB1c2VyIGZvciBoeXBlcnNjcm9sbGluZyBpbnRvIHVuLW1lYXN1cmVkIGFyZWEgYmVjYXVzZSBvdGhlcndpc2UgY29udGVudCB3aWxsXG4gICAgICAgICAgLy8gbGlrZWx5IGp1bXAgYXJvdW5kIGFzIGl0IHJlbmRlcnMgaW4gYWJvdmUgdGhlIHZpZXdwb3J0LlxuICAgICAgICAgIGNvbnN0IGlzTGFzdFNwYWNlciA9IHNlY3Rpb24gPT09IGxhc3RTcGFjZXI7XG4gICAgICAgICAgY29uc3QgY29uc3RyYWluVG9NZWFzdXJlZCA9IGlzTGFzdFNwYWNlciAmJiAhdGhpcy5wcm9wcy5nZXRJdGVtTGF5b3V0O1xuICAgICAgICAgIGNvbnN0IGxhc3QgPSBjb25zdHJhaW5Ub01lYXN1cmVkXG4gICAgICAgICAgICA/IGNsYW1wKFxuICAgICAgICAgICAgICAgIHNlY3Rpb24uZmlyc3QgLSAxLFxuICAgICAgICAgICAgICAgIHNlY3Rpb24ubGFzdCxcbiAgICAgICAgICAgICAgICB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4LFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IHNlY3Rpb24ubGFzdDtcblxuICAgICAgICAgIGNvbnN0IGZpcnN0TWV0cmljcyA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goXG4gICAgICAgICAgICBzZWN0aW9uLmZpcnN0LFxuICAgICAgICAgICAgdGhpcy5wcm9wcyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IGxhc3RNZXRyaWNzID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0LCB0aGlzLnByb3BzKTtcbiAgICAgICAgICBjb25zdCBzcGFjZXJTaXplID1cbiAgICAgICAgICAgIGxhc3RNZXRyaWNzLm9mZnNldCArIGxhc3RNZXRyaWNzLmxlbmd0aCAtIGZpcnN0TWV0cmljcy5vZmZzZXQ7XG4gICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICAgIGtleT17YCRzcGFjZXItJHtzZWN0aW9uLmZpcnN0fWB9XG4gICAgICAgICAgICAgIHN0eWxlPXt7W3NwYWNlcktleV06IHNwYWNlclNpemV9fVxuICAgICAgICAgICAgLz4sXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9wdXNoQ2VsbHMoXG4gICAgICAgICAgICBjZWxscyxcbiAgICAgICAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICAgICAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzLFxuICAgICAgICAgICAgc2VjdGlvbi5maXJzdCxcbiAgICAgICAgICAgIHNlY3Rpb24ubGFzdCxcbiAgICAgICAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9oYXNXYXJuZWQua2V5cyAmJiBfdXNlZEluZGV4Rm9yS2V5KSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBtaXNzaW5nIGtleXMgZm9yIGl0ZW1zLCBtYWtlIHN1cmUgdG8gc3BlY2lmeSBhIGtleSBvciBpZCBwcm9wZXJ0eSBvbiBlYWNoICcgK1xuICAgICAgICAgICAgJ2l0ZW0gb3IgcHJvdmlkZSBhIGN1c3RvbSBrZXlFeHRyYWN0b3IuJyxcbiAgICAgICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9oYXNXYXJuZWQua2V5cyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gMy4gQWRkIGNlbGwgZm9yIExpc3RGb290ZXJDb21wb25lbnRcbiAgICBpZiAoTGlzdEZvb3RlckNvbXBvbmVudCkge1xuICAgICAgY29uc3QgZWxlbWVudCA9IFJlYWN0LmlzVmFsaWRFbGVtZW50KExpc3RGb290ZXJDb21wb25lbnQpID8gKFxuICAgICAgICBMaXN0Rm9vdGVyQ29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lW25vdC1hLWNvbXBvbmVudF1cbiAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZS1hcmddXG4gICAgICAgIDxMaXN0Rm9vdGVyQ29tcG9uZW50IC8+XG4gICAgICApO1xuICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgPFZpcnR1YWxpemVkTGlzdENlbGxDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgICBjZWxsS2V5PXt0aGlzLl9nZXRGb290ZXJDZWxsS2V5KCl9XG4gICAgICAgICAga2V5PVwiJGZvb3RlclwiPlxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBvbkxheW91dD17dGhpcy5fb25MYXlvdXRGb290ZXJ9XG4gICAgICAgICAgICBzdHlsZT17U3R5bGVTaGVldC5jb21wb3NlKFxuICAgICAgICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5MaXN0Rm9vdGVyQ29tcG9uZW50U3R5bGUsXG4gICAgICAgICAgICApfT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdHlwZV0gLSBUeXBpbmcgUmVhY3ROYXRpdmVDb21wb25lbnQgcmV2ZWFsZWQgZXJyb3JzXG4gICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlcj4sXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIDQuIFJlbmRlciB0aGUgU2Nyb2xsVmlld1xuICAgIGNvbnN0IHNjcm9sbFByb3BzID0ge1xuICAgICAgLi4udGhpcy5wcm9wcyxcbiAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U6IHRoaXMuX29uQ29udGVudFNpemVDaGFuZ2UsXG4gICAgICBvbkxheW91dDogdGhpcy5fb25MYXlvdXQsXG4gICAgICBvblNjcm9sbDogdGhpcy5fb25TY3JvbGwsXG4gICAgICBvblNjcm9sbEJlZ2luRHJhZzogdGhpcy5fb25TY3JvbGxCZWdpbkRyYWcsXG4gICAgICBvblNjcm9sbEVuZERyYWc6IHRoaXMuX29uU2Nyb2xsRW5kRHJhZyxcbiAgICAgIG9uTW9tZW50dW1TY3JvbGxCZWdpbjogdGhpcy5fb25Nb21lbnR1bVNjcm9sbEJlZ2luLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEVuZDogdGhpcy5fb25Nb21lbnR1bVNjcm9sbEVuZCxcbiAgICAgIHNjcm9sbEV2ZW50VGhyb3R0bGU6IHNjcm9sbEV2ZW50VGhyb3R0bGVPckRlZmF1bHQoXG4gICAgICAgIHRoaXMucHJvcHMuc2Nyb2xsRXZlbnRUaHJvdHRsZSxcbiAgICAgICksIC8vIFRPRE86IEFuZHJvaWQgc3VwcG9ydFxuICAgICAgaW52ZXJ0U3RpY2t5SGVhZGVyczpcbiAgICAgICAgdGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICA/IHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVyc1xuICAgICAgICAgIDogdGhpcy5wcm9wcy5pbnZlcnRlZCxcbiAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICBzdHlsZTogaW52ZXJzaW9uU3R5bGVcbiAgICAgICAgPyBbaW52ZXJzaW9uU3R5bGUsIHRoaXMucHJvcHMuc3R5bGVdXG4gICAgICAgIDogdGhpcy5wcm9wcy5zdHlsZSxcbiAgICB9O1xuXG4gICAgdGhpcy5faGFzTW9yZSA9IHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0IDwgaXRlbUNvdW50IC0gMTtcblxuICAgIGNvbnN0IGlubmVyUmV0ID0gKFxuICAgICAgPFZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlclxuICAgICAgICB2YWx1ZT17e1xuICAgICAgICAgIGNlbGxLZXk6IG51bGwsXG4gICAgICAgICAgZ2V0U2Nyb2xsTWV0cmljczogdGhpcy5fZ2V0U2Nyb2xsTWV0cmljcyxcbiAgICAgICAgICBob3Jpem9udGFsOiBob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCksXG4gICAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZixcbiAgICAgICAgICByZWdpc3RlckFzTmVzdGVkQ2hpbGQ6IHRoaXMuX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgIH19PlxuICAgICAgICB7UmVhY3QuY2xvbmVFbGVtZW50KFxuICAgICAgICAgIChcbiAgICAgICAgICAgIHRoaXMucHJvcHMucmVuZGVyU2Nyb2xsQ29tcG9uZW50IHx8XG4gICAgICAgICAgICB0aGlzLl9kZWZhdWx0UmVuZGVyU2Nyb2xsQ29tcG9uZW50XG4gICAgICAgICAgKShzY3JvbGxQcm9wcyksXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVmOiB0aGlzLl9jYXB0dXJlU2Nyb2xsUmVmLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2VsbHMsXG4gICAgICAgICl9XG4gICAgICA8L1ZpcnR1YWxpemVkTGlzdENvbnRleHRQcm92aWRlcj5cbiAgICApO1xuICAgIGxldCByZXQ6IFJlYWN0Lk5vZGUgPSBpbm5lclJldDtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgcmV0ID0gKFxuICAgICAgICA8U2Nyb2xsVmlldy5Db250ZXh0LkNvbnN1bWVyPlxuICAgICAgICAgIHtzY3JvbGxDb250ZXh0ID0+IHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2Nyb2xsQ29udGV4dCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICFzY3JvbGxDb250ZXh0Lmhvcml6b250YWwgPT09XG4gICAgICAgICAgICAgICAgIWhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKSAmJlxuICAgICAgICAgICAgICAhdGhpcy5faGFzV2FybmVkLm5lc3RpbmcgJiZcbiAgICAgICAgICAgICAgdGhpcy5jb250ZXh0ID09IG51bGwgJiZcbiAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zY3JvbGxFbmFibGVkICE9PSBmYWxzZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIC8vIFRPRE8gKFQ0NjU0NzA0NCk6IHVzZSBSZWFjdC53YXJuIG9uY2UgMTYuOSBpcyBzeW5jJ2Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzE1MTcwXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1ZpcnR1YWxpemVkTGlzdHMgc2hvdWxkIG5ldmVyIGJlIG5lc3RlZCBpbnNpZGUgcGxhaW4gU2Nyb2xsVmlld3Mgd2l0aCB0aGUgc2FtZSAnICtcbiAgICAgICAgICAgICAgICAgICdvcmllbnRhdGlvbiBiZWNhdXNlIGl0IGNhbiBicmVhayB3aW5kb3dpbmcgYW5kIG90aGVyIGZ1bmN0aW9uYWxpdHkgLSB1c2UgYW5vdGhlciAnICtcbiAgICAgICAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3QtYmFja2VkIGNvbnRhaW5lciBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX2hhc1dhcm5lZC5uZXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbm5lclJldDtcbiAgICAgICAgICB9fVxuICAgICAgICA8L1Njcm9sbFZpZXcuQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmRlYnVnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmRlYnVnfT5cbiAgICAgICAgICB7cmV0fVxuICAgICAgICAgIHt0aGlzLl9yZW5kZXJEZWJ1Z092ZXJsYXkoKX1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzOiBQcm9wcykge1xuICAgIGNvbnN0IHtkYXRhLCBleHRyYURhdGF9ID0gdGhpcy5wcm9wcztcbiAgICBpZiAoZGF0YSAhPT0gcHJldlByb3BzLmRhdGEgfHwgZXh0cmFEYXRhICE9PSBwcmV2UHJvcHMuZXh0cmFEYXRhKSB7XG4gICAgICAvLyBjbGVhciB0aGUgdmlld2FibGVJbmRpY2VzIGNhY2hlIHRvIGFsc28gdHJpZ2dlclxuICAgICAgLy8gdGhlIG9uVmlld2FibGVJdGVtc0NoYW5nZWQgY2FsbGJhY2sgd2l0aCB0aGUgbmV3IGRhdGFcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5yZXNldFZpZXdhYmxlSW5kaWNlcygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFRoZSBgdGhpcy5faGlQcmlJblByb2dyZXNzYCBpcyBndWFyYW50ZWVpbmcgYSBoaVByaSBjZWxsIHVwZGF0ZSB3aWxsIG9ubHkgaGFwcGVuXG4gICAgLy8gb25jZSBwZXIgZmliZXIgdXBkYXRlLiBUaGUgYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgc2V0IGl0IHRvIHRydWVcbiAgICAvLyBpZiBhIGhpUHJpIHVwZGF0ZSBuZWVkcyB0byBwZXJmb3JtLiBJZiBgY29tcG9uZW50RGlkVXBkYXRlYCBpcyB0cmlnZ2VyZWQgd2l0aFxuICAgIC8vIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3M9dHJ1ZWAsIG1lYW5zIGl0J3MgdHJpZ2dlcmVkIGJ5IHRoZSBoaVByaSB1cGRhdGUuIFRoZVxuICAgIC8vIGBfc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlYCB3aWxsIGNoZWNrIHRoaXMgY29uZGl0aW9uIGFuZCBub3QgcGVyZm9ybVxuICAgIC8vIGFub3RoZXIgaGlQcmkgdXBkYXRlLlxuICAgIGNvbnN0IGhpUHJpSW5Qcm9ncmVzcyA9IHRoaXMuX2hpUHJpSW5Qcm9ncmVzcztcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICAvLyBNYWtlIHN1cmUgc2V0dGluZyBgdGhpcy5faGlQcmlJblByb2dyZXNzYCBiYWNrIHRvIGZhbHNlIGFmdGVyIGBjb21wb25lbnREaWRVcGRhdGVgXG4gICAgLy8gaXMgdHJpZ2dlcmVkIHdpdGggYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWVgXG4gICAgaWYgKGhpUHJpSW5Qcm9ncmVzcykge1xuICAgICAgdGhpcy5faGlQcmlJblByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgX2F2ZXJhZ2VDZWxsTGVuZ3RoID0gMDtcbiAgX2NlbGxSZWZzOiB7W3N0cmluZ106IG51bGwgfCBDZWxsUmVuZGVyZXI8YW55Pn0gPSB7fTtcbiAgX2ZpbGxSYXRlSGVscGVyOiBGaWxsUmF0ZUhlbHBlcjtcbiAgX2ZyYW1lczoge1xuICAgIFtzdHJpbmddOiB7XG4gICAgICBpbkxheW91dD86IGJvb2xlYW4sXG4gICAgICBpbmRleDogbnVtYmVyLFxuICAgICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgICBvZmZzZXQ6IG51bWJlcixcbiAgICB9LFxuICB9ID0ge307XG4gIF9mb290ZXJMZW5ndGggPSAwO1xuICAvLyBVc2VkIGZvciBwcmV2ZW50aW5nIHNjcm9sbFRvSW5kZXggZnJvbSBiZWluZyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgZm9yIGluaXRpYWxTY3JvbGxJbmRleFxuICBfaGFzVHJpZ2dlcmVkSW5pdGlhbFNjcm9sbFRvSW5kZXggPSBmYWxzZTtcbiAgX2hhc0ludGVyYWN0ZWQgPSBmYWxzZTtcbiAgX2hhc01vcmUgPSBmYWxzZTtcbiAgX2hhc1dhcm5lZDoge1tzdHJpbmddOiBib29sZWFufSA9IHt9O1xuICBfaGVhZGVyTGVuZ3RoID0gMDtcbiAgX2hpUHJpSW5Qcm9ncmVzczogYm9vbGVhbiA9IGZhbHNlOyAvLyBmbGFnIHRvIHByZXZlbnQgaW5maW5pdGUgaGlQcmkgY2VsbCBsaW1pdCB1cGRhdGVcbiAgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSAwO1xuICBfaW5kaWNlc1RvS2V5czogTWFwPG51bWJlciwgc3RyaW5nPiA9IG5ldyBNYXAoKTtcbiAgX2xhc3RGb2N1c2VkQ2VsbEtleTogP3N0cmluZyA9IG51bGw7XG4gIF9uZXN0ZWRDaGlsZExpc3RzOiBDaGlsZExpc3RDb2xsZWN0aW9uPFZpcnR1YWxpemVkTGlzdD4gPVxuICAgIG5ldyBDaGlsZExpc3RDb2xsZWN0aW9uKCk7XG4gIF9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0OiBudW1iZXIgPSAwO1xuICBfcHJldlBhcmVudE9mZnNldDogbnVtYmVyID0gMDtcbiAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICBfc2Nyb2xsTWV0cmljcyA9IHtcbiAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgIGRPZmZzZXQ6IDAsXG4gICAgZHQ6IDEwLFxuICAgIG9mZnNldDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgdmVsb2NpdHk6IDAsXG4gICAgdmlzaWJsZUxlbmd0aDogMCxcbiAgICB6b29tU2NhbGU6IDEsXG4gIH07XG4gIF9zY3JvbGxSZWY6ID9SZWFjdC5FbGVtZW50UmVmPGFueT4gPSBudWxsO1xuICBfc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsTGVuZ3RoID0gMDtcbiAgX3RvdGFsQ2VsbHNNZWFzdXJlZCA9IDA7XG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlcjogQmF0Y2hpbmF0b3I7XG4gIF92aWV3YWJpbGl0eVR1cGxlczogQXJyYXk8Vmlld2FiaWxpdHlIZWxwZXJDYWxsYmFja1R1cGxlPiA9IFtdO1xuXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF0gVGhlIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieSBGbG93J3NcbiAgICogTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgX2NhcHR1cmVTY3JvbGxSZWYgPSByZWYgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgfTtcblxuICBfY29tcHV0ZUJsYW5rbmVzcygpIHtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5jb21wdXRlQmxhbmtuZXNzKFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICAgIHRoaXMuc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgKTtcbiAgfVxuXG4gIC8qICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF0gVGhlIHR5cGUgYW5ub3RhdGlvbihzKSByZXF1aXJlZCBieSBGbG93J3NcbiAgICogTFRJIHVwZGF0ZSBjb3VsZCBub3QgYmUgYWRkZWQgdmlhIGNvZGVtb2QgKi9cbiAgX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQgPSBwcm9wcyA9PiB7XG4gICAgY29uc3Qgb25SZWZyZXNoID0gcHJvcHMub25SZWZyZXNoO1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIC0gVHlwaW5nIFJlYWN0TmF0aXZlQ29tcG9uZW50IHJldmVhbGVkIGVycm9yc1xuICAgICAgcmV0dXJuIDxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfSBlbHNlIGlmIChvblJlZnJlc2gpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgdHlwZW9mIHByb3BzLnJlZnJlc2hpbmcgPT09ICdib29sZWFuJyxcbiAgICAgICAgJ2ByZWZyZXNoaW5nYCBwcm9wIG11c3QgYmUgc2V0IGFzIGEgYm9vbGVhbiBpbiBvcmRlciB0byB1c2UgYG9uUmVmcmVzaGAsIGJ1dCBnb3QgYCcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByb3BzLnJlZnJlc2hpbmcgPz8gJ3VuZGVmaW5lZCcpICtcbiAgICAgICAgICAnYCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgICAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdXG4gICAgICAgIDxTY3JvbGxWaWV3XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIHJlZnJlc2hDb250cm9sPXtcbiAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sID09IG51bGwgPyAoXG4gICAgICAgICAgICAgIDxSZWZyZXNoQ29udHJvbFxuICAgICAgICAgICAgICAgIC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdXG4gICAgICAgICAgICAgICAgcmVmcmVzaGluZz17cHJvcHMucmVmcmVzaGluZ31cbiAgICAgICAgICAgICAgICBvblJlZnJlc2g9e29uUmVmcmVzaH1cbiAgICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ9e3Byb3BzLnByb2dyZXNzVmlld09mZnNldH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIHByb3BzLnJlZnJlc2hDb250cm9sXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXVxuICAgICAgcmV0dXJuIDxTY3JvbGxWaWV3IHsuLi5wcm9wc30gLz47XG4gICAgfVxuICB9O1xuXG4gIF9vbkNlbGxMYXlvdXQgPSAoZTogTGF5b3V0RXZlbnQsIGNlbGxLZXk6IHN0cmluZywgaW5kZXg6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGxheW91dCA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIGNvbnN0IG5leHQgPSB7XG4gICAgICBvZmZzZXQ6IHRoaXMuX3NlbGVjdE9mZnNldChsYXlvdXQpLFxuICAgICAgbGVuZ3RoOiB0aGlzLl9zZWxlY3RMZW5ndGgobGF5b3V0KSxcbiAgICAgIGluZGV4LFxuICAgICAgaW5MYXlvdXQ6IHRydWUsXG4gICAgfTtcbiAgICBjb25zdCBjdXJyID0gdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuICAgIGlmIChcbiAgICAgICFjdXJyIHx8XG4gICAgICBuZXh0Lm9mZnNldCAhPT0gY3Vyci5vZmZzZXQgfHxcbiAgICAgIG5leHQubGVuZ3RoICE9PSBjdXJyLmxlbmd0aCB8fFxuICAgICAgaW5kZXggIT09IGN1cnIuaW5kZXhcbiAgICApIHtcbiAgICAgIHRoaXMuX3RvdGFsQ2VsbExlbmd0aCArPSBuZXh0Lmxlbmd0aCAtIChjdXJyID8gY3Vyci5sZW5ndGggOiAwKTtcbiAgICAgIHRoaXMuX3RvdGFsQ2VsbHNNZWFzdXJlZCArPSBjdXJyID8gMCA6IDE7XG4gICAgICB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCA9XG4gICAgICAgIHRoaXMuX3RvdGFsQ2VsbExlbmd0aCAvIHRoaXMuX3RvdGFsQ2VsbHNNZWFzdXJlZDtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XSA9IG5leHQ7XG4gICAgICB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4ID0gTWF0aC5tYXgoXG4gICAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgsXG4gICAgICAgIGluZGV4LFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0uaW5MYXlvdXQgPSB0cnVlO1xuICAgIH1cblxuICAgIHRoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKGNlbGxLZXkpO1xuXG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcbiAgfTtcblxuICBfb25DZWxsRm9jdXNDYXB0dXJlKGNlbGxLZXk6IHN0cmluZykge1xuICAgIHRoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleSA9IGNlbGxLZXk7XG4gICAgY29uc3QgcmVuZGVyTWFzayA9IFZpcnR1YWxpemVkTGlzdC5fY3JlYXRlUmVuZGVyTWFzayhcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQsXG4gICAgICB0aGlzLl9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnModGhpcy5wcm9wcyksXG4gICAgKTtcblxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUgPT4ge1xuICAgICAgaWYgKCFyZW5kZXJNYXNrLmVxdWFscyhzdGF0ZS5yZW5kZXJNYXNrKSkge1xuICAgICAgICByZXR1cm4ge3JlbmRlck1hc2t9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSk7XG4gIH1cblxuICBfb25DZWxsVW5tb3VudCA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjdXJyID0gdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuICAgIGlmIChjdXJyKSB7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0gPSB7Li4uY3VyciwgaW5MYXlvdXQ6IGZhbHNlfTtcbiAgICB9XG4gIH07XG5cbiAgX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKGNlbGxLZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaEluQ2VsbChjZWxsS2V5LCBjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Lm1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTogdm9pZCB7XG4gICAgLy8gVE9ETyAoVDM1NTc0NTM4KTogZmluZE5vZGVIYW5kbGUgc29tZXRpbWVzIGNyYXNoZXMgd2l0aCBcIlVuYWJsZSB0byBmaW5kXG4gICAgLy8gbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50XCIgZHVyaW5nIHNjcm9sbGluZ1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMuX3Njcm9sbFJlZikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBXZSBhcmUgYXNzdW1pbmcgdGhhdCBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCkuZ2V0U2Nyb2xsUmVmKClcbiAgICAgIC8vIGlzIGEgbm9uLW51bGwgcmVmZXJlbmNlIHRvIGEgU2Nyb2xsVmlld1xuICAgICAgdGhpcy5fc2Nyb2xsUmVmLm1lYXN1cmVMYXlvdXQoXG4gICAgICAgIHRoaXMuY29udGV4dC5nZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmKCkuZ2V0U2Nyb2xsUmVmKCksXG4gICAgICAgICh4LCB5LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XG4gICAgICAgICAgdGhpcy5fb2Zmc2V0RnJvbVBhcmVudFZpcnR1YWxpemVkTGlzdCA9IHRoaXMuX3NlbGVjdE9mZnNldCh7eCwgeX0pO1xuICAgICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aCh7XG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBzY3JvbGxNZXRyaWNzID0gdGhpcy5fY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MoXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZ2V0U2Nyb2xsTWV0cmljcygpLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCBtZXRyaWNzQ2hhbmdlZCA9XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggIT09IHNjcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCB8fFxuICAgICAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgIT09IHNjcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgICAgICAgaWYgKG1ldHJpY3NDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCA9IHNjcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgICAgICAgICAvLyBJZiBtZXRyaWNzIG9mIHRoZSBzY3JvbGxWaWV3IGNoYW5nZWQsIHRoZW4gd2UgdHJpZ2dlcmVkIHJlbWVhc3VyZSBmb3IgY2hpbGQgbGlzdFxuICAgICAgICAgICAgLy8gdG8gZW5zdXJlIFZpcnR1YWxpemVkTGlzdCBoYXMgdGhlIHJpZ2h0IGluZm9ybWF0aW9uLlxuICAgICAgICAgICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICAgICAgICAgIGNoaWxkTGlzdC5tZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIlZpcnR1YWxpemVkTGlzdDogRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgbWVhc3VyaW5nIGEgbGlzdCdzXCIgK1xuICAgICAgICAgICAgICAnIG9mZnNldCBmcm9tIGl0cyBjb250YWluaW5nIFZpcnR1YWxpemVkTGlzdC4nLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IHRocmV3IGFuIGVycm9yJyxcbiAgICAgICAgZXJyb3Iuc3RhY2ssXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIF9vbkxheW91dCA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gTmVlZCB0byBhZGp1c3Qgb3VyIHNjcm9sbCBtZXRyaWNzIHRvIGJlIHJlbGF0aXZlIHRvIG91ciBjb250YWluaW5nXG4gICAgICAvLyBWaXJ0dWFsaXplZExpc3QgYmVmb3JlIHdlIGNhbiBtYWtlIGNsYWltcyBhYm91dCBsaXN0IGl0ZW0gdmlld2FiaWxpdHlcbiAgICAgIHRoaXMubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoXG4gICAgICAgIGUubmF0aXZlRXZlbnQubGF5b3V0LFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIHRoaXMuX21heWJlQ2FsbE9uRW5kUmVhY2hlZCgpO1xuICB9O1xuXG4gIF9vbkxheW91dEVtcHR5ID0gKGU6IExheW91dEV2ZW50KSA9PiB7XG4gICAgdGhpcy5wcm9wcy5vbkxheW91dCAmJiB0aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICB9O1xuXG4gIF9nZXRGb290ZXJDZWxsS2V5KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2dldENlbGxLZXkoKSArICctZm9vdGVyJztcbiAgfVxuXG4gIF9vbkxheW91dEZvb3RlciA9IChlOiBMYXlvdXRFdmVudCkgPT4ge1xuICAgIHRoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKHRoaXMuX2dldEZvb3RlckNlbGxLZXkoKSk7XG4gICAgdGhpcy5fZm9vdGVyTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0KTtcbiAgfTtcblxuICBfb25MYXlvdXRIZWFkZXIgPSAoZTogTGF5b3V0RXZlbnQpID0+IHtcbiAgICB0aGlzLl9oZWFkZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIC8vICRGbG93Rml4TWVbbWlzc2luZy1sb2NhbC1hbm5vdF1cbiAgX3JlbmRlckRlYnVnT3ZlcmxheSgpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPVxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC9cbiAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggfHwgMSk7XG4gICAgY29uc3QgZnJhbWVzSW5MYXlvdXQgPSBbXTtcbiAgICBjb25zdCBpdGVtQ291bnQgPSB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpO1xuICAgIGZvciAobGV0IGlpID0gMDsgaWkgPCBpdGVtQ291bnQ7IGlpKyspIHtcbiAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChpaSwgdGhpcy5wcm9wcyk7XG4gICAgICAvKiAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ10gKD49MC42OC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnRcbiAgICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjY4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZVxuICAgICAgICogZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBpZiAoZnJhbWUuaW5MYXlvdXQpIHtcbiAgICAgICAgZnJhbWVzSW5MYXlvdXQucHVzaChmcmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHdpbmRvd1RvcCA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQuZmlyc3QsXG4gICAgICB0aGlzLnByb3BzLFxuICAgICkub2Zmc2V0O1xuICAgIGNvbnN0IGZyYW1lTGFzdCA9IHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3goXG4gICAgICB0aGlzLnN0YXRlLmNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCxcbiAgICAgIHRoaXMucHJvcHMsXG4gICAgKTtcbiAgICBjb25zdCB3aW5kb3dMZW4gPSBmcmFtZUxhc3Qub2Zmc2V0ICsgZnJhbWVMYXN0Lmxlbmd0aCAtIHdpbmRvd1RvcDtcbiAgICBjb25zdCB2aXNUb3AgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICBjb25zdCB2aXNMZW4gPSB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZXMuZGVidWdPdmVybGF5QmFzZSwgc3R5bGVzLmRlYnVnT3ZlcmxheV19PlxuICAgICAgICB7ZnJhbWVzSW5MYXlvdXQubWFwKChmLCBpaSkgPT4gKFxuICAgICAgICAgIDxWaWV3XG4gICAgICAgICAgICBrZXk9eydmJyArIGlpfVxuICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsXG4gICAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRvcDogZi5vZmZzZXQgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBmLmxlbmd0aCAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF19XG4gICAgICAgICAgLz5cbiAgICAgICAgKSl9XG4gICAgICAgIDxWaWV3XG4gICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLFxuICAgICAgICAgICAgc3R5bGVzLmRlYnVnT3ZlcmxheUZyYW1lTGFzdCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiB3aW5kb3dUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogd2luZG93TGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICBzdHlsZXMuZGVidWdPdmVybGF5QmFzZSxcbiAgICAgICAgICAgIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZVZpcyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdG9wOiB2aXNUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogdmlzTGVuICogbm9ybWFsaXplLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH1cblxuICBfc2VsZWN0TGVuZ3RoKFxuICAgIG1ldHJpY3M6ICRSZWFkT25seTx7XG4gICAgICBoZWlnaHQ6IG51bWJlcixcbiAgICAgIHdpZHRoOiBudW1iZXIsXG4gICAgICAuLi5cbiAgICB9PixcbiAgKTogbnVtYmVyIHtcbiAgICByZXR1cm4gIWhvcml6b250YWxPckRlZmF1bHQodGhpcy5wcm9wcy5ob3Jpem9udGFsKVxuICAgICAgPyBtZXRyaWNzLmhlaWdodFxuICAgICAgOiBtZXRyaWNzLndpZHRoO1xuICB9XG5cbiAgX3NlbGVjdE9mZnNldChcbiAgICBtZXRyaWNzOiAkUmVhZE9ubHk8e1xuICAgICAgeDogbnVtYmVyLFxuICAgICAgeTogbnVtYmVyLFxuICAgICAgLi4uXG4gICAgfT4sXG4gICk6IG51bWJlciB7XG4gICAgcmV0dXJuICFob3Jpem9udGFsT3JEZWZhdWx0KHRoaXMucHJvcHMuaG9yaXpvbnRhbCkgPyBtZXRyaWNzLnkgOiBtZXRyaWNzLng7XG4gIH1cblxuICBfbWF5YmVDYWxsT25FbmRSZWFjaGVkKCkge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtQ291bnQsIG9uRW5kUmVhY2hlZCwgb25FbmRSZWFjaGVkVGhyZXNob2xkfSA9XG4gICAgICB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHtjb250ZW50TGVuZ3RoLCB2aXNpYmxlTGVuZ3RoLCBvZmZzZXR9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICBsZXQgZGlzdGFuY2VGcm9tRW5kID0gY29udGVudExlbmd0aCAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG5cbiAgICAvLyBFc3BlY2lhbGx5IHdoZW4gb0VSVCBpcyB6ZXJvIGl0J3MgbmVjZXNzYXJ5IHRvICdmbG9vcicgdmVyeSBzbWFsbCBkaXN0YW5jZUZyb21FbmQgdmFsdWVzIHRvIGJlIDBcbiAgICAvLyBzaW5jZSBkZWJvdW5jaW5nIGNhdXNlcyB1cyB0byBub3QgZmlyZSB0aGlzIGV2ZW50IGZvciBldmVyeSBzaW5nbGUgXCJwaXhlbFwiIHdlIHNjcm9sbCBhbmQgY2FuIHRodXNcbiAgICAvLyBiZSBhdCB0aGUgXCJlbmRcIiBvZiB0aGUgbGlzdCB3aXRoIGEgZGlzdGFuY2VGcm9tRW5kIGFwcHJveGltYXRpbmcgMCBidXQgbm90IHF1aXRlIHRoZXJlLlxuICAgIGlmIChkaXN0YW5jZUZyb21FbmQgPCBPTl9FTkRfUkVBQ0hFRF9FUFNJTE9OKSB7XG4gICAgICBkaXN0YW5jZUZyb21FbmQgPSAwO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFQxMjExNzIxNzIgTG9vayBpbnRvIHdoeSB3ZSdyZSBcImRlZmF1bHRpbmdcIiB0byBhIHRocmVzaG9sZCBvZiAyIHdoZW4gb0VSVCBpcyBub3QgcHJlc2VudFxuICAgIGNvbnN0IHRocmVzaG9sZCA9XG4gICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgIT0gbnVsbCA/IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGggOiAyO1xuICAgIGlmIChcbiAgICAgIG9uRW5kUmVhY2hlZCAmJlxuICAgICAgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0Lmxhc3QgPT09IGdldEl0ZW1Db3VudChkYXRhKSAtIDEgJiZcbiAgICAgIGRpc3RhbmNlRnJvbUVuZCA8PSB0aHJlc2hvbGQgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCAhPT0gdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGhcbiAgICApIHtcbiAgICAgIC8vIE9ubHkgY2FsbCBvbkVuZFJlYWNoZWQgb25jZSBmb3IgYSBnaXZlbiBjb250ZW50IGxlbmd0aFxuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG4gICAgICBvbkVuZFJlYWNoZWQoe2Rpc3RhbmNlRnJvbUVuZH0pO1xuICAgIH0gZWxzZSBpZiAoZGlzdGFuY2VGcm9tRW5kID4gdGhyZXNob2xkKSB7XG4gICAgICAvLyBJZiB0aGUgdXNlciBzY3JvbGxzIGF3YXkgZnJvbSB0aGUgZW5kIGFuZCBiYWNrIGFnYWluIGNhdXNlXG4gICAgICAvLyBhbiBvbkVuZFJlYWNoZWQgdG8gYmUgdHJpZ2dlcmVkIGFnYWluXG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gICAgfVxuICB9XG5cbiAgX29uQ29udGVudFNpemVDaGFuZ2UgPSAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcbiAgICBpZiAoXG4gICAgICB3aWR0aCA+IDAgJiZcbiAgICAgIGhlaWdodCA+IDAgJiZcbiAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ICE9IG51bGwgJiZcbiAgICAgIHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4ID4gMCAmJlxuICAgICAgIXRoaXMuX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4XG4gICAgKSB7XG4gICAgICBpZiAodGhpcy5wcm9wcy5jb250ZW50T2Zmc2V0ID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHtcbiAgICAgICAgICBhbmltYXRlZDogZmFsc2UsXG4gICAgICAgICAgaW5kZXg6IHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhc1RyaWdnZXJlZEluaXRpYWxTY3JvbGxUb0luZGV4ID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoe2hlaWdodCwgd2lkdGh9KTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgfTtcblxuICAvKiBUcmFuc2xhdGVzIG1ldHJpY3MgZnJvbSBhIHNjcm9sbCBldmVudCBpbiBhIHBhcmVudCBWaXJ0dWFsaXplZExpc3QgaW50b1xuICAgKiBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgY2hpbGQgbGlzdC5cbiAgICovXG4gIF9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyA9IChtZXRyaWNzOiB7XG4gICAgdmlzaWJsZUxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICAgIC4uLlxuICB9KTogJEZsb3dGaXhNZSA9PiB7XG4gICAgLy8gT2Zmc2V0IG9mIHRoZSB0b3Agb2YgdGhlIG5lc3RlZCBsaXN0IHJlbGF0aXZlIHRvIHRoZSB0b3Agb2YgaXRzIHBhcmVudCdzIHZpZXdwb3J0XG4gICAgY29uc3Qgb2Zmc2V0ID0gbWV0cmljcy5vZmZzZXQgLSB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0O1xuICAgIC8vIENoaWxkJ3MgdmlzaWJsZSBsZW5ndGggaXMgdGhlIHNhbWUgYXMgaXRzIHBhcmVudCdzXG4gICAgY29uc3QgdmlzaWJsZUxlbmd0aCA9IG1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICBjb25zdCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aDtcblxuICAgIHJldHVybiB7XG4gICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgY29udGVudExlbmd0aCxcbiAgICAgIG9mZnNldCxcbiAgICAgIGRPZmZzZXQsXG4gICAgfTtcbiAgfTtcblxuICBfb25TY3JvbGwgPSAoZTogT2JqZWN0KSA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uU2Nyb2xsKGUpO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2Nyb2xsKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2Nyb2xsKGUpO1xuICAgIH1cbiAgICBjb25zdCB0aW1lc3RhbXAgPSBlLnRpbWVTdGFtcDtcbiAgICBsZXQgdmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dE1lYXN1cmVtZW50KTtcbiAgICBsZXQgY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmNvbnRlbnRTaXplKTtcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KGUubmF0aXZlRXZlbnQuY29udGVudE9mZnNldCk7XG4gICAgbGV0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgaWYgKHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBJZ25vcmUgc2Nyb2xsIGV2ZW50cyB1bnRpbCBvbkxheW91dCBoYXMgYmVlbiBjYWxsZWQgYW5kIHdlXG4gICAgICAgIC8vIGtub3cgb3VyIG9mZnNldCBmcm9tIG91ciBvZmZzZXQgZnJvbSBvdXIgcGFyZW50XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgICh7dmlzaWJsZUxlbmd0aCwgY29udGVudExlbmd0aCwgb2Zmc2V0LCBkT2Zmc2V0fSA9XG4gICAgICAgIHRoaXMuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKHtcbiAgICAgICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGNvbnN0IGR0ID0gdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXBcbiAgICAgID8gTWF0aC5tYXgoMSwgdGltZXN0YW1wIC0gdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXApXG4gICAgICA6IDE7XG4gICAgY29uc3QgdmVsb2NpdHkgPSBkT2Zmc2V0IC8gZHQ7XG5cbiAgICBpZiAoXG4gICAgICBkdCA+IDUwMCAmJlxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCA+IDUwMCAmJlxuICAgICAgY29udGVudExlbmd0aCA+IDUgKiB2aXNpYmxlTGVuZ3RoICYmXG4gICAgICAhdGhpcy5faGFzV2FybmVkLnBlcmZcbiAgICApIHtcbiAgICAgIGluZm9Mb2coXG4gICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFlvdSBoYXZlIGEgbGFyZ2UgbGlzdCB0aGF0IGlzIHNsb3cgdG8gdXBkYXRlIC0gbWFrZSBzdXJlIHlvdXIgJyArXG4gICAgICAgICAgJ3JlbmRlckl0ZW0gZnVuY3Rpb24gcmVuZGVycyBjb21wb25lbnRzIHRoYXQgZm9sbG93IFJlYWN0IHBlcmZvcm1hbmNlIGJlc3QgcHJhY3RpY2VzICcgK1xuICAgICAgICAgICdsaWtlIFB1cmVDb21wb25lbnQsIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgZXRjLicsXG4gICAgICAgIHtkdCwgcHJldkR0OiB0aGlzLl9zY3JvbGxNZXRyaWNzLmR0LCBjb250ZW50TGVuZ3RofSxcbiAgICAgICk7XG4gICAgICB0aGlzLl9oYXNXYXJuZWQucGVyZiA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gRm9yIGludmFsaWQgbmVnYXRpdmUgdmFsdWVzICh3LyBSVEwpLCBzZXQgdGhpcyB0byAxLlxuICAgIGNvbnN0IHpvb21TY2FsZSA9IGUubmF0aXZlRXZlbnQuem9vbVNjYWxlIDwgMCA/IDEgOiBlLm5hdGl2ZUV2ZW50Lnpvb21TY2FsZTtcbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzID0ge1xuICAgICAgY29udGVudExlbmd0aCxcbiAgICAgIGR0LFxuICAgICAgZE9mZnNldCxcbiAgICAgIG9mZnNldCxcbiAgICAgIHRpbWVzdGFtcCxcbiAgICAgIHZlbG9jaXR5LFxuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICAgIHpvb21TY2FsZSxcbiAgICB9O1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcywgdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0KTtcbiAgICBpZiAoIXRoaXMucHJvcHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gICAgaWYgKHZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gIH07XG5cbiAgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpIHtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0O1xuICAgIGNvbnN0IHtvZmZzZXQsIHZpc2libGVMZW5ndGgsIHZlbG9jaXR5fSA9IHRoaXMuX3Njcm9sbE1ldHJpY3M7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBsZXQgaGlQcmkgPSBmYWxzZTtcbiAgICBjb25zdCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBvbkVuZFJlYWNoZWRUaHJlc2hvbGRPckRlZmF1bHQoXG4gICAgICB0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZCxcbiAgICApO1xuICAgIGNvbnN0IHNjcm9sbGluZ1RocmVzaG9sZCA9IChvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoKSAvIDI7XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBzdGFydCBvZiB0aGUgZmlyc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBiZWZvcmUgdGhlIGZpcnN0IHJlbmRlcmVkIGl0ZW1cbiAgICBpZiAoZmlyc3QgPiAwKSB7XG4gICAgICBjb25zdCBkaXN0VG9wID1cbiAgICAgICAgb2Zmc2V0IC0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCwgdGhpcy5wcm9wcykub2Zmc2V0O1xuICAgICAgaGlQcmkgPVxuICAgICAgICBoaVByaSB8fCBkaXN0VG9wIDwgMCB8fCAodmVsb2NpdHkgPCAtMiAmJiBkaXN0VG9wIDwgc2Nyb2xsaW5nVGhyZXNob2xkKTtcbiAgICB9XG4gICAgLy8gTWFyayBhcyBoaWdoIHByaW9yaXR5IGlmIHdlJ3JlIGNsb3NlIHRvIHRoZSBlbmQgb2YgdGhlIGxhc3QgaXRlbVxuICAgIC8vIEJ1dCBvbmx5IGlmIHRoZXJlIGFyZSBpdGVtcyBhZnRlciB0aGUgbGFzdCByZW5kZXJlZCBpdGVtXG4gICAgaWYgKGxhc3QgPj0gMCAmJiBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgY29uc3QgZGlzdEJvdHRvbSA9XG4gICAgICAgIHRoaXMuX19nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdCwgdGhpcy5wcm9wcykub2Zmc2V0IC1cbiAgICAgICAgKG9mZnNldCArIHZpc2libGVMZW5ndGgpO1xuICAgICAgaGlQcmkgPVxuICAgICAgICBoaVByaSB8fFxuICAgICAgICBkaXN0Qm90dG9tIDwgMCB8fFxuICAgICAgICAodmVsb2NpdHkgPiAyICYmIGRpc3RCb3R0b20gPCBzY3JvbGxpbmdUaHJlc2hvbGQpO1xuICAgIH1cbiAgICAvLyBPbmx5IHRyaWdnZXIgaGlnaC1wcmlvcml0eSB1cGRhdGVzIGlmIHdlJ3ZlIGFjdHVhbGx5IHJlbmRlcmVkIGNlbGxzLFxuICAgIC8vIGFuZCB3aXRoIHRoYXQgc2l6ZSBlc3RpbWF0ZSwgYWNjdXJhdGVseSBjb21wdXRlIGhvdyBtYW55IGNlbGxzIHdlIHNob3VsZCByZW5kZXIuXG4gICAgLy8gT3RoZXJ3aXNlLCBpdCB3b3VsZCBqdXN0IHJlbmRlciBhcyBtYW55IGNlbGxzIGFzIGl0IGNhbiAob2YgemVybyBkaW1lbnNpb24pLFxuICAgIC8vIGVhY2ggdGltZSB0aHJvdWdoIGF0dGVtcHRpbmcgdG8gcmVuZGVyIG1vcmUgKGxpbWl0ZWQgYnkgbWF4VG9SZW5kZXJQZXJCYXRjaCksXG4gICAgLy8gc3RhcnZpbmcgdGhlIHJlbmRlcmVyIGZyb20gYWN0dWFsbHkgbGF5aW5nIG91dCB0aGUgb2JqZWN0cyBhbmQgY29tcHV0aW5nIF9hdmVyYWdlQ2VsbExlbmd0aC5cbiAgICAvLyBJZiB0aGlzIGlzIHRyaWdnZXJlZCBpbiBhbiBgY29tcG9uZW50RGlkVXBkYXRlYCBmb2xsb3dlZCBieSBhIGhpUHJpIGNlbGxUb1JlbmRlclVwZGF0ZVxuICAgIC8vIFdlIHNob3VsZG4ndCBkbyBhbm90aGVyIGhpcHJpIGNlbGxUb1JlbmRlclVwZGF0ZVxuICAgIGlmIChcbiAgICAgIGhpUHJpICYmXG4gICAgICAodGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggfHwgdGhpcy5wcm9wcy5nZXRJdGVtTGF5b3V0KSAmJlxuICAgICAgIXRoaXMuX2hpUHJpSW5Qcm9ncmVzc1xuICAgICkge1xuICAgICAgdGhpcy5faGlQcmlJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgIC8vIERvbid0IHdvcnJ5IGFib3V0IGludGVyYWN0aW9ucyB3aGVuIHNjcm9sbGluZyBxdWlja2x5OyBmb2N1cyBvbiBmaWxsaW5nIGNvbnRlbnQgYXMgZmFzdFxuICAgICAgLy8gYXMgcG9zc2libGUuXG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5kaXNwb3NlKHthYm9ydDogdHJ1ZX0pO1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5zY2hlZHVsZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9vblNjcm9sbEJlZ2luRHJhZyA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5faGFzSW50ZXJhY3RlZCA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9O1xuXG4gIF9vblNjcm9sbEVuZERyYWcgPSAoZTogU2Nyb2xsRXZlbnQpOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goY2hpbGRMaXN0ID0+IHtcbiAgICAgIGNoaWxkTGlzdC5fb25TY3JvbGxFbmREcmFnKGUpO1xuICAgIH0pO1xuICAgIGNvbnN0IHt2ZWxvY2l0eX0gPSBlLm5hdGl2ZUV2ZW50O1xuICAgIGlmICh2ZWxvY2l0eSkge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IHRoaXMuX3NlbGVjdE9mZnNldCh2ZWxvY2l0eSk7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgfTtcblxuICBfb25Nb21lbnR1bVNjcm9sbEJlZ2luID0gKGU6IFNjcm9sbEV2ZW50KTogdm9pZCA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QuX29uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgICB9KTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbiAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgfTtcblxuICBfb25Nb21lbnR1bVNjcm9sbEVuZCA9IChlOiBTY3JvbGxFdmVudCk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0Ll9vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICAgIH0pO1xuICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MudmVsb2NpdHkgPSAwO1xuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQgJiYgdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICB9O1xuXG4gIF91cGRhdGVDZWxsc1RvUmVuZGVyID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoKHN0YXRlLCBwcm9wcykgPT4ge1xuICAgICAgY29uc3QgY2VsbHNBcm91bmRWaWV3cG9ydCA9IHRoaXMuX2FkanVzdENlbGxzQXJvdW5kVmlld3BvcnQoXG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlbmRlck1hc2sgPSBWaXJ0dWFsaXplZExpc3QuX2NyZWF0ZVJlbmRlck1hc2soXG4gICAgICAgIHByb3BzLFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LFxuICAgICAgICB0aGlzLl9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMocHJvcHMpLFxuICAgICAgKTtcblxuICAgICAgaWYgKFxuICAgICAgICBjZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ID09PSBzdGF0ZS5jZWxsc0Fyb3VuZFZpZXdwb3J0LmZpcnN0ICYmXG4gICAgICAgIGNlbGxzQXJvdW5kVmlld3BvcnQubGFzdCA9PT0gc3RhdGUuY2VsbHNBcm91bmRWaWV3cG9ydC5sYXN0ICYmXG4gICAgICAgIHJlbmRlck1hc2suZXF1YWxzKHN0YXRlLnJlbmRlck1hc2spXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7Y2VsbHNBcm91bmRWaWV3cG9ydCwgcmVuZGVyTWFza307XG4gICAgfSk7XG4gIH07XG5cbiAgX2NyZWF0ZVZpZXdUb2tlbiA9IChcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGlzVmlld2FibGU6IGJvb2xlYW4sXG4gICAgcHJvcHM6IEZyYW1lTWV0cmljUHJvcHMsXG4gICAgLy8gJEZsb3dGaXhNZVttaXNzaW5nLWxvY2FsLWFubm90XVxuICApID0+IHtcbiAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbX0gPSBwcm9wcztcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluZGV4LFxuICAgICAgaXRlbSxcbiAgICAgIGtleTogdGhpcy5fa2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4LCBwcm9wcyksXG4gICAgICBpc1ZpZXdhYmxlLFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gYXBwcm94aW1hdGUgb2Zmc2V0IHRvIGFuIGl0ZW0gYXQgYSBnaXZlbiBpbmRleC4gU3VwcG9ydHNcbiAgICogZnJhY3Rpb25hbCBpbmRpY2VzLlxuICAgKi9cbiAgX2dldE9mZnNldEFwcHJveCA9IChpbmRleDogbnVtYmVyLCBwcm9wczogRnJhbWVNZXRyaWNQcm9wcyk6IG51bWJlciA9PiB7XG4gICAgaWYgKE51bWJlci5pc0ludGVnZXIoaW5kZXgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChpbmRleCwgcHJvcHMpLm9mZnNldDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZnJhbWVNZXRyaWNzID0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgICAgTWF0aC5mbG9vcihpbmRleCksXG4gICAgICAgIHByb3BzLFxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlbWFpbmRlciA9IGluZGV4IC0gTWF0aC5mbG9vcihpbmRleCk7XG4gICAgICByZXR1cm4gZnJhbWVNZXRyaWNzLm9mZnNldCArIHJlbWFpbmRlciAqIGZyYW1lTWV0cmljcy5sZW5ndGg7XG4gICAgfVxuICB9O1xuXG4gIF9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94OiAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBwcm9wczogRnJhbWVNZXRyaWNQcm9wcyxcbiAgKSA9PiB7XG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgLi4uXG4gIH0gPSAoaW5kZXgsIHByb3BzKSA9PiB7XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3MoaW5kZXgsIHByb3BzKTtcbiAgICBpZiAoZnJhbWUgJiYgZnJhbWUuaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAvLyBjaGVjayBmb3IgaW52YWxpZCBmcmFtZXMgZHVlIHRvIHJvdyByZS1vcmRlcmluZ1xuICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7ZGF0YSwgZ2V0SXRlbUNvdW50LCBnZXRJdGVtTGF5b3V0fSA9IHByb3BzO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBpbmRleCA+PSAwICYmIGluZGV4IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgICAnVHJpZWQgdG8gZ2V0IGZyYW1lIGZvciBvdXQgb2YgcmFuZ2UgaW5kZXggJyArIGluZGV4LFxuICAgICAgKTtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgIWdldEl0ZW1MYXlvdXQsXG4gICAgICAgICdTaG91bGQgbm90IGhhdmUgdG8gZXN0aW1hdGUgZnJhbWVzIHdoZW4gYSBtZWFzdXJlbWVudCBtZXRyaWNzIGZ1bmN0aW9uIGlzIHByb3ZpZGVkJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZW5ndGg6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoLFxuICAgICAgICBvZmZzZXQ6IHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoICogaW5kZXgsXG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBfZ2V0RnJhbWVNZXRyaWNzID0gKFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgcHJvcHM6IEZyYW1lTWV0cmljUHJvcHMsXG4gICk6ID97XG4gICAgbGVuZ3RoOiBudW1iZXIsXG4gICAgb2Zmc2V0OiBudW1iZXIsXG4gICAgaW5kZXg6IG51bWJlcixcbiAgICBpbkxheW91dD86IGJvb2xlYW4sXG4gICAgLi4uXG4gIH0gPT4ge1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtLCBnZXRJdGVtQ291bnQsIGdldEl0ZW1MYXlvdXR9ID0gcHJvcHM7XG4gICAgaW52YXJpYW50KFxuICAgICAgaW5kZXggPj0gMCAmJiBpbmRleCA8IGdldEl0ZW1Db3VudChkYXRhKSxcbiAgICAgICdUcmllZCB0byBnZXQgZnJhbWUgZm9yIG91dCBvZiByYW5nZSBpbmRleCAnICsgaW5kZXgsXG4gICAgKTtcbiAgICBjb25zdCBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgY29uc3QgZnJhbWUgPSBpdGVtICYmIHRoaXMuX2ZyYW1lc1t0aGlzLl9rZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgsIHByb3BzKV07XG4gICAgaWYgKCFmcmFtZSB8fCBmcmFtZS5pbmRleCAhPT0gaW5kZXgpIHtcbiAgICAgIGlmIChnZXRJdGVtTGF5b3V0KSB7XG4gICAgICAgIC8qICRGbG93Rml4TWVbcHJvcC1taXNzaW5nXSAoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudFxuICAgICAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3JcbiAgICAgICAgICogZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICAgIHJldHVybiBnZXRJdGVtTGF5b3V0KGRhdGEsIGluZGV4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZyYW1lO1xuICB9O1xuXG4gIF9nZXROb25WaWV3cG9ydFJlbmRlclJlZ2lvbnMgPSAoXG4gICAgcHJvcHM6IEZyYW1lTWV0cmljUHJvcHMsXG4gICk6ICRSZWFkT25seUFycmF5PHtcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgfT4gPT4ge1xuICAgIC8vIEtlZXAgYSB2aWV3cG9ydCdzIHdvcnRoIG9mIGNvbnRlbnQgYXJvdW5kIHRoZSBsYXN0IGZvY3VzZWQgY2VsbCB0byBhbGxvd1xuICAgIC8vIHJhbmRvbSBuYXZpZ2F0aW9uIGFyb3VuZCBpdCB3aXRob3V0IGFueSBibGFua2luZy4gRS5nLiB0YWJiaW5nIGZyb20gb25lXG4gICAgLy8gZm9jdXNlZCBpdGVtIG91dCBvZiB2aWV3cG9ydCB0byBhbm90aGVyLlxuICAgIGlmIChcbiAgICAgICEodGhpcy5fbGFzdEZvY3VzZWRDZWxsS2V5ICYmIHRoaXMuX2NlbGxSZWZzW3RoaXMuX2xhc3RGb2N1c2VkQ2VsbEtleV0pXG4gICAgKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgbGFzdEZvY3VzZWRDZWxsUmVuZGVyZXIgPSB0aGlzLl9jZWxsUmVmc1t0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXldO1xuICAgIGNvbnN0IGZvY3VzZWRDZWxsSW5kZXggPSBsYXN0Rm9jdXNlZENlbGxSZW5kZXJlci5wcm9wcy5pbmRleDtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBwcm9wcy5nZXRJdGVtQ291bnQocHJvcHMuZGF0YSk7XG5cbiAgICAvLyBUaGUgY2VsbCBtYXkgaGF2ZSBiZWVuIHVubW91bnRlZCBhbmQgaGF2ZSBhIHN0YWxlIGluZGV4XG4gICAgaWYgKFxuICAgICAgZm9jdXNlZENlbGxJbmRleCA+PSBpdGVtQ291bnQgfHxcbiAgICAgIHRoaXMuX2luZGljZXNUb0tleXMuZ2V0KGZvY3VzZWRDZWxsSW5kZXgpICE9PSB0aGlzLl9sYXN0Rm9jdXNlZENlbGxLZXlcbiAgICApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBsZXQgZmlyc3QgPSBmb2N1c2VkQ2VsbEluZGV4O1xuICAgIGxldCBoZWlnaHRPZkNlbGxzQmVmb3JlRm9jdXNlZCA9IDA7XG4gICAgZm9yIChcbiAgICAgIGxldCBpID0gZmlyc3QgLSAxO1xuICAgICAgaSA+PSAwICYmIGhlaWdodE9mQ2VsbHNCZWZvcmVGb2N1c2VkIDwgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgaS0tXG4gICAgKSB7XG4gICAgICBmaXJzdC0tO1xuICAgICAgaGVpZ2h0T2ZDZWxsc0JlZm9yZUZvY3VzZWQgKz0gdGhpcy5fX2dldEZyYW1lTWV0cmljc0FwcHJveChcbiAgICAgICAgaSxcbiAgICAgICAgcHJvcHMsXG4gICAgICApLmxlbmd0aDtcbiAgICB9XG5cbiAgICBsZXQgbGFzdCA9IGZvY3VzZWRDZWxsSW5kZXg7XG4gICAgbGV0IGhlaWdodE9mQ2VsbHNBZnRlckZvY3VzZWQgPSAwO1xuICAgIGZvciAoXG4gICAgICBsZXQgaSA9IGxhc3QgKyAxO1xuICAgICAgaSA8IGl0ZW1Db3VudCAmJlxuICAgICAgaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCA8IHRoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgIGkrK1xuICAgICkge1xuICAgICAgbGFzdCsrO1xuICAgICAgaGVpZ2h0T2ZDZWxsc0FmdGVyRm9jdXNlZCArPSB0aGlzLl9fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KFxuICAgICAgICBpLFxuICAgICAgICBwcm9wcyxcbiAgICAgICkubGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiBbe2ZpcnN0LCBsYXN0fV07XG4gIH07XG5cbiAgX3VwZGF0ZVZpZXdhYmxlSXRlbXMoXG4gICAgcHJvcHM6IEZyYW1lTWV0cmljUHJvcHMsXG4gICAgY2VsbHNBcm91bmRWaWV3cG9ydDoge2ZpcnN0OiBudW1iZXIsIGxhc3Q6IG51bWJlcn0sXG4gICkge1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIub25VcGRhdGUoXG4gICAgICAgIHByb3BzLFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3MsXG4gICAgICAgIHRoaXMuX2NyZWF0ZVZpZXdUb2tlbixcbiAgICAgICAgdHVwbGUub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgY2VsbHNBcm91bmRWaWV3cG9ydCxcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICB2ZXJ0aWNhbGx5SW52ZXJ0ZWQ6IHtcbiAgICB0cmFuc2Zvcm06IFt7c2NhbGVZOiAtMX1dLFxuICB9LFxuICBob3Jpem9udGFsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tzY2FsZVg6IC0xfV0sXG4gIH0sXG4gIGRlYnVnOiB7XG4gICAgZmxleDogMSxcbiAgfSxcbiAgZGVidWdPdmVybGF5QmFzZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMCxcbiAgfSxcbiAgZGVidWdPdmVybGF5OiB7XG4gICAgYm90dG9tOiAwLFxuICAgIHdpZHRoOiAyMCxcbiAgICBib3JkZXJDb2xvcjogJ2JsdWUnLFxuICAgIGJvcmRlcldpZHRoOiAxLFxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZToge1xuICAgIGxlZnQ6IDAsXG4gICAgYmFja2dyb3VuZENvbG9yOiAnb3JhbmdlJyxcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVMYXN0OiB7XG4gICAgbGVmdDogMCxcbiAgICBib3JkZXJDb2xvcjogJ2dyZWVuJyxcbiAgICBib3JkZXJXaWR0aDogMixcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVWaXM6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJvcmRlckNvbG9yOiAncmVkJyxcbiAgICBib3JkZXJXaWR0aDogMixcbiAgfSxcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBdUJBLElBQUFBLGVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFlBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLGNBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLGFBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFdBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFPLE1BQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFRLFFBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLGVBQUEsR0FBQVQsT0FBQTtBQUNBLElBQUFVLG9CQUFBLEdBQUFYLHNCQUFBLENBQUFDLE9BQUE7QUFD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
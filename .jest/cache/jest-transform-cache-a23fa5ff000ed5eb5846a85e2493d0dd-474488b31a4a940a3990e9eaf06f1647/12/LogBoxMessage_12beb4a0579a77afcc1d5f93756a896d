98bdb65890ef3fad797444d665cacd82
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _Text = _interopRequireDefault(require("../../Text/Text"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
var cleanContent = function cleanContent(content) {
  return content.replace(/^(TransformError |Warning: (Warning: )?|Error: )/g, '');
};
function LogBoxMessage(props) {
  var _props$message = props.message,
    content = _props$message.content,
    substitutions = _props$message.substitutions;
  if (props.plaintext === true) {
    return (0, _jsxRuntime.jsx)(_Text.default, {
      children: cleanContent(content)
    });
  }
  var maxLength = props.maxLength != null ? props.maxLength : Infinity;
  var substitutionStyle = props.style;
  var elements = [];
  var length = 0;
  var createUnderLength = function createUnderLength(key, message, style) {
    var cleanMessage = cleanContent(message);
    if (props.maxLength != null) {
      cleanMessage = cleanMessage.slice(0, props.maxLength - length);
    }
    if (length < maxLength) {
      elements.push((0, _jsxRuntime.jsx)(_Text.default, {
        style: style,
        children: cleanMessage
      }, key));
    }
    length += cleanMessage.length;
  };
  var lastOffset = substitutions.reduce(function (prevOffset, substitution, index) {
    var key = String(index);
    if (substitution.offset > prevOffset) {
      var prevPart = content.substr(prevOffset, substitution.offset - prevOffset);
      createUnderLength(key, prevPart);
    }
    var substititionPart = content.substr(substitution.offset, substitution.length);
    createUnderLength(key + '.5', substititionPart, substitutionStyle);
    return substitution.offset + substitution.length;
  }, 0);
  if (lastOffset < content.length) {
    var lastPart = content.substr(lastOffset);
    createUnderLength('-1', lastPart);
  }
  return (0, _jsxRuntime.jsx)(_jsxRuntime.Fragment, {
    children: elements
  });
}
var _default = LogBoxMessage;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVGV4dCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiUmVhY3QiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsIl9qc3hSdW50aW1lIiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwibm9kZUludGVyb3AiLCJXZWFrTWFwIiwiY2FjaGVCYWJlbEludGVyb3AiLCJjYWNoZU5vZGVJbnRlcm9wIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsImNsZWFuQ29udGVudCIsImNvbnRlbnQiLCJyZXBsYWNlIiwiTG9nQm94TWVzc2FnZSIsInByb3BzIiwiX3Byb3BzJG1lc3NhZ2UiLCJtZXNzYWdlIiwic3Vic3RpdHV0aW9ucyIsInBsYWludGV4dCIsImpzeCIsImNoaWxkcmVuIiwibWF4TGVuZ3RoIiwiSW5maW5pdHkiLCJzdWJzdGl0dXRpb25TdHlsZSIsInN0eWxlIiwiZWxlbWVudHMiLCJsZW5ndGgiLCJjcmVhdGVVbmRlckxlbmd0aCIsImNsZWFuTWVzc2FnZSIsInNsaWNlIiwicHVzaCIsImxhc3RPZmZzZXQiLCJyZWR1Y2UiLCJwcmV2T2Zmc2V0Iiwic3Vic3RpdHV0aW9uIiwiaW5kZXgiLCJTdHJpbmciLCJvZmZzZXQiLCJwcmV2UGFydCIsInN1YnN0ciIsInN1YnN0aXRpdGlvblBhcnQiLCJsYXN0UGFydCIsIkZyYWdtZW50IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiTG9nQm94TWVzc2FnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZsb3cgc3RyaWN0LWxvY2FsXG4gKiBAZm9ybWF0XG4gKi9cblxuaW1wb3J0IHR5cGUge1RleHRTdHlsZVByb3B9IGZyb20gJy4uLy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7TWVzc2FnZX0gZnJvbSAnLi4vRGF0YS9wYXJzZUxvZ0JveExvZyc7XG5cbmltcG9ydCBUZXh0IGZyb20gJy4uLy4uL1RleHQvVGV4dCc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbnR5cGUgUHJvcHMgPSB7XG4gIG1lc3NhZ2U6IE1lc3NhZ2UsXG4gIHN0eWxlOiBUZXh0U3R5bGVQcm9wLFxuICBwbGFpbnRleHQ/OiA/Ym9vbGVhbixcbiAgbWF4TGVuZ3RoPzogP251bWJlcixcbiAgLi4uXG59O1xuXG5jb25zdCBjbGVhbkNvbnRlbnQgPSAoY29udGVudDogc3RyaW5nKSA9PlxuICBjb250ZW50LnJlcGxhY2UoL14oVHJhbnNmb3JtRXJyb3IgfFdhcm5pbmc6IChXYXJuaW5nOiApP3xFcnJvcjogKS9nLCAnJyk7XG5cbmZ1bmN0aW9uIExvZ0JveE1lc3NhZ2UocHJvcHM6IFByb3BzKTogUmVhY3QuTm9kZSB7XG4gIGNvbnN0IHtjb250ZW50LCBzdWJzdGl0dXRpb25zfTogTWVzc2FnZSA9IHByb3BzLm1lc3NhZ2U7XG5cbiAgaWYgKHByb3BzLnBsYWludGV4dCA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiA8VGV4dD57Y2xlYW5Db250ZW50KGNvbnRlbnQpfTwvVGV4dD47XG4gIH1cblxuICBjb25zdCBtYXhMZW5ndGggPSBwcm9wcy5tYXhMZW5ndGggIT0gbnVsbCA/IHByb3BzLm1heExlbmd0aCA6IEluZmluaXR5O1xuICBjb25zdCBzdWJzdGl0dXRpb25TdHlsZTogVGV4dFN0eWxlUHJvcCA9IHByb3BzLnN0eWxlO1xuICBjb25zdCBlbGVtZW50cyA9IFtdO1xuICBsZXQgbGVuZ3RoID0gMDtcbiAgY29uc3QgY3JlYXRlVW5kZXJMZW5ndGggPSAoXG4gICAga2V5OiBzdHJpbmcgfCAkVEVNUE9SQVJZJHN0cmluZzwnLTEnPixcbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgc3R5bGU6IHZvaWQgfCBUZXh0U3R5bGVQcm9wLFxuICApID0+IHtcbiAgICBsZXQgY2xlYW5NZXNzYWdlID0gY2xlYW5Db250ZW50KG1lc3NhZ2UpO1xuXG4gICAgaWYgKHByb3BzLm1heExlbmd0aCAhPSBudWxsKSB7XG4gICAgICBjbGVhbk1lc3NhZ2UgPSBjbGVhbk1lc3NhZ2Uuc2xpY2UoMCwgcHJvcHMubWF4TGVuZ3RoIC0gbGVuZ3RoKTtcbiAgICB9XG5cbiAgICBpZiAobGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICBlbGVtZW50cy5wdXNoKFxuICAgICAgICA8VGV4dCBrZXk9e2tleX0gc3R5bGU9e3N0eWxlfT5cbiAgICAgICAgICB7Y2xlYW5NZXNzYWdlfVxuICAgICAgICA8L1RleHQ+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBsZW5ndGggKz0gY2xlYW5NZXNzYWdlLmxlbmd0aDtcbiAgfTtcblxuICBjb25zdCBsYXN0T2Zmc2V0ID0gc3Vic3RpdHV0aW9ucy5yZWR1Y2UoKHByZXZPZmZzZXQsIHN1YnN0aXR1dGlvbiwgaW5kZXgpID0+IHtcbiAgICBjb25zdCBrZXkgPSBTdHJpbmcoaW5kZXgpO1xuXG4gICAgaWYgKHN1YnN0aXR1dGlvbi5vZmZzZXQgPiBwcmV2T2Zmc2V0KSB7XG4gICAgICBjb25zdCBwcmV2UGFydCA9IGNvbnRlbnQuc3Vic3RyKFxuICAgICAgICBwcmV2T2Zmc2V0LFxuICAgICAgICBzdWJzdGl0dXRpb24ub2Zmc2V0IC0gcHJldk9mZnNldCxcbiAgICAgICk7XG5cbiAgICAgIGNyZWF0ZVVuZGVyTGVuZ3RoKGtleSwgcHJldlBhcnQpO1xuICAgIH1cblxuICAgIGNvbnN0IHN1YnN0aXRpdGlvblBhcnQgPSBjb250ZW50LnN1YnN0cihcbiAgICAgIHN1YnN0aXR1dGlvbi5vZmZzZXQsXG4gICAgICBzdWJzdGl0dXRpb24ubGVuZ3RoLFxuICAgICk7XG5cbiAgICBjcmVhdGVVbmRlckxlbmd0aChrZXkgKyAnLjUnLCBzdWJzdGl0aXRpb25QYXJ0LCBzdWJzdGl0dXRpb25TdHlsZSk7XG4gICAgcmV0dXJuIHN1YnN0aXR1dGlvbi5vZmZzZXQgKyBzdWJzdGl0dXRpb24ubGVuZ3RoO1xuICB9LCAwKTtcblxuICBpZiAobGFzdE9mZnNldCA8IGNvbnRlbnQubGVuZ3RoKSB7XG4gICAgY29uc3QgbGFzdFBhcnQgPSBjb250ZW50LnN1YnN0cihsYXN0T2Zmc2V0KTtcbiAgICBjcmVhdGVVbmRlckxlbmd0aCgnLTEnLCBsYXN0UGFydCk7XG4gIH1cblxuICByZXR1cm4gPD57ZWxlbWVudHN9PC8+O1xufVxuXG5leHBvcnQgZGVmYXVsdCBMb2dCb3hNZXNzYWdlO1xuIl0sIm1hcHBpbmdzIjoiOzs7OztBQWFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUMsdUJBQUEsQ0FBQUYsT0FBQTtBQUErQixJQUFBRyxXQUFBLEdBQUFILE9BQUE7QUFBQSxTQUFBSSx5QkFBQUMsV0FBQSxlQUFBQyxPQUFBLGtDQUFBQyxpQkFBQSxPQUFBRCxPQUFBLFFBQUFFLGdCQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEseUJBQUFDLFdBQUEsV0FBQUEsV0FBQSxHQUFBRyxnQkFBQSxHQUFBRCxpQkFBQSxLQUFBRixXQUFBO0FBQUEsU0FBQUgsd0JBQUFPLEdBQUEsRUFBQUosV0FBQSxTQUFBQSxXQUFBLElBQUFJLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLFdBQUFELEdBQUEsUUFBQUEsR0FBQSxvQkFBQUEsR0FBQSx3QkFBQUEsR0FB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
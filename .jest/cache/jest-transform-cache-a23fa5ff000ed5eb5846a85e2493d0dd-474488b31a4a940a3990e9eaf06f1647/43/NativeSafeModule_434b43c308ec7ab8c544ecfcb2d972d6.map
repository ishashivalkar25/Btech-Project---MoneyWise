{"version":3,"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_templateObject","_taggedTemplateLiteral","_templateObject2","_templateObject3","_templateObject4","_reactNative","require","_dedent","_dedent2","_interopRequireDefault","obj","__esModule","default","strings","raw","freeze","defineProperties","value","UNMOCKED_PROPERTY_WHITELIST","VERSION","addListener","removeListeners","eventEmitterMock","first","array","fn","result","moduleWithName","nameOrArray","Array","isArray","NativeModules","getPrimaryName","getModule","moduleNameOrNames","mock","isEventEmitter","module","defaultGetVersion","create","SafeModuleCreate","options","Error","moduleName","versionOverrides","getVersion","MODULE_NAME","version","__DEV__","keys","forEach","console","warn","emitter","NativeEventEmitter","overrides","boundOverrides","exports"],"sources":["NativeSafeModule.js"],"sourcesContent":["var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _templateObject=_taggedTemplateLiteral(['\\n      SafeModule.module(...) was invoked without any options parameter.\\n    '],['\\n      SafeModule.module(...) was invoked without any options parameter.\\n    ']),_templateObject2=_taggedTemplateLiteral(['\\n      SafeModule.module(...) requires a moduleName property to be specified.\\n    '],['\\n      SafeModule.module(...) requires a moduleName property to be specified.\\n    ']),_templateObject3=_taggedTemplateLiteral(['\\n      Missing a \"mock\" parameter.\\n    '],['\\n      Missing a \"mock\" parameter.\\n    ']),_templateObject4=_taggedTemplateLiteral(['\\n          ReactNative.NativeModules.','.',' did not have a corresponding prop defined\\n          in the mock provided to SafeModule.\\n        '],['\\n          ReactNative.NativeModules.','.',' did not have a corresponding prop defined\\n          in the mock provided to SafeModule.\\n        ']);var _reactNative=require('react-native');\nvar _dedent=require('dedent');var _dedent2=_interopRequireDefault(_dedent);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _taggedTemplateLiteral(strings,raw){return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar hasOwnProperty=Object.prototype.hasOwnProperty;\n\nvar UNMOCKED_PROPERTY_WHITELIST={\nVERSION:true,\naddListener:true,\nremoveListeners:true};\n\n\nvar eventEmitterMock={\naddListener:function addListener(){},\nremoveListeners:function removeListeners(){}};\n\n\nvar first=function first(array,fn){\nvar result=void 0;\nvar i=0;\n\nfor(;i<array.length;i++){\nresult=fn(array[i]);\nif(result)return result;\n}\nreturn null;\n};\n\nvar moduleWithName=function moduleWithName(nameOrArray){\nif(!nameOrArray)return null;\nif(Array.isArray(nameOrArray))return first(nameOrArray,moduleWithName);\nreturn _reactNative.NativeModules[nameOrArray];\n};\n\nvar getPrimaryName=function getPrimaryName(nameOrArray){\nreturn Array.isArray(nameOrArray)?getPrimaryName(nameOrArray[0]):nameOrArray;\n};\n\nvar getModule=function getModule(moduleNameOrNames,mock,isEventEmitter){\nvar module=moduleWithName(moduleNameOrNames);\n\nif(module)return module;\n\n\n\nif(isEventEmitter)return _extends({},mock,eventEmitterMock);\nreturn mock;\n};\n\nvar defaultGetVersion=function defaultGetVersion(module){return module.VERSION;};\n\n\nvar create=function SafeModuleCreate(options){\nif(!options){\nthrow new Error((0,_dedent2.default)(_templateObject));\n\n\n}var\n\nmoduleName=\n\n\n\noptions.moduleName,mock=options.mock,isEventEmitter=options.isEventEmitter,versionOverrides=options.versionOverrides;var\n\ngetVersion=\noptions.getVersion;\n\nif(!getVersion){\ngetVersion=defaultGetVersion;\n}\n\nif(!moduleName){\nthrow new Error((0,_dedent2.default)(_templateObject2));\n\n\n}\nvar MODULE_NAME=getPrimaryName(moduleName);\n\nif(!mock){\nthrow new Error((0,_dedent2.default)(_templateObject3));\n\n\n}\n\nvar result={};\n\nvar module=getModule(moduleName,mock,isEventEmitter);\nvar version=getVersion(module);\n\nif(__DEV__){\nObject.keys(module).forEach(function(key){\nif(!hasOwnProperty.call(mock,key)&&!UNMOCKED_PROPERTY_WHITELIST[key]){\nconsole.warn((0,_dedent2.default)(_templateObject4,\nMODULE_NAME,key));\n\n\n}\n});\n}\n\nif(isEventEmitter){\n\nresult.emitter=new _reactNative.NativeEventEmitter(module);\n}\n\nvar overrides=void 0;\nvar boundOverrides=void 0;\nif(versionOverrides){\noverrides=versionOverrides[version];\nboundOverrides={};\nif(overrides){\nObject.keys(overrides).forEach(function(key){\nif(typeof overrides[key]==='function'){\nboundOverrides[key]=overrides[key](module[key],module);\n}else{\nboundOverrides[key]=overrides[key];\n}\n});\n}\n}\n\n_extends(\nresult,\nmock,\nmodule,\nboundOverrides);\n\n\nreturn result;\n};\n\nmodule.exports=create;"],"mappings":"AAAA,IAAIA,QAAQ,GAACC,MAAM,CAACC,MAAM,IAAE,UAASC,MAAM,EAAC;EAAC,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACC,SAAS,CAACC,MAAM,EAACF,CAAC,EAAE,EAAC;IAAC,IAAIG,MAAM,GAACF,SAAS,CAACD,CAAC,CAAC;IAAC,KAAI,IAAII,GAAG,IAAID,MAAM,EAAC;MAAC,IAAGN,MAAM,CAACQ,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,MAAM,EAACC,GAAG,CAAC,EAAC;QAACL,MAAM,CAACK,GAAG,CAAC,GAACD,MAAM,CAACC,GAAG,CAAC;MAAC;IAAC;EAAC;EAAC,OAAOL,MAAM;AAAC,CAAC;AAAC,IAAIS,eAAe,GAACC,sBAAsB,CAAC,CAAC,iFAAiF,CAAC,EAAC,CAAC,iFAAiF,CAAC,CAAC;EAACC,gBAAgB,GAACD,sBAAsB,CAAC,CAAC,sFAAsF,CAAC,EAAC,CAAC,sFAAsF,CAAC,CAAC;EAACE,gBAAgB,GAACF,sBAAsB,CAAC,CAAC,2CAA2C,CAAC,EAAC,CAAC,2CAA2C,CAAC,CAAC;EAACG,gBAAgB,GAACH,sBAAsB,CAAC,CAAC,wCAAwC,EAAC,GAAG,EAAC,qGAAqG,CAAC,EAAC,CAAC,wCAAwC,EAAC,GAAG,EAAC,qGAAqG,CAAC,CAAC;AAAC,IAAII,YAAY,GAACC,OAAO,CAAC,cAAc,CAAC;AAC/oC,IAAIC,OAAO,GAACD,OAAO,CAAC,QAAQ,CAAC;AAAC,IAAIE,QAAQ,GAACC,sBAAsB,CAACF,OAAO,CAAC;AAAC,SAASE,sBAAsBA,CAACC,GAAG,EAAC;EAAC,OAAOA,GAAG,IAAEA,GAAG,CAACC,UAAU,GAACD,GAAG,GAAC;IAACE,OAAO,EAACF;EAAG,CAAC;AAAC;AAAC,SAAST,sBAAsBA,CAACY,OAAO,EAACC,GAAG,EAAC;EAAC,OAAOzB,MAAM,CAAC0B,MAAM,CAAC1B,MAAM,CAAC2B,gBAAgB,CAACH,OAAO,EAAC;IAACC,GAAG,EAAC;MAACG,KAAK,EAAC5B,MAAM,CAAC0B,MAAM,CAACD,GAAG;IAAC;EAAC,CAAC,CAAC,CAAC;AAAC;AAyBnS,IAAIhB,cAAc,GAACT,MAAM,CAACQ,SAAS,CAACC,cAAc;AAElD,IAAIoB,2BAA2B,GAAC;EAChCC,OAAO,EAAC,IAAI;EACZC,WAAW,EAAC,IAAI;EAChBC,eAAe,EAAC;AAAI,CAAC;AAGrB,IAAIC,gBAAgB,GAAC;EACrBF,WAAW,EAAC,SAASA,WAAWA,CAAA,EAAE,CAAC,CAAC;EACpCC,eAAe,EAAC,SAASA,eAAeA,CAAA,EAAE,CAAC;AAAC,CAAC;AAG7C,IAAIE,KAAK,GAAC,SAASA,KAAKA,CAACC,KAAK,EAACC,EAAE,EAAC;EAClC,IAAIC,MAAM,GAAC,KAAK,CAAC;EACjB,IAAIlC,CAAC,GAAC,CAAC;EAEP,OAAKA,CAAC,GAACgC,KAAK,CAAC9B,MAAM,EAACF,CAAC,EAAE,EAAC;IACxBkC,MAAM,GAACD,EAAE,CAACD,KAAK,CAAChC,CAAC,CAAC,CAAC;IACnB,IAAGkC,MAAM,EAAC,OAAOA,MAAM;EACvB;EACA,OAAO,IAAI;AACX,CAAC;AAED,IAAIC,cAAc,GAAC,SAASA,cAAcA,CAACC,WAAW,EAAC;EACvD,IAAG,CAACA,WAAW,EAAC,OAAO,IAAI;EAC3B,IAAGC,KAAK,CAACC,OAAO,CAACF,WAAW,CAAC,EAAC,OAAOL,KAAK,CAACK,WAAW,EAACD,cAAc,CAAC;EACtE,OAAOtB,YAAY,CAAC0B,aAAa,CAACH,WAAW,CAAC;AAC9C,CAAC;AAED,IAAII,cAAc,GAAC,SAASA,cAAcA,CAACJ,WAAW,EAAC;EACvD,OAAOC,KAAK,CAACC,OAAO,CAACF,WAAW,CAAC,GAACI,cAAc,CAACJ,WAAW,CAAC,CAAC,CAAC,CAAC,GAACA,WAAW;AAC5E,CAAC;AAED,IAAIK,SAAS,GAAC,SAASA,SAASA,CAACC,iBAAiB,EAACC,IAAI,EAACC,cAAc,EAAC;EACvE,IAAIC,MAAM,GAACV,cAAc,CAACO,iBAAiB,CAAC;EAE5C,IAAGG,MAAM,EAAC,OAAOA,MAAM;EAIvB,IAAGD,cAAc,EAAC,OAAOhD,QAAQ,CAAC,CAAC,CAAC,EAAC+C,IAAI,EAACb,gBAAgB,CAAC;EAC3D,OAAOa,IAAI;AACX,CAAC;AAED,IAAIG,iBAAiB,GAAC,SAASA,iBAAiBA,CAACD,MAAM,EAAC;EAAC,OAAOA,MAAM,CAAClB,OAAO;AAAC,CAAC;AAGhF,IAAIoB,MAAM,GAAC,SAASC,gBAAgBA,CAACC,OAAO,EAAC;EAC7C,IAAG,CAACA,OAAO,EAAC;IACZ,MAAM,IAAIC,KAAK,CAAC,CAAC,CAAC,EAAClC,QAAQ,CAACI,OAAO,EAAEZ,eAAe,CAAC,CAAC;EAGtD;EAAC,IAED2C,UAAU,GAIVF,OAAO,CAACE,UAAU;IAACR,IAAI,GAACM,OAAO,CAACN,IAAI;IAACC,cAAc,GAACK,OAAO,CAACL,cAAc;IAACQ,gBAAgB,GAACH,OAAO,CAACG,gBAAgB;EAAC,IAErHC,UAAU,GACVJ,OAAO,CAACI,UAAU;EAElB,IAAG,CAACA,UAAU,EAAC;IACfA,UAAU,GAACP,iBAAiB;EAC5B;EAEA,IAAG,CAACK,UAAU,EAAC;IACf,MAAM,IAAID,KAAK,CAAC,CAAC,CAAC,EAAClC,QAAQ,CAACI,OAAO,EAAEV,gBAAgB,CAAC,CAAC;EAGvD;EACA,IAAI4C,WAAW,GAACd,cAAc,CAACW,UAAU,CAAC;EAE1C,IAAG,CAACR,IAAI,EAAC;IACT,MAAM,IAAIO,KAAK,CAAC,CAAC,CAAC,EAAClC,QAAQ,CAACI,OAAO,EAAET,gBAAgB,CAAC,CAAC;EAGvD;EAEA,IAAIuB,MAAM,GAAC,CAAC,CAAC;EAEb,IAAIW,MAAM,GAACJ,SAAS,CAACU,UAAU,EAACR,IAAI,EAACC,cAAc,CAAC;EACpD,IAAIW,OAAO,GAACF,UAAU,CAACR,MAAM,CAAC;EAE9B,IAAGW,OAAO,EAAC;IACX3D,MAAM,CAAC4D,IAAI,CAACZ,MAAM,CAAC,CAACa,OAAO,CAAC,UAAStD,GAAG,EAAC;MACzC,IAAG,CAACE,cAAc,CAACC,IAAI,CAACoC,IAAI,EAACvC,GAAG,CAAC,IAAE,CAACsB,2BAA2B,CAACtB,GAAG,CAAC,EAAC;QACrEuD,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,EAAC5C,QAAQ,CAACI,OAAO,EAAER,gBAAgB,EAClD0C,WAAW,EAAClD,GAAG,CAAC,CAAC;MAGjB;IACA,CAAC,CAAC;EACF;EAEA,IAAGwC,cAAc,EAAC;IAElBV,MAAM,CAAC2B,OAAO,GAAC,IAAIhD,YAAY,CAACiD,kBAAkB,CAACjB,MAAM,CAAC;EAC1D;EAEA,IAAIkB,SAAS,GAAC,KAAK,CAAC;EACpB,IAAIC,cAAc,GAAC,KAAK,CAAC;EACzB,IAAGZ,gBAAgB,EAAC;IACpBW,SAAS,GAACX,gBAAgB,CAACG,OAAO,CAAC;IACnCS,cAAc,GAAC,CAAC,CAAC;IACjB,IAAGD,SAAS,EAAC;MACblE,MAAM,CAAC4D,IAAI,CAACM,SAAS,CAAC,CAACL,OAAO,CAAC,UAAStD,GAAG,EAAC;QAC5C,IAAG,OAAO2D,SAAS,CAAC3D,GAAG,CAAC,KAAG,UAAU,EAAC;UACtC4D,cAAc,CAAC5D,GAAG,CAAC,GAAC2D,SAAS,CAAC3D,GAAG,CAAC,CAACyC,MAAM,CAACzC,GAAG,CAAC,EAACyC,MAAM,CAAC;QACtD,CAAC,MAAI;UACLmB,cAAc,CAAC5D,GAAG,CAAC,GAAC2D,SAAS,CAAC3D,GAAG,CAAC;QAClC;MACA,CAAC,CAAC;IACF;EACA;EAEAR,QAAQ,CACRsC,MAAM,EACNS,IAAI,EACJE,MAAM,EACNmB,cAAc,CAAC;EAGf,OAAO9B,MAAM;AACb,CAAC;AAEDW,MAAM,CAACoB,OAAO,GAAClB,MAAM"}